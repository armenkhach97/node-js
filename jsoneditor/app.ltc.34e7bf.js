var ao=(Xn,Pi,Ze)=>new Promise((lo,q)=>{var v=M=>{try{P(Ze.next(M))}catch(L){q(L)}},k=M=>{try{P(Ze.throw(M))}catch(L){q(L)}},P=M=>M.done?lo(M.value):Promise.resolve(M.value).then(v,k);P((Ze=Ze.apply(Xn,Pi)).next())});(()=>{var Xn={744:function(q,v,k){"use strict";var P=this&&this.__rest||function(_,p){var g={};for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&p.indexOf(C)<0&&(g[C]=_[C]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,C=Object.getOwnPropertySymbols(_);O<C.length;O++)p.indexOf(C[O])<0&&Object.prototype.propertyIsEnumerable.call(_,C[O])&&(g[C[O]]=_[C[O]]);return g};Object.defineProperty(v,"__esModule",{value:!0}),v.store=v.PERSISTENCY_KEY=void 0;const M=k(9328);v.PERSISTENCY_KEY="MSW_COOKIE_STORE";function L(){try{return localStorage==null?!1:(localStorage.setItem("test","test"),localStorage.getItem("test"),!0)}catch(_){return!1}}class h{constructor(){this.store=new Map}add(p,g){if(p.credentials==="omit")return;const C=new URL(p.url),O=g.headers.get("set-cookie");if(!O)return;const R=Date.now(),V=M.parse(O).map(I=>{var{maxAge:F}=I,U=P(I,["maxAge"]);return Object.assign(Object.assign({},U),{expires:F===void 0?U.expires:new Date(R+F*1e3),maxAge:F})}),w=this.store.get(C.origin)||new Map;V.forEach(I=>{this.store.set(C.origin,w.set(I.name,I))})}get(p){this.deleteExpiredCookies();const g=new URL(p.url),C=this.store.get(g.origin)||new Map;switch(p.credentials){case"include":return M.parse(document.cookie).forEach(R=>{C.set(R.name,R)}),C;case"same-origin":return C;default:return new Map}}getAll(){return this.deleteExpiredCookies(),this.store}deleteAll(p){const g=new URL(p.url);this.store.delete(g.origin)}clear(){this.store.clear()}hydrate(){if(!L())return;const p=localStorage.getItem(v.PERSISTENCY_KEY);if(!!p)try{JSON.parse(p).forEach(([C,O])=>{this.store.set(C,new Map(O.map(R=>{var[V,w]=R,{expires:I}=w,F=P(w,["expires"]);return[V,I===void 0?F:Object.assign(Object.assign({},F),{expires:new Date(I)})]})))})}catch(g){console.warn(`
[virtual-cookie] Failed to parse a stored cookie from the localStorage (key "${v.PERSISTENCY_KEY}").

Stored value:
${localStorage.getItem(v.PERSISTENCY_KEY)}

Thrown exception:
${g}

Invalid value has been removed from localStorage to prevent subsequent failed parsing attempts.`),localStorage.removeItem(v.PERSISTENCY_KEY)}}persist(){if(!L())return;const p=Array.from(this.store.entries()).map(([g,C])=>[g,Array.from(C.entries())]);localStorage.setItem(v.PERSISTENCY_KEY,JSON.stringify(p))}deleteExpiredCookies(){const p=Date.now();this.store.forEach((g,C)=>{g.forEach(({expires:O,name:R})=>{O!==void 0&&O.getTime()<=p&&g.delete(R)}),g.size===0&&this.store.delete(C)})}}v.store=new h},8612:function(q,v,k){"use strict";var P=this&&this.__createBinding||(Object.create?function(L,h,_,p){p===void 0&&(p=_),Object.defineProperty(L,p,{enumerable:!0,get:function(){return h[_]}})}:function(L,h,_,p){p===void 0&&(p=_),L[p]=h[_]}),M=this&&this.__exportStar||function(L,h){for(var _ in L)_!=="default"&&!Object.prototype.hasOwnProperty.call(h,_)&&P(h,L,_)};Object.defineProperty(v,"__esModule",{value:!0}),M(k(744),v)},2924:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.createInterceptor=void 0;var P=k(8533);function M(L){var h=new P.StrictEventEmitter,_=[];return{apply:function(){_=L.modules.map(function(p){return p(h,L.resolver)})},on:function(p,g){h.addListener(p,g)},restore:function(){if(h.removeAllListeners(),_.length===0)throw new Error('Failed to restore patched modules: no patches found. Did you forget to run ".apply()"?');_.forEach(function(p){return p()})}}}v.createInterceptor=M},2247:function(q,v,k){"use strict";var P=this&&this.__createBinding||(Object.create?function(h,_,p,g){g===void 0&&(g=p),Object.defineProperty(h,g,{enumerable:!0,get:function(){return _[p]}})}:function(h,_,p,g){g===void 0&&(g=p),h[g]=_[p]}),M=this&&this.__exportStar||function(h,_){for(var p in h)p!=="default"&&!Object.prototype.hasOwnProperty.call(_,p)&&P(_,h,p)};Object.defineProperty(v,"__esModule",{value:!0}),v.getCleanUrl=void 0,M(k(2924),v),M(k(7912),v);var L=k(7941);Object.defineProperty(v,"getCleanUrl",{enumerable:!0,get:function(){return L.getCleanUrl}})},7551:function(q,v,k){"use strict";var P=this&&this.__awaiter||function(U,G,x,W){function S(b){return b instanceof x?b:new x(function(j){j(b)})}return new(x||(x=Promise))(function(b,j){function N(te){try{B(W.next(te))}catch(H){j(H)}}function T(te){try{B(W.throw(te))}catch(H){j(H)}}function B(te){te.done?b(te.value):S(te.value).then(N,T)}B((W=W.apply(U,G||[])).next())})},M=this&&this.__generator||function(U,G){var x={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},W,S,b,j;return j={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function N(B){return function(te){return T([B,te])}}function T(B){if(W)throw new TypeError("Generator is already executing.");for(;x;)try{if(W=1,S&&(b=B[0]&2?S.return:B[0]?S.throw||((b=S.return)&&b.call(S),0):S.next)&&!(b=b.call(S,B[1])).done)return b;switch(S=0,b&&(B=[B[0]&2,b.value]),B[0]){case 0:case 1:b=B;break;case 4:return x.label++,{value:B[1],done:!1};case 5:x.label++,S=B[1],B=[0];continue;case 7:B=x.ops.pop(),x.trys.pop();continue;default:if(b=x.trys,!(b=b.length>0&&b[b.length-1])&&(B[0]===6||B[0]===2)){x=0;continue}if(B[0]===3&&(!b||B[1]>b[0]&&B[1]<b[3])){x.label=B[1];break}if(B[0]===6&&x.label<b[1]){x.label=b[1],b=B;break}if(b&&x.label<b[2]){x.label=b[2],x.ops.push(B);break}b[2]&&x.ops.pop(),x.trys.pop();continue}B=G.call(U,x)}catch(te){B=[6,te],S=0}finally{W=b=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}},L=this&&this.__values||function(U){var G=typeof Symbol=="function"&&Symbol.iterator,x=G&&U[G],W=0;if(x)return x.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&W>=U.length&&(U=void 0),{value:U&&U[W++],done:!U}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")},h=this&&this.__read||function(U,G){var x=typeof Symbol=="function"&&U[Symbol.iterator];if(!x)return U;var W=x.call(U),S,b=[],j;try{for(;(G===void 0||G-- >0)&&!(S=W.next()).done;)b.push(S.value)}catch(N){j={error:N}}finally{try{S&&!S.done&&(x=W.return)&&x.call(W)}finally{if(j)throw j.error}}return b};Object.defineProperty(v,"__esModule",{value:!0}),v.createXMLHttpRequestOverride=void 0;var _=k(864),p=k(6142),g=k(3969),C=k(6523),O=k(2464),R=k(8949),V=k(8566),w=k(7245),I=k(4887),F=function(U){var G,x=U.pureXMLHttpRequest,W=U.observer,S=U.resolver,b=I("XHR");return G=function(){function j(){this._events=[],this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.onreadystatechange=null,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.ontimeout=null,this.url="",this.method="GET",this.readyState=this.UNSENT,this.withCredentials=!1,this.status=200,this.statusText="OK",this.data="",this.response="",this.responseType="text",this.responseText="",this.responseXML=null,this.responseURL="",this.upload=null,this.timeout=0,this._requestHeaders=new p.Headers,this._responseHeaders=new p.Headers}return j.prototype.setReadyState=function(N){N!==this.readyState&&(b("readyState change %d -> %d",this.readyState,N),this.readyState=N,N!==this.UNSENT&&(b("triggerring readystate change..."),this.trigger("readystatechange")))},j.prototype.trigger=function(N,T){var B,te;b('trigger "%s" (%d)',N,this.readyState),b('resolve listener for event "%s"',N);var H=this["on"+N];H==null||H.call(this,w.createEvent(this,N,T));try{for(var J=L(this._events),ne=J.next();!ne.done;ne=J.next()){var oe=ne.value;oe.name===N&&(b('calling mock event listener "%s" (%d)',N,this.readyState),oe.listener.call(this,w.createEvent(this,N,T)))}}catch(ae){B={error:ae}}finally{try{ne&&!ne.done&&(te=J.return)&&te.call(J)}finally{if(B)throw B.error}}return this},j.prototype.reset=function(){b("reset"),this.setReadyState(this.UNSENT),this.status=200,this.statusText="OK",this.data="",this.response=null,this.responseText=null,this.responseXML=null,this._requestHeaders=new p.Headers,this._responseHeaders=new p.Headers},j.prototype.open=function(N,T,B,te,H){return B===void 0&&(B=!0),P(this,void 0,void 0,function(){return M(this,function(J){return b=I("XHR "+N+" "+T),b("open",{method:N,url:T,async:B,user:te,password:H}),this.reset(),this.setReadyState(this.OPENED),typeof T=="undefined"?(this.url=N,this.method="GET"):(this.url=T,this.method=N,this.async=B,this.user=te,this.password=H),[2]})})},j.prototype.send=function(N){var T=this;b("send %s %s",this.method,this.url),this.data=N||"";var B;try{B=new URL(this.url)}catch(H){B=new URL(this.url,window.location.href)}b("request headers",this._requestHeaders);var te={id:R.uuidv4(),url:B,method:this.method,body:this.data,headers:this._requestHeaders};W.emit("request",te),b("awaiting mocked response..."),Promise.resolve(_.until(function(){return P(T,void 0,void 0,function(){return M(this,function(H){return[2,S(te,this)]})})})).then(function(H){var J,ne=h(H,2),oe=ne[0],ae=ne[1];if(oe){b("middleware function threw an exception!",oe),T.trigger("error"),T.abort();return}if(ae){if(b("received mocked response",ae),T.trigger("loadstart"),T.status=ae.status||200,T.statusText=ae.statusText||"OK",T._responseHeaders=ae.headers?p.objectToHeaders(ae.headers):new p.Headers,b("set response status",T.status,T.statusText),b("set response headers",T._responseHeaders),T.setReadyState(T.HEADERS_RECEIVED),b("response type",T.responseType),T.response=T.getResponseBody(ae.body),T.responseText=ae.body||"",T.responseXML=T.getResponseXML(),b("set response body",T.response),ae.body&&T.response){T.setReadyState(T.LOADING);var ge=V.bufferFrom(ae.body);T.trigger("progress",{loaded:ge.length,total:ge.length})}T.setReadyState(T.DONE),T.trigger("load"),T.trigger("loadend"),W.emit("response",te,O.toIsoResponse(ae))}else{b("no mocked response received!");var le=new x;b("opening an original request %s %s",T.method,T.url),le.open(T.method,T.url,(J=T.async)!==null&&J!==void 0?J:!0,T.user,T.password),le.addEventListener("load",function(){b('original "onload"'),T.status=le.status,T.statusText=le.statusText,T.responseURL=le.responseURL,T.responseType=le.responseType,T.response=le.response,T.responseText=le.responseText,T.responseXML=le.responseXML,b("set mock request readyState to DONE"),T.setReadyState(T.DONE),b("received original response",T.status,T.statusText),b("original response body:",T.response);var he=le.getAllResponseHeaders();b(`original response headers:
`,he),T._responseHeaders=p.stringToHeaders(he),b("original response headers (normalized)",T._responseHeaders),b("original response finished"),W.emit("response",te,{status:le.status,statusText:le.statusText,headers:T._responseHeaders,body:le.response})}),T.propagateCallbacks(le),T.propagateListeners(le),T.propagateHeaders(le,T._requestHeaders),T.async&&(le.timeout=T.timeout),b("send",T.data),le.send(T.data)}})},j.prototype.abort=function(){b("abort"),this.readyState>this.UNSENT&&this.readyState<this.DONE&&(this.setReadyState(this.UNSENT),this.trigger("abort"))},j.prototype.dispatchEvent=function(){return!1},j.prototype.setRequestHeader=function(N,T){b('set request header "%s" to "%s"',N,T),this._requestHeaders.append(N,T)},j.prototype.getResponseHeader=function(N){if(b('get response header "%s"',N),this.readyState<this.HEADERS_RECEIVED)return b("cannot return a header: headers not received (state: %s)",this.readyState),null;var T=this._responseHeaders.get(N);return b('resolved response header "%s" to "%s"',N,T,this._responseHeaders),T},j.prototype.getAllResponseHeaders=function(){return b("get all response headers"),this.readyState<this.HEADERS_RECEIVED?(b("cannot return headers: headers not received (state: %s)",this.readyState),""):p.headersToString(this._responseHeaders)},j.prototype.addEventListener=function(N,T){b("addEventListener",N,T),this._events.push({name:N,listener:T})},j.prototype.removeEventListener=function(N,T){b("removeEventListener",N,T),this._events=this._events.filter(function(B){return B.name!==N&&B.listener!==T})},j.prototype.overrideMimeType=function(){},j.prototype.getResponseBody=function(N){var T=N!=null?N:"";switch(b("coerced response body to",T),this.responseType){case"json":return b("resolving response body as JSON"),C.parseJson(T);case"blob":{var B=this.getResponseHeader("content-type")||"text/plain";return b("resolving response body as Blob",{type:B}),new Blob([T],{type:B})}case"arraybuffer":{b("resolving response body as ArrayBuffer");var te=V.bufferFrom(T);return te}default:return T}},j.prototype.getResponseXML=function(){var N=this.getResponseHeader("Content-Type");return N==="application/xml"||N==="text/xml"?new g.DOMParser().parseFromString(this.responseText,N):null},j.prototype.propagateCallbacks=function(N){N.onabort=this.abort,N.onerror=this.onerror,N.ontimeout=this.ontimeout,N.onload=this.onload,N.onloadstart=this.onloadstart,N.onloadend=this.onloadend,N.onprogress=this.onprogress,N.onreadystatechange=this.onreadystatechange},j.prototype.propagateListeners=function(N){b("propagating request listeners (%d) to the original request",this._events.length,this._events),this._events.forEach(function(T){var B=T.name,te=T.listener;N.addEventListener(B,te)})},j.prototype.propagateHeaders=function(N,T){b("propagating request headers to the original request",T),Object.entries(T.raw()).forEach(function(B){var te=h(B,2),H=te[0],J=te[1];b('setting "%s" (%s) header on the original request',H,J),N.setRequestHeader(H,J)})},j}(),G.UNSENT=0,G.OPENED=1,G.HEADERS_RECEIVED=2,G.LOADING=3,G.DONE=4,G};v.createXMLHttpRequestOverride=F},6237:(q,v,k)=>{"use strict";var P;P={value:!0},v.T=void 0;var M=k(7551),L=k(4887)("XHR"),h=typeof window=="undefined"?void 0:window.XMLHttpRequest,_=function(p,g){if(h){L('patching "XMLHttpRequest" module...');var C=M.createXMLHttpRequestOverride({pureXMLHttpRequest:h,observer:p,resolver:g});window.XMLHttpRequest=C}return function(){h&&(L("restoring modules..."),window.XMLHttpRequest=h)}};v.T=_},3261:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.EventPolyfill=void 0;var k=function(){function P(M,L){this.AT_TARGET=0,this.BUBBLING_PHASE=0,this.CAPTURING_PHASE=0,this.NONE=0,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=M,this.target=(L==null?void 0:L.target)||null,this.currentTarget=(L==null?void 0:L.currentTarget)||null,this.timeStamp=Date.now()}return P.prototype.composedPath=function(){return[]},P.prototype.initEvent=function(M,L,h){this.type=M,this.bubbles=!!L,this.cancelable=!!h},P.prototype.preventDefault=function(){this.defaultPrevented=!0},P.prototype.stopPropagation=function(){},P.prototype.stopImmediatePropagation=function(){},P}();v.EventPolyfill=k},8534:function(q,v,k){"use strict";var P=this&&this.__extends||function(){var h=function(_,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,C){g.__proto__=C}||function(g,C){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(g[O]=C[O])},h(_,p)};return function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(_,p);function g(){this.constructor=_}_.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(v,"__esModule",{value:!0}),v.ProgressEventPolyfill=void 0;var M=k(3261),L=function(h){P(_,h);function _(p,g){var C=h.call(this,p)||this;return C.lengthComputable=(g==null?void 0:g.lengthComputable)||!1,C.composed=(g==null?void 0:g.composed)||!1,C.loaded=(g==null?void 0:g.loaded)||0,C.total=(g==null?void 0:g.total)||0,C}return _}(M.EventPolyfill);v.ProgressEventPolyfill=L},8566:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.bufferFrom=void 0;function k(P){var M=encodeURIComponent(P),L=M.replace(/%([0-9A-F]{2})/g,function(_,p){return String.fromCharCode("0x"+p)}),h=new Uint8Array(L.length);return Array.prototype.forEach.call(L,function(_,p){h[p]=_.charCodeAt(0)}),h}v.bufferFrom=k},7245:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.createEvent=void 0;var P=k(3261),M=k(8534),L=typeof ProgressEvent!="undefined";function h(_,p,g){var C=["error","progress","loadstart","loadend","load","timeout","abort"],O=L?ProgressEvent:M.ProgressEventPolyfill,R=C.includes(p)?new O(p,{lengthComputable:!0,loaded:(g==null?void 0:g.loaded)||0,total:(g==null?void 0:g.total)||0}):new P.EventPolyfill(p,{target:_,currentTarget:_});return R}v.createEvent=h},5344:function(q,v,k){"use strict";var P=this&&this.__assign||function(){return P=Object.assign||function(R){for(var V,w=1,I=arguments.length;w<I;w++){V=arguments[w];for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(R[F]=V[F])}return R},P.apply(this,arguments)},M=this&&this.__awaiter||function(R,V,w,I){function F(U){return U instanceof w?U:new w(function(G){G(U)})}return new(w||(w=Promise))(function(U,G){function x(b){try{S(I.next(b))}catch(j){G(j)}}function W(b){try{S(I.throw(b))}catch(j){G(j)}}function S(b){b.done?U(b.value):F(b.value).then(x,W)}S((I=I.apply(R,V||[])).next())})},L=this&&this.__generator||function(R,V){var w={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},I,F,U,G;return G={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function x(S){return function(b){return W([S,b])}}function W(S){if(I)throw new TypeError("Generator is already executing.");for(;w;)try{if(I=1,F&&(U=S[0]&2?F.return:S[0]?F.throw||((U=F.return)&&U.call(F),0):F.next)&&!(U=U.call(F,S[1])).done)return U;switch(F=0,U&&(S=[S[0]&2,U.value]),S[0]){case 0:case 1:U=S;break;case 4:return w.label++,{value:S[1],done:!1};case 5:w.label++,F=S[1],S=[0];continue;case 7:S=w.ops.pop(),w.trys.pop();continue;default:if(U=w.trys,!(U=U.length>0&&U[U.length-1])&&(S[0]===6||S[0]===2)){w=0;continue}if(S[0]===3&&(!U||S[1]>U[0]&&S[1]<U[3])){w.label=S[1];break}if(S[0]===6&&w.label<U[1]){w.label=U[1],U=S;break}if(U&&w.label<U[2]){w.label=U[2],w.ops.push(S);break}U[2]&&w.ops.pop(),w.trys.pop();continue}S=V.call(R,w)}catch(b){S=[6,b],F=0}finally{I=U=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(v,"__esModule",{value:!0}),v.interceptFetch=void 0;var h=k(6142),_=k(2464),p=k(8949),g=k(4887)("fetch"),C=function(R,V){var w=window.fetch;return g('replacing "window.fetch"...'),window.fetch=function(I,F){return M(void 0,void 0,void 0,function(){var U,G,x,W,S,b,j;return L(this,function(N){switch(N.label){case 0:return U=new Request(I,F),G=typeof I=="string"?I:I.url,x=(F==null?void 0:F.method)||"GET",g("[%s] %s",x,G),j={id:p.uuidv4(),url:new URL(G,location.origin),method:x,headers:new h.Headers((F==null?void 0:F.headers)||{})},[4,U.text()];case 1:return W=(j.body=N.sent(),j),g("isomorphic request",W),R.emit("request",W),g("awaiting for the mocked response..."),[4,V(W,U)];case 2:return S=N.sent(),g("mocked response",S),S?(b=_.toIsoResponse(S),g("derived isomorphic response",b),R.emit("response",W,b),[2,new Response(S.body,P(P({},b),{headers:h.flattenHeadersObject(S.headers||{})}))]):(g("no mocked response found, bypassing..."),[2,w(I,F).then(function(T){return M(void 0,void 0,void 0,function(){var B,te,H,J;return L(this,function(ne){switch(ne.label){case 0:return B=T.clone(),g("original fetch performed",B),H=(te=R).emit,J=["response",W],[4,O(B)];case 1:return H.apply(te,J.concat([ne.sent()])),[2,T]}})})})])}})})},function(){g("restoring modules..."),window.fetch=w}};v.interceptFetch=C;function O(R){return M(this,void 0,void 0,function(){var V;return L(this,function(w){switch(w.label){case 0:return V={status:R.status,statusText:R.statusText,headers:h.objectToHeaders(h.headersToObject(R.headers))},[4,R.text()];case 1:return[2,(V.body=w.sent(),V)]}})})}},7912:function(q,v,k){"use strict";var P=this&&this.__assign||function(){return P=Object.assign||function(I){for(var F,U=1,G=arguments.length;U<G;U++){F=arguments[U];for(var x in F)Object.prototype.hasOwnProperty.call(F,x)&&(I[x]=F[x])}return I},P.apply(this,arguments)},M=this&&this.__awaiter||function(I,F,U,G){function x(W){return W instanceof U?W:new U(function(S){S(W)})}return new(U||(U=Promise))(function(W,S){function b(T){try{N(G.next(T))}catch(B){S(B)}}function j(T){try{N(G.throw(T))}catch(B){S(B)}}function N(T){T.done?W(T.value):x(T.value).then(b,j)}N((G=G.apply(I,F||[])).next())})},L=this&&this.__generator||function(I,F){var U={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},G,x,W,S;return S={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function b(N){return function(T){return j([N,T])}}function j(N){if(G)throw new TypeError("Generator is already executing.");for(;U;)try{if(G=1,x&&(W=N[0]&2?x.return:N[0]?x.throw||((W=x.return)&&W.call(x),0):x.next)&&!(W=W.call(x,N[1])).done)return W;switch(x=0,W&&(N=[N[0]&2,W.value]),N[0]){case 0:case 1:W=N;break;case 4:return U.label++,{value:N[1],done:!1};case 5:U.label++,x=N[1],N=[0];continue;case 7:N=U.ops.pop(),U.trys.pop();continue;default:if(W=U.trys,!(W=W.length>0&&W[W.length-1])&&(N[0]===6||N[0]===2)){U=0;continue}if(N[0]===3&&(!W||N[1]>W[0]&&N[1]<W[3])){U.label=N[1];break}if(N[0]===6&&U.label<W[1]){U.label=W[1],W=N;break}if(W&&U.label<W[2]){U.label=W[2],U.ops.push(N);break}W[2]&&U.ops.pop(),U.trys.pop();continue}N=F.call(I,U)}catch(T){N=[6,T],x=0}finally{G=W=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},h=this&&this.__read||function(I,F){var U=typeof Symbol=="function"&&I[Symbol.iterator];if(!U)return I;var G=U.call(I),x,W=[],S;try{for(;(F===void 0||F-- >0)&&!(x=G.next()).done;)W.push(x.value)}catch(b){S={error:b}}finally{try{x&&!x.done&&(U=G.return)&&U.call(G)}finally{if(S)throw S.error}}return W};Object.defineProperty(v,"__esModule",{value:!0}),v.createRemoteResolver=v.createRemoteInterceptor=void 0;var _=k(6142),p=k(8987),g=k(8533),C=k(2924),O=k(2464);function R(I,F){switch(I){case"url":return new URL(F);case"headers":return new _.Headers(F);default:return F}}function V(I){if(p.invariant(process.connected,"Failed to create a remote interceptor: the current process (%s) does not have a parent. Please make sure you're spawning this process as a child process in order to use remote request interception.",process.pid),typeof process.send=="undefined")throw new Error("Failed to create a remote interceptor: the current process ("+process.pid+`) does not have the IPC enabled. Please make sure you're spawning this process with the "ipc" stdio value set:

spawn('node', ['module.js'], { stdio: ['ipc'] })`);var F,U=C.createInterceptor(P(P({},I),{resolver:function(G){var x,W=JSON.stringify(G);return(x=process.send)===null||x===void 0||x.call(process,"request:"+W),new Promise(function(S){F=function(b){if(typeof b=="string"&&b.startsWith("response:"+G.id)){var j=h(b.match(/^response:.+?:(.+)$/)||[],2),N=j[1];if(!N)return S();var T=JSON.parse(N);return S(T)}},process.addListener("message",F)})}}));return P(P({},U),{restore:function(){U.restore(),process.removeListener("message",F)}})}v.createRemoteInterceptor=V;function w(I){var F=this,U=new g.StrictEventEmitter,G=function(W){return M(F,void 0,void 0,function(){var S,b,j,N,T;return L(this,function(B){switch(B.label){case 0:return typeof W!="string"?[2]:W.startsWith("request:")?(S=h(W.match(/^request:(.+)$/)||[],2),b=S[1],b?(j=JSON.parse(b,R),U.emit("request",j),[4,I.resolver(j,void 0)]):[2]):[3,2];case 1:N=B.sent(),T=JSON.stringify(N),I.process.send("response:"+j.id+":"+T,function(te){te||N&&U.emit("response",j,O.toIsoResponse(N))}),B.label=2;case 2:return[2]}})})},x=function(){I.process.removeListener("message",G)};return I.process.addListener("message",G),I.process.addListener("disconnect",x),I.process.addListener("error",x),I.process.addListener("exit",x),{on:function(W,S){U.addListener(W,S)}}}v.createRemoteResolver=w},7941:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.getCleanUrl=void 0;function k(P,M){return M===void 0&&(M=!0),[M&&P.origin,P.pathname].filter(Boolean).join("")}v.getCleanUrl=k},6523:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.parseJson=void 0;function k(P){try{var M=JSON.parse(P);return M}catch(L){return null}}v.parseJson=k},2464:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.toIsoResponse=void 0;var P=k(6142);function M(L){return{status:L.status||200,statusText:L.statusText||"OK",headers:P.objectToHeaders(L.headers||{}),body:L.body}}v.toIsoResponse=M},8949:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.uuidv4=void 0;function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(P){var M=Math.random()*16|0,L=P=="x"?M:M&3|8;return L.toString(16)})}v.uuidv4=k},4887:(q,v,k)=>{v.formatArgs=M,v.save=L,v.load=h,v.useColors=P,v.storage=_(),v.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),v.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function P(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function M(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+q.exports.humanize(this.diff),!this.useColors)return;const C="color: "+this.color;g.splice(1,0,C,"color: inherit");let O=0,R=0;g[0].replace(/%[a-zA-Z%]/g,V=>{V!=="%%"&&(O++,V==="%c"&&(R=O))}),g.splice(R,0,C)}v.log=console.debug||console.log||(()=>{});function L(g){try{g?v.storage.setItem("debug",g):v.storage.removeItem("debug")}catch(C){}}function h(){let g;try{g=v.storage.getItem("debug")}catch(C){}return!g&&typeof process!="undefined"&&"env"in process&&(g=process.env.DEBUG),g}function _(){try{return localStorage}catch(g){}}q.exports=k(1501)(v);const{formatters:p}=q.exports;p.j=function(g){try{return JSON.stringify(g)}catch(C){return"[UnexpectedJSONParseError]: "+C.message}}},1501:(q,v,k)=>{function P(M){h.debug=h,h.default=h,h.coerce=R,h.disable=g,h.enable=p,h.enabled=C,h.humanize=k(7824),h.destroy=V,Object.keys(M).forEach(w=>{h[w]=M[w]}),h.names=[],h.skips=[],h.formatters={};function L(w){let I=0;for(let F=0;F<w.length;F++)I=(I<<5)-I+w.charCodeAt(F),I|=0;return h.colors[Math.abs(I)%h.colors.length]}h.selectColor=L;function h(w){let I,F=null,U,G;function x(...W){if(!x.enabled)return;const S=x,b=Number(new Date),j=b-(I||b);S.diff=j,S.prev=I,S.curr=b,I=b,W[0]=h.coerce(W[0]),typeof W[0]!="string"&&W.unshift("%O");let N=0;W[0]=W[0].replace(/%([a-zA-Z%])/g,(B,te)=>{if(B==="%%")return"%";N++;const H=h.formatters[te];if(typeof H=="function"){const J=W[N];B=H.call(S,J),W.splice(N,1),N--}return B}),h.formatArgs.call(S,W),(S.log||h.log).apply(S,W)}return x.namespace=w,x.useColors=h.useColors(),x.color=h.selectColor(w),x.extend=_,x.destroy=h.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>F!==null?F:(U!==h.namespaces&&(U=h.namespaces,G=h.enabled(w)),G),set:W=>{F=W}}),typeof h.init=="function"&&h.init(x),x}function _(w,I){const F=h(this.namespace+(typeof I=="undefined"?":":I)+w);return F.log=this.log,F}function p(w){h.save(w),h.namespaces=w,h.names=[],h.skips=[];let I;const F=(typeof w=="string"?w:"").split(/[\s,]+/),U=F.length;for(I=0;I<U;I++)!F[I]||(w=F[I].replace(/\*/g,".*?"),w[0]==="-"?h.skips.push(new RegExp("^"+w.substr(1)+"$")):h.names.push(new RegExp("^"+w+"$")))}function g(){const w=[...h.names.map(O),...h.skips.map(O).map(I=>"-"+I)].join(",");return h.enable(""),w}function C(w){if(w[w.length-1]==="*")return!0;let I,F;for(I=0,F=h.skips.length;I<F;I++)if(h.skips[I].test(w))return!1;for(I=0,F=h.names.length;I<F;I++)if(h.names[I].test(w))return!0;return!1}function O(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function R(w){return w instanceof Error?w.stack||w.message:w}function V(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return h.enable(h.load()),h}q.exports=P},864:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});var P=k(8257);v.until=P.until},8257:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.until=k=>ao(this,null,function*(){try{const P=yield k().catch(M=>{throw M});return[null,P]}catch(P){return[P,null]}})},2167:(q,v)=>{"use strict";function k(L,h){return h===void 0&&(h=Object),h&&typeof h.freeze=="function"?h.freeze(L):L}var P=k({HTML:"text/html",isHTML:function(L){return L===P.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),M=k({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(L){return L===M.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});v.freeze=k,v.MIME_TYPE=P,v.NAMESPACE=M},6129:(q,v,k)=>{var P,M=k(2167),L=k(1146),h=k(1045),_=k(6925),p=L.DOMImplementation,g=M.NAMESPACE,C=_.ParseError,O=_.XMLReader;function R(x){this.options=x||{locator:{}}}R.prototype.parseFromString=function(x,W){var S=this.options,b=new O,j=S.domBuilder||new w,N=S.errorHandler,T=S.locator,B=S.xmlns||{},te=/\/x?html?$/.test(W),H=te?h.HTML_ENTITIES:h.XML_ENTITIES;return T&&j.setDocumentLocator(T),b.errorHandler=V(N,j,T),b.domBuilder=S.domBuilder||j,te&&(B[""]=g.HTML),B.xml=B.xml||g.XML,x&&typeof x=="string"?b.parse(x,B,H):b.errorHandler.error("invalid doc source"),j.doc};function V(x,W,S){if(!x){if(W instanceof w)return W;x=W}var b={},j=x instanceof Function;S=S||{};function N(T){var B=x[T];!B&&j&&(B=x.length==2?function(te){x(T,te)}:x),b[T]=B&&function(te){B("[xmldom "+T+"]	"+te+F(S))}||function(){}}return N("warning"),N("error"),N("fatalError"),b}function w(){this.cdata=!1}function I(x,W){W.lineNumber=x.lineNumber,W.columnNumber=x.columnNumber}w.prototype={startDocument:function(){this.doc=new p().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(x,W,S,b){var j=this.doc,N=j.createElementNS(x,S||W),T=b.length;G(this,N),this.currentElement=N,this.locator&&I(this.locator,N);for(var B=0;B<T;B++){var x=b.getURI(B),te=b.getValue(B),S=b.getQName(B),H=j.createAttributeNS(x,S);this.locator&&I(b.getLocator(B),H),H.value=H.nodeValue=te,N.setAttributeNode(H)}},endElement:function(x,W,S){var b=this.currentElement,j=b.tagName;this.currentElement=b.parentNode},startPrefixMapping:function(x,W){},endPrefixMapping:function(x){},processingInstruction:function(x,W){var S=this.doc.createProcessingInstruction(x,W);this.locator&&I(this.locator,S),G(this,S)},ignorableWhitespace:function(x,W,S){},characters:function(x,W,S){if(x=U.apply(this,arguments),x){if(this.cdata)var b=this.doc.createCDATASection(x);else var b=this.doc.createTextNode(x);this.currentElement?this.currentElement.appendChild(b):/^\s*$/.test(x)&&this.doc.appendChild(b),this.locator&&I(this.locator,b)}},skippedEntity:function(x){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(x){(this.locator=x)&&(x.lineNumber=0)},comment:function(x,W,S){x=U.apply(this,arguments);var b=this.doc.createComment(x);this.locator&&I(this.locator,b),G(this,b)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(x,W,S){var b=this.doc.implementation;if(b&&b.createDocumentType){var j=b.createDocumentType(x,W,S);this.locator&&I(this.locator,j),G(this,j),this.doc.doctype=j}},warning:function(x){console.warn("[xmldom warning]	"+x,F(this.locator))},error:function(x){console.error("[xmldom error]	"+x,F(this.locator))},fatalError:function(x){throw new C(x,this.locator)}};function F(x){if(x)return`
@`+(x.systemId||"")+"#[line:"+x.lineNumber+",col:"+x.columnNumber+"]"}function U(x,W,S){return typeof x=="string"?x.substr(W,S):x.length>=W+S||W?new java.lang.String(x,W,S)+"":x}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(x){w.prototype[x]=function(){return null}});function G(x,W){x.currentElement?x.currentElement.appendChild(W):x.doc.appendChild(W)}P=w,v.DOMParser=R,P=L.DOMImplementation,P=L.XMLSerializer},1146:(q,v,k)=>{var P=k(2167),M=P.NAMESPACE;function L(d){return d!==""}function h(d){return d?d.split(/[\t\n\f\r ]+/).filter(L):[]}function _(d,f){return d.hasOwnProperty(f)||(d[f]=!0),d}function p(d){if(!d)return[];var f=h(d);return Object.keys(f.reduce(_,{}))}function g(d){return function(f){return d&&d.indexOf(f)!==-1}}function C(d,f){for(var D in d)f[D]=d[D]}function O(d,f){var D=d.prototype;if(!(D instanceof f)){let re=function(){};var K=re;re.prototype=f.prototype,re=new re,C(D,re),d.prototype=D=re}D.constructor!=d&&(typeof d!="function"&&console.error("unknown Class:"+d),D.constructor=d)}var R={},V=R.ELEMENT_NODE=1,w=R.ATTRIBUTE_NODE=2,I=R.TEXT_NODE=3,F=R.CDATA_SECTION_NODE=4,U=R.ENTITY_REFERENCE_NODE=5,G=R.ENTITY_NODE=6,x=R.PROCESSING_INSTRUCTION_NODE=7,W=R.COMMENT_NODE=8,S=R.DOCUMENT_NODE=9,b=R.DOCUMENT_TYPE_NODE=10,j=R.DOCUMENT_FRAGMENT_NODE=11,N=R.NOTATION_NODE=12,T={},B={},te=T.INDEX_SIZE_ERR=(B[1]="Index size error",1),H=T.DOMSTRING_SIZE_ERR=(B[2]="DOMString size error",2),J=T.HIERARCHY_REQUEST_ERR=(B[3]="Hierarchy request error",3),ne=T.WRONG_DOCUMENT_ERR=(B[4]="Wrong document",4),oe=T.INVALID_CHARACTER_ERR=(B[5]="Invalid character",5),ae=T.NO_DATA_ALLOWED_ERR=(B[6]="No data allowed",6),ge=T.NO_MODIFICATION_ALLOWED_ERR=(B[7]="No modification allowed",7),le=T.NOT_FOUND_ERR=(B[8]="Not found",8),he=T.NOT_SUPPORTED_ERR=(B[9]="Not supported",9),fe=T.INUSE_ATTRIBUTE_ERR=(B[10]="Attribute in use",10),pe=T.INVALID_STATE_ERR=(B[11]="Invalid state",11),ue=T.SYNTAX_ERR=(B[12]="Syntax error",12),ze=T.INVALID_MODIFICATION_ERR=(B[13]="Invalid modification",13),Re=T.NAMESPACE_ERR=(B[14]="Invalid namespace",14),He=T.INVALID_ACCESS_ERR=(B[15]="Invalid access",15);function Je(d,f){if(f instanceof Error)var D=f;else D=this,Error.call(this,B[d]),this.message=B[d],Error.captureStackTrace&&Error.captureStackTrace(this,Je);return D.code=d,f&&(this.message=this.message+": "+f),D}Je.prototype=Error.prototype,C(T,Je);function we(){}we.prototype={length:0,item:function(d){return this[d]||null},toString:function(d,f){for(var D=[],K=0;K<this.length;K++)hr(this[K],D,d,f);return D.join("")}};function Pe(d,f){this._node=d,this._refresh=f,yt(this)}function yt(d){var f=d._node._inc||d._node.ownerDocument._inc;if(d._inc!=f){var D=d._refresh(d._node);Ar(d,"length",D.length),C(D,d),d._inc=f}}Pe.prototype.item=function(d){return yt(this),this[d]},O(Pe,we);function De(){}function Ne(d,f){for(var D=d.length;D--;)if(d[D]===f)return D}function dt(d,f,D,K){if(K?f[Ne(f,K)]=D:f[f.length++]=D,d){D.ownerElement=d;var re=d.ownerDocument;re&&(K&&at(re,d,K),Fe(re,d,D))}}function Pr(d,f,D){var K=Ne(f,D);if(K>=0){for(var re=f.length-1;K<re;)f[K]=f[++K];if(f.length=re,d){var Ee=d.ownerDocument;Ee&&(at(Ee,d,D),D.ownerElement=null)}}else throw Je(le,new Error(d.tagName+"@"+D))}De.prototype={length:0,item:we.prototype.item,getNamedItem:function(d){for(var f=this.length;f--;){var D=this[f];if(D.nodeName==d)return D}},setNamedItem:function(d){var f=d.ownerElement;if(f&&f!=this._ownerElement)throw new Je(fe);var D=this.getNamedItem(d.nodeName);return dt(this._ownerElement,this,d,D),D},setNamedItemNS:function(d){var f=d.ownerElement,D;if(f&&f!=this._ownerElement)throw new Je(fe);return D=this.getNamedItemNS(d.namespaceURI,d.localName),dt(this._ownerElement,this,d,D),D},removeNamedItem:function(d){var f=this.getNamedItem(d);return Pr(this._ownerElement,this,f),f},removeNamedItemNS:function(d,f){var D=this.getNamedItemNS(d,f);return Pr(this._ownerElement,this,D),D},getNamedItemNS:function(d,f){for(var D=this.length;D--;){var K=this[D];if(K.localName==f&&K.namespaceURI==d)return K}return null}};function cr(){}cr.prototype={hasFeature:function(d,f){return!0},createDocument:function(d,f,D){var K=new bt;if(K.implementation=this,K.childNodes=new we,K.doctype=D||null,D&&K.appendChild(D),f){var re=K.createElementNS(d,f);K.appendChild(re)}return K},createDocumentType:function(d,f,D){var K=new Pt;return K.name=d,K.nodeName=d,K.publicId=f||"",K.systemId=D||"",K}};function Ye(){}Ye.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(d,f){return _e(this,d,f)},replaceChild:function(d,f){this.insertBefore(d,f),f&&this.removeChild(f)},removeChild:function(d){return Ut(this,d)},appendChild:function(d){return this.insertBefore(d,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(d){return $t(this.ownerDocument||this,this,d)},normalize:function(){for(var d=this.firstChild;d;){var f=d.nextSibling;f&&f.nodeType==I&&d.nodeType==I?(this.removeChild(f),d.appendData(f.data)):(d.normalize(),d=f)}},isSupported:function(d,f){return this.ownerDocument.implementation.hasFeature(d,f)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(d){for(var f=this;f;){var D=f._nsMap;if(D){for(var K in D)if(D[K]==d)return K}f=f.nodeType==w?f.ownerDocument:f.parentNode}return null},lookupNamespaceURI:function(d){for(var f=this;f;){var D=f._nsMap;if(D&&d in D)return D[d];f=f.nodeType==w?f.ownerDocument:f.parentNode}return null},isDefaultNamespace:function(d){var f=this.lookupPrefix(d);return f==null}};function Dr(d){return d=="<"&&"&lt;"||d==">"&&"&gt;"||d=="&"&&"&amp;"||d=='"'&&"&quot;"||"&#"+d.charCodeAt()+";"}C(R,Ye),C(R,Ye.prototype);function We(d,f){if(f(d))return!0;if(d=d.firstChild)do if(We(d,f))return!0;while(d=d.nextSibling)}function bt(){}function Fe(d,f,D){d&&d._inc++;var K=D.namespaceURI;K===M.XMLNS&&(f._nsMap[D.prefix?D.localName:""]=D.value)}function at(d,f,D,K){d&&d._inc++;var re=D.namespaceURI;re===M.XMLNS&&delete f._nsMap[D.prefix?D.localName:""]}function qe(d,f,D){if(d&&d._inc){d._inc++;var K=f.childNodes;if(D)K[K.length++]=D;else{for(var re=f.firstChild,Ee=0;re;)K[Ee++]=re,re=re.nextSibling;K.length=Ee}}}function Ut(d,f){var D=f.previousSibling,K=f.nextSibling;return D?D.nextSibling=K:d.firstChild=K,K?K.previousSibling=D:d.lastChild=D,qe(d.ownerDocument,d),f}function _e(d,f,D){var K=f.parentNode;if(K&&K.removeChild(f),f.nodeType===j){var re=f.firstChild;if(re==null)return f;var Ee=f.lastChild}else re=Ee=f;var Ce=D?D.previousSibling:d.lastChild;re.previousSibling=Ce,Ee.nextSibling=D,Ce?Ce.nextSibling=re:d.firstChild=re,D==null?d.lastChild=Ee:D.previousSibling=Ee;do re.parentNode=d;while(re!==Ee&&(re=re.nextSibling));return qe(d.ownerDocument||d,d),f.nodeType==j&&(f.firstChild=f.lastChild=null),f}function Me(d,f){var D=f.parentNode;if(D){var K=d.lastChild;D.removeChild(f);var K=d.lastChild}var K=d.lastChild;return f.parentNode=d,f.previousSibling=K,f.nextSibling=null,K?K.nextSibling=f:d.firstChild=f,d.lastChild=f,qe(d.ownerDocument,d,f),f}bt.prototype={nodeName:"#document",nodeType:S,doctype:null,documentElement:null,_inc:1,insertBefore:function(d,f){if(d.nodeType==j){for(var D=d.firstChild;D;){var K=D.nextSibling;this.insertBefore(D,f),D=K}return d}return this.documentElement==null&&d.nodeType==V&&(this.documentElement=d),_e(this,d,f),d.ownerDocument=this,d},removeChild:function(d){return this.documentElement==d&&(this.documentElement=null),Ut(this,d)},importNode:function(d,f){return Ii(this,d,f)},getElementById:function(d){var f=null;return We(this.documentElement,function(D){if(D.nodeType==V&&D.getAttribute("id")==d)return f=D,!0}),f},getElementsByClassName:function(d){var f=p(d);return new Pe(this,function(D){var K=[];return f.length>0&&We(D.documentElement,function(re){if(re!==D&&re.nodeType===V){var Ee=re.getAttribute("class");if(Ee){var Ce=d===Ee;if(!Ce){var Ot=p(Ee);Ce=f.every(g(Ot))}Ce&&K.push(re)}}}),K})},createElement:function(d){var f=new je;f.ownerDocument=this,f.nodeName=d,f.tagName=d,f.localName=d,f.childNodes=new we;var D=f.attributes=new De;return D._ownerElement=f,f},createDocumentFragment:function(){var d=new tr;return d.ownerDocument=this,d.childNodes=new we,d},createTextNode:function(d){var f=new rt;return f.ownerDocument=this,f.appendData(d),f},createComment:function(d){var f=new Vt;return f.ownerDocument=this,f.appendData(d),f},createCDATASection:function(d){var f=new Jr;return f.ownerDocument=this,f.appendData(d),f},createProcessingInstruction:function(d,f){var D=new Ir;return D.ownerDocument=this,D.tagName=D.target=d,D.nodeValue=D.data=f,D},createAttribute:function(d){var f=new Zt;return f.ownerDocument=this,f.name=d,f.nodeName=d,f.localName=d,f.specified=!0,f},createEntityReference:function(d){var f=new dr;return f.ownerDocument=this,f.nodeName=d,f},createElementNS:function(d,f){var D=new je,K=f.split(":"),re=D.attributes=new De;return D.childNodes=new we,D.ownerDocument=this,D.nodeName=f,D.tagName=f,D.namespaceURI=d,K.length==2?(D.prefix=K[0],D.localName=K[1]):D.localName=f,re._ownerElement=D,D},createAttributeNS:function(d,f){var D=new Zt,K=f.split(":");return D.ownerDocument=this,D.nodeName=f,D.name=f,D.namespaceURI=d,D.specified=!0,K.length==2?(D.prefix=K[0],D.localName=K[1]):D.localName=f,D}},O(bt,Ye);function je(){this._nsMap={}}je.prototype={nodeType:V,hasAttribute:function(d){return this.getAttributeNode(d)!=null},getAttribute:function(d){var f=this.getAttributeNode(d);return f&&f.value||""},getAttributeNode:function(d){return this.attributes.getNamedItem(d)},setAttribute:function(d,f){var D=this.ownerDocument.createAttribute(d);D.value=D.nodeValue=""+f,this.setAttributeNode(D)},removeAttribute:function(d){var f=this.getAttributeNode(d);f&&this.removeAttributeNode(f)},appendChild:function(d){return d.nodeType===j?this.insertBefore(d,null):Me(this,d)},setAttributeNode:function(d){return this.attributes.setNamedItem(d)},setAttributeNodeNS:function(d){return this.attributes.setNamedItemNS(d)},removeAttributeNode:function(d){return this.attributes.removeNamedItem(d.nodeName)},removeAttributeNS:function(d,f){var D=this.getAttributeNodeNS(d,f);D&&this.removeAttributeNode(D)},hasAttributeNS:function(d,f){return this.getAttributeNodeNS(d,f)!=null},getAttributeNS:function(d,f){var D=this.getAttributeNodeNS(d,f);return D&&D.value||""},setAttributeNS:function(d,f,D){var K=this.ownerDocument.createAttributeNS(d,f);K.value=K.nodeValue=""+D,this.setAttributeNode(K)},getAttributeNodeNS:function(d,f){return this.attributes.getNamedItemNS(d,f)},getElementsByTagName:function(d){return new Pe(this,function(f){var D=[];return We(f,function(K){K!==f&&K.nodeType==V&&(d==="*"||K.tagName==d)&&D.push(K)}),D})},getElementsByTagNameNS:function(d,f){return new Pe(this,function(D){var K=[];return We(D,function(re){re!==D&&re.nodeType===V&&(d==="*"||re.namespaceURI===d)&&(f==="*"||re.localName==f)&&K.push(re)}),K})}},bt.prototype.getElementsByTagName=je.prototype.getElementsByTagName,bt.prototype.getElementsByTagNameNS=je.prototype.getElementsByTagNameNS,O(je,Ye);function Zt(){}Zt.prototype.nodeType=w,O(Zt,Ye);function er(){}er.prototype={data:"",substringData:function(d,f){return this.data.substring(d,d+f)},appendData:function(d){d=this.data+d,this.nodeValue=this.data=d,this.length=d.length},insertData:function(d,f){this.replaceData(d,0,f)},appendChild:function(d){throw new Error(B[J])},deleteData:function(d,f){this.replaceData(d,f,"")},replaceData:function(d,f,D){var K=this.data.substring(0,d),re=this.data.substring(d+f);D=K+D+re,this.nodeValue=this.data=D,this.length=D.length}},O(er,Ye);function rt(){}rt.prototype={nodeName:"#text",nodeType:I,splitText:function(d){var f=this.data,D=f.substring(d);f=f.substring(0,d),this.data=this.nodeValue=f,this.length=f.length;var K=this.ownerDocument.createTextNode(D);return this.parentNode&&this.parentNode.insertBefore(K,this.nextSibling),K}},O(rt,er);function Vt(){}Vt.prototype={nodeName:"#comment",nodeType:W},O(Vt,er);function Jr(){}Jr.prototype={nodeName:"#cdata-section",nodeType:F},O(Jr,er);function Pt(){}Pt.prototype.nodeType=b,O(Pt,Ye);function Di(){}Di.prototype.nodeType=N,O(Di,Ye);function Tr(){}Tr.prototype.nodeType=G,O(Tr,Ye);function dr(){}dr.prototype.nodeType=U,O(dr,Ye);function tr(){}tr.prototype.nodeName="#document-fragment",tr.prototype.nodeType=j,O(tr,Ye);function Ir(){}Ir.prototype.nodeType=x,O(Ir,Ye);function Nr(){}Nr.prototype.serializeToString=function(d,f,D){return Ti.call(d,f,D)},Ye.prototype.toString=Ti;function Ti(d,f){var D=[],K=this.nodeType==9&&this.documentElement||this,re=K.prefix,Ee=K.namespaceURI;if(Ee&&re==null){var re=K.lookupPrefix(Ee);if(re==null)var Ce=[{namespace:Ee,prefix:null}]}return hr(this,D,d,f,Ce),D.join("")}function kr(d,f,D){var K=d.prefix||"",re=d.namespaceURI;if(!re||K==="xml"&&re===M.XML||re===M.XMLNS)return!1;for(var Ee=D.length;Ee--;){var Ce=D[Ee];if(Ce.prefix===K)return Ce.namespace!==re}return!0}function Rr(d,f,D){d.push(" ",f,'="',D.replace(/[<&"]/g,Dr),'"')}function hr(d,f,D,K,re){if(re||(re=[]),K)if(d=K(d),d){if(typeof d=="string"){f.push(d);return}}else return;switch(d.nodeType){case V:var Ee=d.attributes,Ce=Ee.length,Qe=d.firstChild,Ot=d.tagName;D=M.isHTML(d.namespaceURI)||D;var Bt=Ot;if(!D&&!d.prefix&&d.namespaceURI){for(var Dt,_t=0;_t<Ee.length;_t++)if(Ee.item(_t).name==="xmlns"){Dt=Ee.item(_t).value;break}if(!Dt)for(var Tt=re.length-1;Tt>=0;Tt--){var Wt=re[Tt];if(Wt.prefix===""&&Wt.namespace===d.namespaceURI){Dt=Wt.namespace;break}}if(Dt!==d.namespaceURI)for(var Tt=re.length-1;Tt>=0;Tt--){var Wt=re[Tt];if(Wt.namespace===d.namespaceURI){Wt.prefix&&(Bt=Wt.prefix+":"+Ot);break}}}f.push("<",Bt);for(var It=0;It<Ce;It++){var ht=Ee.item(It);ht.prefix=="xmlns"?re.push({prefix:ht.localName,namespace:ht.value}):ht.nodeName=="xmlns"&&re.push({prefix:"",namespace:ht.value})}for(var It=0;It<Ce;It++){var ht=Ee.item(It);if(kr(ht,D,re)){var Nt=ht.prefix||"",fr=ht.namespaceURI;Rr(f,Nt?"xmlns:"+Nt:"xmlns",fr),re.push({prefix:Nt,namespace:fr})}hr(ht,f,D,K,re)}if(Ot===Bt&&kr(d,D,re)){var Nt=d.prefix||"",fr=d.namespaceURI;Rr(f,Nt?"xmlns:"+Nt:"xmlns",fr),re.push({prefix:Nt,namespace:fr})}if(Qe||D&&!/^(?:meta|link|img|br|hr|input)$/i.test(Ot)){if(f.push(">"),D&&/^script$/i.test(Ot))for(;Qe;)Qe.data?f.push(Qe.data):hr(Qe,f,D,K,re.slice()),Qe=Qe.nextSibling;else for(;Qe;)hr(Qe,f,D,K,re.slice()),Qe=Qe.nextSibling;f.push("</",Bt,">")}else f.push("/>");return;case S:case j:for(var Qe=d.firstChild;Qe;)hr(Qe,f,D,K,re.slice()),Qe=Qe.nextSibling;return;case w:return Rr(f,d.name,d.value);case I:return f.push(d.data.replace(/[<&]/g,Dr).replace(/]]>/g,"]]&gt;"));case F:return f.push("<![CDATA[",d.data,"]]>");case W:return f.push("<!--",d.data,"-->");case b:var kt=d.publicId,rr=d.systemId;if(f.push("<!DOCTYPE ",d.name),kt)f.push(" PUBLIC ",kt),rr&&rr!="."&&f.push(" ",rr),f.push(">");else if(rr&&rr!=".")f.push(" SYSTEM ",rr,">");else{var Qr=d.internalSubset;Qr&&f.push(" [",Qr,"]"),f.push(">")}return;case x:return f.push("<?",d.target," ",d.data,"?>");case U:return f.push("&",d.nodeName,";");default:f.push("??",d.nodeName)}}function Ii(d,f,D){var K;switch(f.nodeType){case V:K=f.cloneNode(!1),K.ownerDocument=d;case j:break;case w:D=!0;break}if(K||(K=f.cloneNode(!1)),K.ownerDocument=d,K.parentNode=null,D)for(var re=f.firstChild;re;)K.appendChild(Ii(d,re,D)),re=re.nextSibling;return K}function $t(d,f,D){var K=new f.constructor;for(var re in f){var Ee=f[re];typeof Ee!="object"&&Ee!=K[re]&&(K[re]=Ee)}switch(f.childNodes&&(K.childNodes=new we),K.ownerDocument=d,K.nodeType){case V:var Ce=f.attributes,Ot=K.attributes=new De,Bt=Ce.length;Ot._ownerElement=K;for(var Dt=0;Dt<Bt;Dt++)K.setAttributeNode($t(d,Ce.item(Dt),!0));break;case w:D=!0}if(D)for(var _t=f.firstChild;_t;)K.appendChild($t(d,_t,D)),_t=_t.nextSibling;return K}function Ar(d,f,D){d[f]=D}try{if(Object.defineProperty){let d=function(f){switch(f.nodeType){case V:case j:var D=[];for(f=f.firstChild;f;)f.nodeType!==7&&f.nodeType!==8&&D.push(d(f)),f=f.nextSibling;return D.join("");default:return f.nodeValue}};var Yn=d;Object.defineProperty(Pe.prototype,"length",{get:function(){return yt(this),this.$$length}}),Object.defineProperty(Ye.prototype,"textContent",{get:function(){return d(this)},set:function(f){switch(this.nodeType){case V:case j:for(;this.firstChild;)this.removeChild(this.firstChild);(f||String(f))&&this.appendChild(this.ownerDocument.createTextNode(f));break;default:this.data=f,this.value=f,this.nodeValue=f}}}),Ar=function(f,D,K){f["$$"+D]=K}}}catch(d){}v.DocumentType=Pt,v.DOMException=Je,v.DOMImplementation=cr,v.Element=je,v.Node=Ye,v.NodeList=we,v.XMLSerializer=Nr},1045:(q,v,k)=>{var P=k(2167).freeze;v.XML_ENTITIES=P({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),v.HTML_ENTITIES=P({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),v.entityMap=v.HTML_ENTITIES},3969:(q,v,k)=>{var P=k(1146);v.DOMImplementation=P.DOMImplementation,v.XMLSerializer=P.XMLSerializer,v.DOMParser=k(6129).DOMParser},6925:(q,v,k)=>{var P=k(2167).NAMESPACE,M=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,L=new RegExp("[\\-\\.0-9"+M.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),h=new RegExp("^"+M.source+L.source+"*(?::"+M.source+L.source+"*)?$"),_=0,p=1,g=2,C=3,O=4,R=5,V=6,w=7;function I(H,J){this.message=H,this.locator=J,Error.captureStackTrace&&Error.captureStackTrace(this,I)}I.prototype=new Error,I.prototype.name=I.name;function F(){}F.prototype={parse:function(H,J,ne){var oe=this.domBuilder;oe.startDocument(),j(J,J={}),U(H,J,ne,oe,this.errorHandler),oe.endDocument()}};function U(H,J,ne,oe,ae){function ge(Me){if(Me>65535){Me-=65536;var je=55296+(Me>>10),Zt=56320+(Me&1023);return String.fromCharCode(je,Zt)}else return String.fromCharCode(Me)}function le(Me){var je=Me.slice(1,-1);return je in ne?ne[je]:je.charAt(0)==="#"?ge(parseInt(je.substr(1).replace("x","0x"))):(ae.error("entity not found:"+Me),Me)}function he(Me){if(Me>we){var je=H.substring(we,Me).replace(/&#?\w+;/g,le);Re&&fe(we),oe.characters(je,0,Me-we),we=Me}}function fe(Me,je){for(;Me>=ue&&(je=ze.exec(H));)pe=je.index,ue=pe+je[0].length,Re.lineNumber++;Re.columnNumber=Me-pe+1}for(var pe=0,ue=0,ze=/.*(?:\r\n?|\n)|.*$/g,Re=oe.locator,He=[{currentNSMap:J}],Je={},we=0;;){try{var Pe=H.indexOf("<",we);if(Pe<0){if(!H.substr(we).match(/^\s*$/)){var yt=oe.doc,De=yt.createTextNode(H.substr(we));yt.appendChild(De),oe.currentElement=De}return}switch(Pe>we&&he(Pe),H.charAt(Pe+1)){case"/":var Fe=H.indexOf(">",Pe+3),Ne=H.substring(Pe+2,Fe).replace(/[ \t\n\r]+$/g,""),dt=He.pop();Fe<0?(Ne=H.substring(Pe+2).replace(/[\s<].*/,""),ae.error("end tag name: "+Ne+" is not complete:"+dt.tagName),Fe=Pe+1+Ne.length):Ne.match(/\s</)&&(Ne=Ne.replace(/[\s<].*/,""),ae.error("end tag name: "+Ne+" maybe not complete"),Fe=Pe+1+Ne.length);var Pr=dt.localNSMap,cr=dt.tagName==Ne,Ye=cr||dt.tagName&&dt.tagName.toLowerCase()==Ne.toLowerCase();if(Ye){if(oe.endElement(dt.uri,dt.localName,Ne),Pr)for(var Dr in Pr)oe.endPrefixMapping(Dr);cr||ae.fatalError("end tag name: "+Ne+" is not match the current start tagName:"+dt.tagName)}else He.push(dt);Fe++;break;case"?":Re&&fe(Pe),Fe=T(H,Pe,oe);break;case"!":Re&&fe(Pe),Fe=N(H,Pe,oe,ae);break;default:Re&&fe(Pe);var We=new B,bt=He[He.length-1].currentNSMap,Fe=x(H,Pe,We,bt,le,ae),at=We.length;if(!We.closed&&b(H,Fe,We.tagName,Je)&&(We.closed=!0,ne.nbsp||ae.warning("unclosed xml attribute")),Re&&at){for(var qe=G(Re,{}),Ut=0;Ut<at;Ut++){var _e=We[Ut];fe(_e.offset),_e.locator=G(Re,{})}oe.locator=qe,W(We,oe,bt)&&He.push(We),oe.locator=Re}else W(We,oe,bt)&&He.push(We);P.isHTML(We.uri)&&!We.closed?Fe=S(H,Fe,We.tagName,le,oe):Fe++}}catch(Me){if(Me instanceof I)throw Me;ae.error("element parse error: "+Me),Fe=-1}Fe>we?we=Fe:he(Math.max(Pe,we)+1)}}function G(H,J){return J.lineNumber=H.lineNumber,J.columnNumber=H.columnNumber,J}function x(H,J,ne,oe,ae,ge){function le(He,Je,we){ne.attributeNames.hasOwnProperty(He)&&ge.fatalError("Attribute "+He+" redefined"),ne.addValue(He,Je,we)}for(var he,fe,pe=++J,ue=_;;){var ze=H.charAt(pe);switch(ze){case"=":if(ue===p)he=H.slice(J,pe),ue=C;else if(ue===g)ue=C;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ue===C||ue===p)if(ue===p&&(ge.warning('attribute value must after "="'),he=H.slice(J,pe)),J=pe+1,pe=H.indexOf(ze,J),pe>0)fe=H.slice(J,pe).replace(/&#?\w+;/g,ae),le(he,fe,J-1),ue=R;else throw new Error("attribute value no end '"+ze+"' match");else if(ue==O)fe=H.slice(J,pe).replace(/&#?\w+;/g,ae),le(he,fe,J),ge.warning('attribute "'+he+'" missed start quot('+ze+")!!"),J=pe+1,ue=R;else throw new Error('attribute value must after "="');break;case"/":switch(ue){case _:ne.setTagName(H.slice(J,pe));case R:case V:case w:ue=w,ne.closed=!0;case O:case p:case g:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ge.error("unexpected end of input"),ue==_&&ne.setTagName(H.slice(J,pe)),pe;case">":switch(ue){case _:ne.setTagName(H.slice(J,pe));case R:case V:case w:break;case O:case p:fe=H.slice(J,pe),fe.slice(-1)==="/"&&(ne.closed=!0,fe=fe.slice(0,-1));case g:ue===g&&(fe=he),ue==O?(ge.warning('attribute "'+fe+'" missed quot(")!'),le(he,fe.replace(/&#?\w+;/g,ae),J)):((!P.isHTML(oe[""])||!fe.match(/^(?:disabled|checked|selected)$/i))&&ge.warning('attribute "'+fe+'" missed value!! "'+fe+'" instead!!'),le(fe,fe,J));break;case C:throw new Error("attribute value missed!!")}return pe;case"\x80":ze=" ";default:if(ze<=" ")switch(ue){case _:ne.setTagName(H.slice(J,pe)),ue=V;break;case p:he=H.slice(J,pe),ue=g;break;case O:var fe=H.slice(J,pe).replace(/&#?\w+;/g,ae);ge.warning('attribute "'+fe+'" missed quot(")!!'),le(he,fe,J);case R:ue=V;break}else switch(ue){case g:var Re=ne.tagName;(!P.isHTML(oe[""])||!he.match(/^(?:disabled|checked|selected)$/i))&&ge.warning('attribute "'+he+'" missed value!! "'+he+'" instead2!!'),le(he,he,J),J=pe,ue=p;break;case R:ge.warning('attribute space is required"'+he+'"!!');case V:ue=p,J=pe;break;case C:ue=O,J=pe;break;case w:throw new Error("elements closed character '/' and '>' must be connected to")}}pe++}}function W(H,J,ne){for(var oe=H.tagName,ae=null,ze=H.length;ze--;){var ge=H[ze],le=ge.qName,he=ge.value,Re=le.indexOf(":");if(Re>0)var fe=ge.prefix=le.slice(0,Re),pe=le.slice(Re+1),ue=fe==="xmlns"&&pe;else pe=le,fe=null,ue=le==="xmlns"&&"";ge.localName=pe,ue!==!1&&(ae==null&&(ae={},j(ne,ne={})),ne[ue]=ae[ue]=he,ge.uri=P.XMLNS,J.startPrefixMapping(ue,he))}for(var ze=H.length;ze--;){ge=H[ze];var fe=ge.prefix;fe&&(fe==="xml"&&(ge.uri=P.XML),fe!=="xmlns"&&(ge.uri=ne[fe||""]))}var Re=oe.indexOf(":");Re>0?(fe=H.prefix=oe.slice(0,Re),pe=H.localName=oe.slice(Re+1)):(fe=null,pe=H.localName=oe);var He=H.uri=ne[fe||""];if(J.startElement(He,pe,oe,H),H.closed){if(J.endElement(He,pe,oe),ae)for(fe in ae)J.endPrefixMapping(fe)}else return H.currentNSMap=ne,H.localNSMap=ae,!0}function S(H,J,ne,oe,ae){if(/^(?:script|textarea)$/i.test(ne)){var ge=H.indexOf("</"+ne+">",J),le=H.substring(J+1,ge);if(/[&<]/.test(le))return/^script$/i.test(ne)?(ae.characters(le,0,le.length),ge):(le=le.replace(/&#?\w+;/g,oe),ae.characters(le,0,le.length),ge)}return J+1}function b(H,J,ne,oe){var ae=oe[ne];return ae==null&&(ae=H.lastIndexOf("</"+ne+">"),ae<J&&(ae=H.lastIndexOf("</"+ne)),oe[ne]=ae),ae<J}function j(H,J){for(var ne in H)J[ne]=H[ne]}function N(H,J,ne,oe){var ae=H.charAt(J+2);switch(ae){case"-":if(H.charAt(J+3)==="-"){var ge=H.indexOf("-->",J+4);return ge>J?(ne.comment(H,J+4,ge-J-4),ge+3):(oe.error("Unclosed comment"),-1)}else return-1;default:if(H.substr(J+3,6)=="CDATA["){var ge=H.indexOf("]]>",J+9);return ne.startCDATA(),ne.characters(H,J+9,ge-J-9),ne.endCDATA(),ge+3}var le=te(H,J),he=le.length;if(he>1&&/!doctype/i.test(le[0][0])){var fe=le[1][0],pe=!1,ue=!1;he>3&&(/^public$/i.test(le[2][0])?(pe=le[3][0],ue=he>4&&le[4][0]):/^system$/i.test(le[2][0])&&(ue=le[3][0]));var ze=le[he-1];return ne.startDTD(fe,pe,ue),ne.endDTD(),ze.index+ze[0].length}}return-1}function T(H,J,ne){var oe=H.indexOf("?>",J);if(oe){var ae=H.substring(J,oe).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(ae){var ge=ae[0].length;return ne.processingInstruction(ae[1],ae[2]),oe+2}else return-1}return-1}function B(){this.attributeNames={}}B.prototype={setTagName:function(H){if(!h.test(H))throw new Error("invalid tagName:"+H);this.tagName=H},addValue:function(H,J,ne){if(!h.test(H))throw new Error("invalid attribute:"+H);this.attributeNames[H]=this.length,this[this.length++]={qName:H,value:J,offset:ne}},length:0,getLocalName:function(H){return this[H].localName},getLocator:function(H){return this[H].locator},getQName:function(H){return this[H].qName},getURI:function(H){return this[H].uri},getValue:function(H){return this[H].value}};function te(H,J){var ne,oe=[],ae=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ae.lastIndex=J,ae.exec(H);ne=ae.exec(H);)if(oe.push(ne),ne[1])return oe}v.XMLReader=F,v.ParseError=I},31:(q,v,k)=>{"use strict";function P(r){return typeof r=="string"}function M(r){return r!==null&&typeof r=="object"}let L={};class h{constructor(e){this.path=e,this.parts=e.split(".");let t="return (x",i="x";for(let n=0;n<this.parts.length;n++)this.parts[n][0]>="0"&&this.parts[n][0]<="9"?i+="["+this.parts[n]+"]":i+="."+this.parts[n],n+1<this.parts.length?t+=" && "+i:t+=" ? "+i+" : undefined";t+=")",this.value=new Function("x",t)}set(e,t){if(this.value(e)===t)return e;let n=Object.assign({},e),s=n;for(let o=0;o<this.parts.length;o++){let a=this.parts[o],l=o==this.parts.length-1?t:Object.assign({},s[a]);s[a]=l,s=l}return n}delete(e){let t=Object.assign({},e),i=t,n;for(let s=0;s<this.parts.length-1;s++){n=this.parts[s];let o=Object.assign({},i[n]);i[n]=o,i=o}return n=this.parts[this.parts.length-1],i.hasOwnProperty(n)?(delete i[n],t):e}static get(e){if(P(e)){let t=L[e];return t||(t=new h(e),L[e]=t,t)}if(M(e)&&P(e.bind))return this.get(e.bind);if(e instanceof h)return e;throw new Error("Invalid binding definition provided.")}}function _(r){return M(r)&&P(r.bind)?!0:r instanceof h}function p(r){return Array.isArray(r)}function g(r){return r!==void 0}function C(r){return typeof r=="function"}const O={};class R{constructor(e){e&&e.$props&&(Object.assign(e,e.$props),delete e.$props),Object.assign(this,e)}static alias(e,t){if(t)t.prototype.componentAlias=e,O[this.namespace+e]=t;else return i=>(this.alias(e,i),i)}static create(e,t,i){if(!e)return this.factory(e,t,i);if(e.isComponent)return e;if(w(e))return this.create(e.create(t));if(p(e))return e.map(l=>this.create(l,t,i));if(e.$type)return this.create(e.$type,e,t);if(e.type)return this.create(e.type,e,t);let n,s;if(e.isComponentType)n=e;else if(C(e)){if(this.factory)return this.factory(e,t,i);throw new Error(`Unsupported component type ${e}.`)}else if(P(e)){if(s=this.namespace+e,n=O[s],!n){if(e&&this.factory)return this.factory(e,t,i);throw new Error(`Unknown component alias ${s}.`)}}else typeof e=="object"&&(n=e.type||e.$type,n||(n=this,i=i?Object.assign({},t,i):t,t=e));if(p(t))return t.map(l=>this.create(n,l,i));let o=t;i&&(o=Object.assign({},t,i));let a=new n(o);return n.autoInit&&a.init&&a.init(),a}}R.prototype.isComponent=!0,R.isComponentType=!0,R.namespace="",R.autoInit=!1,R.factory=(r,e,t)=>{throw new Error(`Unknown component alias ${r}.`)};function V(r,e,t){return r.$isComponentFactory=!0,r.$meta=t,r.create=e,r}function w(r){return r&&r.$isComponentFactory}var I=Object.defineProperty,F=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,x=(r,e,t)=>e in r?I(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e)=>{for(var t in e||(e={}))U.call(e,t)&&x(r,t,e[t]);if(F)for(var t of F(e))G.call(e,t)&&x(r,t,e[t]);return r};class S extends R{constructor(e){super(e);this.get=this.get.bind(this),this.set&&(this.set=this.set.bind(this))}get(){throw new Error("Ref's get method is not implemented.")}init(e){this.get()===void 0&&this.set(e)}toggle(){this.set(!this.get())}update(e,...t){this.set(e(this.get(),...t))}as(e){return S.create(e,{get:this.get,set:this.set})}ref(e){let t=h.get(e);return S.create({get:()=>t.value(this.get()),set:i=>{let n=this.get(),s=t.set(n,i);return n===s?!1:this.set(s)}})}memoize(){return this.get}}S.prototype.isRef=!0,S.factory=function(r,e,t){if(C(r)){let i=W(W({},e),t);i.store&&Object.assign(i,i.store.getMethods());let n=r(i);return n instanceof S?n:this.create(W(W(W({},e),t),n))}return this.create(W(W({},e),t))};class b extends S{constructor(e){super(e)}get(){return this.store.get(this.path)}set(e){return this.store.set(this.path,e)}init(e){return this.store.init(this.path,e)}toggle(){return this.store.toggle(this.path)}delete(){return this.store.delete(this.path)}update(...e){return this.store.update(this.path,...e)}memoize(){return this.get}ref(e){return new b({path:`${this.path}.${e}`,store:this.store})}as(e){return b.create(e,{path:this.path,store:this.store,get:this.get,set:this.set})}}class j{constructor(e){Object.assign(this,e),this.cache={version:-1},this.store&&this.setStore(this.store)}getData(){throw new Error("abstract method")}init(e,t){if(e instanceof h)e=e.path;else if(typeof e=="object"&&e!=null){var i=!1;for(var n in e)e.hasOwnProperty(n)&&this.get(n)===void 0&&this.setItem(n,e[n])&&(i=!0);return i}return this.get(e)===void 0?this.setItem(e,t):!1}set(e,t){if(e instanceof h)e=e.path;else if(typeof e=="object"&&e!=null){var i=!1;for(var n in e)e.hasOwnProperty(n)&&this.setItem(n,e[n])&&(i=!0);return i}return this.setItem(e,t)}copy(e,t){let i=this.get(e);this.set(t,i)}move(e,t){this.batch(()=>{this.copy(e,t),this.delete(e)})}setItem(e,t){if(this.store)return this.store.setItem(e,t);throw new Error("abstract method")}delete(e){return e instanceof h?e=e.path:arguments.length>1&&(e=Array.from(arguments)),p(e)?e.map(t=>this.deleteItem(t)).some(Boolean):this.deleteItem(e)}deleteItem(e){if(this.store)return this.store.deleteItem(e);throw new Error("abstract method")}clear(){if(this.store)return this.store.clear();throw new Error("abstract method")}get(e){let t=this.getData();return arguments.length>1&&(e=Array.from(arguments)),p(e)?e.map(i=>h.get(i).value(t)):h.get(e).value(t)}toggle(e){return this.set(e,!this.get(e))}update(e,t,...i){return this.set(e,t.apply(null,[this.get(e),...i]))}batch(e){let t=this.silently(e);return t&&this.notify(),t}silently(e){if(this.store)return this.store.silently(e);throw new Error("abstract method")}notify(e){this.notificationsSuspended?this.dirty=!0:this.doNotify(e)}doNotify(e){if(this.store)return this.store.notify(e);throw new Error("abstract method")}subscribe(e){if(this.store)return this.store.subscribe(e);throw new Error("abstract method")}load(e){return this.batch(t=>{for(var i in e)t.set(i,e[i])})}dispatch(e){if(this.store)return this.store.dispatch(e);throw new Error("The underlying store doesn't support dispatch.")}getMeta(){return this.meta}setStore(e){this.store=e,this.meta=e.getMeta()}ref(e,t){return g(t)&&this.init(e,t),b.create({store:this,path:e})}getMethods(){return{getData:this.getData.bind(this),set:this.set.bind(this),get:this.get.bind(this),update:this.update.bind(this),delete:this.delete.bind(this),toggle:this.toggle.bind(this),init:this.init.bind(this),ref:this.ref.bind(this)}}}j.prototype.sealed=!1;class N{constructor(){this.clear()}getSlot(){return this.freeSlots.length?this.freeSlots.pop():String(this.nextSlot++)}recycle(e,t){this.subscriptions[e]===t&&(this.freeSlots.push(e),delete this.subscriptions[e],this.subscriptionCount--)}subscribe(e){let t=this.getSlot();return this.subscriptions[t]=e,this.subscriptionCount++,()=>{this.recycle(t,e)}}clear(){this.subscriptions={},this.freeSlots=[],this.nextSlot=1,this.subscriptionCount=0}isEmpty(){return this.subscriptionCount==0}getSubscribers(){let e=[];for(let t in this.subscriptions)e.push(this.subscriptions[t]);return e}notify(){for(let e in this.subscriptions)this.subscriptions[e](...arguments)}execute(e){for(let t in this.subscriptions)e(this.subscriptions[t])}}class T extends j{constructor(e){super(e);this.subscribers=new N,this.changes=[]}subscribe(e){return this.subscribers.subscribe(e)}unsubscribeAll(){this.subscribers.clear()}doNotify(e){this.notificationsSuspended||(this.async?(this.changes.push(e||""),this.scheduled||(this.scheduled=!0,setTimeout(()=>{this.scheduled=!1;let t=this.changes;this.changes=[],this.subscribers.notify(t)},0))):this.subscribers.notify([e]))}silently(e){this.notificationsSuspended=(this.notificationsSuspended||0)+1;let t=this.dirty,i;this.dirty=!1;try{e(this)}finally{this.notificationsSuspended--,i=this.dirty,this.dirty=t}return i}}T.prototype.async=!1;class B extends T{constructor(e={}){super(e);this.data=e.data||{},this.meta={version:0}}getData(){return this.data}setItem(e,t){let i=h.get(e).set(this.data,t);return i!=this.data?(this.data=i,this.meta.version++,this.notify(e),!0):!1}deleteItem(e){let t=h.get(e).delete(this.data);return t!=this.data?(this.data=t,this.meta.version++,this.notify(e),!0):!1}clear(){this.data={},this.meta.version++,this.notify()}}B.prototype.async=!1;class te{static resolve(e){return e.replace("~/",this.base)}static absolute(e){return e.replace("~/",this.absoluteBase)}static unresolve(e){if(e.indexOf("~/")==0)return e;var t=this.absoluteBase||"";return e.length==t.length-1&&t==e+"/"?"~/":e.indexOf(t)==0?"~/"+e.substring(t.length):"~/"+e.substring(this.base.length)}static getAbsoluteBase(){return this.absoluteBase}static isLocal(e){var t=this.getAbsoluteBase();return e.indexOf("~/")==0||e.indexOf(t)==0||e.indexOf(this.base)==0}static setBase(e){(!e||e[e.length-1]!="/")&&(e+="/"),this.base=e,typeof window!="undefined"&&(this.absoluteBase=window.location.protocol+"//"+window.location.host+this.base)}static getOrigin(){return typeof window=="undefined"?"":window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}static getBaseFromScriptSrc(e,t){t instanceof RegExp||(t=H(t));let i=e.search(t);if(i==-1)return!1;let n=this.getOrigin();return e.substring(e.indexOf(n)==0?n.length:0,i)}static setBaseFromScript(e){var t=document.getElementsByTagName("script"),i;e instanceof RegExp||(e=H(e));for(let n=0;n<t.length;n++)if(i=this.getBaseFromScriptSrc(t[n].src,e),i){this.setBase(i);return}throw new Error(`Could not resolve url base from script matching '${e}'.`)}}te.setBase("/");function H(r){let e="",t=0;r.indexOf("~/")==0&&(t=2);for(let i=t;i<r.length;i++)switch(r[i]){case".":e+="\\.";break;case"*":e+=".*";break;default:e+=r[i]}return new RegExp(e+"(\\?.*)?$","i")}var J={};class ne{static get(e){var t=J[e];if(!t)throw new Error(`Unknown CSS helper '${e}'.`);return t}static register(e,t){J[e]=t}static alias(e,t){J[e]=t}}function oe(r){if(typeof r!="string")return r;for(var e={},t=r.split(";"),i=0;i<t.length;i++){let n=t[i],s=n.indexOf(":");if(s==-1)continue;let o=n.substring(0,s).trim(),a=n.substring(s+1).trim();o.startsWith("--")||(o=o.split("-").map((l,u)=>u==0?l:l[0].toUpperCase()+l.substring(1)).join("")),e[o]=a}return e}function ae(r,e){return e&&(r||(r=[]),r.push(e)),r}function ge(r,e){return!e||e.length==0||(r||(r=[]),r.push.apply(r,e)),r}function le(r,e,t){return e?ge(r,e.map(t)):r}function he(r){return r?r.join(" "):null}class fe{static resolve(){let e,t,i,n,s;for(n=0;n<arguments.length;n++)if(i=arguments[n],i){if(t=typeof i,t=="string")e=ae(e,i);else if(t=="object")if(p(i))e=ge(e,this.resolve(...i));else for(s in i)i[s]&&(e=ae(e,s))}return e}static block(e,t,i){let n;return e&&(n=ae(n,this.classPrefix+"b-"+e)),n=le(n,this.resolve(t),s=>this.classPrefix+"m-"+s),n=le(n,this.resolve(i),s=>this.classPrefix+"s-"+s),he(n)}static element(e,t,i){let n;return e&&t&&(n=ae(n,this.classPrefix+"e-"+e+"-"+t)),n=le(n,this.resolve(i),s=>this.classPrefix+"s-"+s),he(n)}static state(e){return he(le(null,this.resolve(e),t=>this.classPrefix+"s-"+t))}static mod(e){return he(le(null,this.resolve(e),t=>this.classPrefix+"m-"+t))}static expand(){return he(this.resolve(...arguments))}static parseStyle(e){return oe(e)}}fe.classPrefix="cx",ne.alias("cx",fe);function pe(...r){if(r.length==0)throw new Error("computable requires at least a compute function to be passed in arguments.");let e=r[r.length-1];if(typeof e!="function")throw new Error("Last argument to the computable function should be a function.");let t=[],i;for(let o=0;o+1<r.length;o++)if(i=r[o],P(i))t.push(h.get(i).value);else if(i.memoize)t.push(i.memoize());else if(C(i))t.push(i);else throw new Error(`Invalid selector type '${typeof i}' received.`);function n(o){let a,l=o&&t.map(u=>u(o));return function(u){let c=!1;l||(l=Array.from({length:t.length}),c=!0);for(let m=0;m<t.length;m++){let y=t[m](u);y!==l[m]&&(l[m]=y,c=!0)}return c&&(a=e.apply(null,l)),a}}let s=o=>e.apply(null,t.map(a=>a(o)));return s.memoize=n,s}const ue={log:function(){typeof window!="undefined"&&window.console&&console.log(...arguments)},warn:function(){typeof window!="undefined"&&window.console&&console.warn(...arguments)}};let ze={deprecated:!0};function Re(r){}const He={enable:function(r){},disable:function(r){},log:Re},Je="render",we="prepare",Pe="process-data",yt="cleanup",De="menu",Ne="focus",dt="internal",Pr="should-update",cr="app-data",Ye="tooltips",Dr="deprecated",We="destroy";var bt=1;class Fe{static get(){return bt}static change(){bt++}}function at(r){return typeof r=="number"}function qe(r){return r===void 0}const Ut=r=>r.toString();let _e={string:function(){return Ut},wrap:function(r,e,t){return e||(e=""),t||(t=""),i=>e+i.toString()+t},fixed:function(r,e){return t=>t.toFixed(e)},prefix:function(r,e){return e||(e=""),t=>e+t.toString()},suffix:function(r,e){return e||(e=""),t=>t.toString()+e},uppercase:function(){return r=>r.toString().toUpperCase()},lowercase:function(){return r=>r.toString().toLowerCase()},urlencode:function(){return r=>encodeURIComponent(r)},number:function(r,e,t){let{minimumFractionDigits:i,maximumFractionDigits:n}=Vt(e,t),s=n-i;return s>0?(i==0&&++s,o=>Jr(o.toFixed(n),s)):o=>o.toFixed(n)},percentage:function(r,e,t){let i=_e.number(r,e,t);return n=>i(n*100)+"%"},percentageSign:function(r,e,t){let i=_e.number(r,e,t);return n=>i(n)+"%"},date:function(){return r=>{let e=new Date(r);return`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`}},time:function(){return r=>{let e=new Date(r),t=e.getHours()>=10?e.getHours():"0"+e.getHours(),i=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes();return`${t}:${i}`}},datetime:function(){let r=_e.date(),e=_e.time();return t=>r(t)+" "+e(t)},ellipsis:function(r,e,t){switch(e=Number(e),e>3||(e=10),t){default:case"end":return i=>{let n=String(i);return n.length>e?n.substring(0,e-3)+"...":n};case"start":return i=>{let n=String(i);return n.length>e?"..."+n.substring(n.length-e+3):n};case"middle":return i=>{let n=String(i);if(n.length>e){let s=Math.floor(e-2)/2;return n.substring(0,s)+"..."+n.substring(n.length-(e-3-s))}return n}}}};_e.s=_e.str=_e.string,_e.f=_e.fixed,_e.n=_e.number,_e.p=_e.percentage,_e.ps=_e.percentageSign,_e.d=_e.date,_e.t=_e.time,_e.dt=_e.datetime;function Me(r){let e=Ut,t="";if(r){let i=r.split("|");t=i[1]||"";let n=i[0].split(":");for(let s=0;s<n.length;s++){let o=n[s].split(";"),a=_e[o[0]];if(!a)""+r;else if(s==0)e=a(...o);else{let l=a(...o),u=e;e=c=>l(u(c))}}}return i=>i==null||i===""?t:e(i)}let je={cache:{}};function Zt(){return je.cacheIdentifier!=Fe.get()&&(je={cache:{},cacheIdentifier:Fe.get()}),je.cache}function er(r){r||(r="");let e=Zt(),t=e[r];return t||(t=e[r]=Me(r)),t}class rt{static value(e,t){return er(t)(e)}static parse(e){return er(e)}static register(e,t){this.registerFactory(e,()=>t)}static registerFactory(e,t){p(e)?e.forEach(i=>this.registerFactory(i,t)):_e[e]=t}}function Vt(r,e){return r=r!=null?Number(r):r,e=e!=null?Number(e):e,at(r)?(qe(e)||at(e)&&e<r)&&(e=r):r==null&&e==null&&(r=0,e=18),{minimumFractionDigits:r,maximumFractionDigits:e}}function Jr(r,e){let t=0,i=r.length;for(;t<e&&(r[i-1-t]==="0"||r[i-1-t]===".");)t++;return t>0?r.substring(0,i-t):r}function Pt(r){return r==null?r:"'"+r.replace(/'/g,"\\i")+"'"}function Di(r){return r>="0"&&r<="9"}let Tr={},dr={},tr=[],Ir=[],Nr=null;function Ti(r){if(r.memoize)return r;function e(){let i,n={},s={},o={},a,l=-1,u=function(c){let m=o[c];if(!m){let y=c,E,z=c.indexOf(":");if(z!=-1)E=rt.parse(c.substring(z+1)),y=c.substring(0,z);else{let $=c.indexOf(":");$!=-1&&(E=rt.parse(c.substring($)),y=c.substring(0,$-1))}let X=h.get(y);if(m=$=>{let Z=X.value($);return n[l]=X.value,s[l]=Z,l++,Z},E){let $=m;m=Z=>E($(Z))}o[c]=m}return m(a)};return function(c){let m=0;for(;m<l&&n[m](c)===s[m];m++);return m!==l&&(l=0,a=c,i=r(u)),i}}let t=e();return t.memoize=e,t}function kr(r){if(C(r))return Ti(r);let e=Tr[r];if(e)return e;let t=!1,i=-1,n=0,s,o=["return ("],a={},l=[],u=0;for(let y=0;y<r.length;y++){let E=r[y];switch(E){case"{":n>0?n++:!t&&i<0&&(r[y+1]!="{"||r[y-1]=="%")?(i=y+1,n=1,s=r[y-1]=="%",s&&o.pop()):r[y-1]!="{"&&o.push(E);break;case"}":if(i>=0){if(--n==0){let z=r.substring(i,y),X=0;z[0]=="["&&(X=z.indexOf("]"));let $=z.indexOf(":",X>0?X:0),Z=$==-1?z:z.substring(0,$),ee=$==-1?null:z.substring($+1);if($==-1){let ie=Z.indexOf("|",X);ie!=-1&&(ee=Z.substring(ie),Z=Z.substring(0,ie))}let Q=Z.replace(/\./g,"_");if(Di(Q[0])&&(Q="$"+Q),s||Z[0]=="["&&Z[Z.length-1]=="]"?(Q=`expr${++u}`,a[Q]=kr(s?Z:Z.substring(1,Z.length-1))):a[Q]=Z,ee){let ie="fmt"+l.length;o.push(ie,"(",Q,", ",Pt(ee),")"),l.push(rt.parse(ee))}else o.push(Q);i=-1}}else o.push(E);break;case'"':case"'":n==0&&(t?r[y-1]!="\\"&&t==E&&(t=!1):t=E,o.push(E));break;default:i<0&&o.push(E);break}}o.push(")");let c=o.join("");Nr&&(c=Nr(c));let m=Object.keys(a);try{let y=new Function(...l.map((z,X)=>"fmt"+X),...m,...tr,c).bind(rt,...l,...Ir),E=pe(...m.map(z=>a[z]),y);return Tr[r]=E,E}catch(y){throw new Error(`Failed to parse expression: '${r}'. Error: ${y.message}`)}}const Rr={get:function(r){return kr(r)},compile:function(r){return this.get(r).memoize()},registerHelper:function(r,e){dr[r]=e,tr=Object.keys(dr),Ir=tr.map(t=>dr[t])}};function hr(r){Nr=r}function Ii(){Tr={}}function $t(r){return r.length?r+" + ":r}var Ar={};function Yn(r){var e=Ar[r];if(e)return e;e="";for(var t=-1,i=0,n,s=0,o,a=0;a<r.length;a++){var l=r[a];switch(l){case"{":t<0?r[a+1]=="{"&&r[a-1]!="%"?(e=$t(e)+Pt(r.substring(i,a)+"{"),a++,i=a+1):(t=a+1,o=r[a-1]=="%",a>i&&(e=$t(e)+Pt(r.substring(i,o?a-1:a))),s=1):s++;break;case"}":if(t>=0){if(--s==0){if(n=r.substring(t,a),n.indexOf(":")==-1){let u=n.indexOf("|");u==-1?n+=":s":n=n.substring(0,u)+":s"+n.substring(u)}e=$t(e)+(o?"%{":"{")+n+"}",t=-1,i=a+1,s=0}}else r[a+1]=="}"&&(e=$t(e)+Pt(r.substring(i,a)+"}"),a++,i=a+1);break}}return i<r.length&&(e=$t(e)+Pt(r.substring(i))),Ar[r]=kr(e)}const d={get:function(r){return Yn(r)},compile:function(r){return Yn(r).memoize()},format:function(r,...e){return Yn(r)(e)}};function f(){Ar={}}function D(r,e){let t=Object.keys(r);if(t.length==0)return()=>e;function i(){let s=Object.assign({},e),o={};return t.forEach(a=>{o[a]=r[a].memoize?r[a].memoize():r[a],s[a]=void 0}),function(a){let l=s,u,c,m;for(m=0;m<t.length;m++){if(u=t[m],c=o[u](a),l===s){if(c===s[u])continue;l=Object.assign({},s)}l[u]=c}return s=l}}function n(s){let o=Object.assign({},e);for(let a=0;a<t.length;a++)o[t[a]]=r[t[a]](s);return o}return n.memoize=i,n}function K(r){if(r==null)return!0;switch(typeof r){case"object":return r.type||r.$type?!1:!!(r.bind||r.tpl||r.expr||r.get);case"function":return!0;case"string":return!0;case"number":return!0;case"boolean":return!0}return!1}var re=()=>{},Ee=()=>null;function Ce(r){if(r===void 0)return re;if(r===null)return Ee;switch(typeof r){case"object":if(p(r)){let i=r.map(n=>Ce(n));return n=>i.map(s=>s(n))}if(r.bind)return h.get(r.bind).value;if(r.tpl)return d.get(r.tpl);if(r.expr)return Rr.get(r.expr);if(r.get)return r.get;let e={},t={};for(let i in r)K(r[i])?e[i]=Ce(r[i]):t[i]=r[i];return D(e,t);case"function":return r;default:return()=>r}}var Ot=Object.defineProperty,Bt=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,Tt=(r,e,t)=>e in r?Ot(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wt=(r,e)=>{for(var t in e||(e={}))Dt.call(e,t)&&Tt(r,t,e[t]);if(Bt)for(var t of Bt(e))_t.call(e,t)&&Tt(r,t,e[t]);return r};function It(r){return typeof r=="object"&&r&&r.structured?r.defaultValue:r}function ht(r,e,t){let i={},n={},s={},o,a,l,u,c=!0;for(a in r)if(l=e[a],u=r[a],qe(l)&&u&&(u.bind||u.tpl||u.expr)&&(l=u),l===null)o||(o={}),o[a]=null;else if(typeof l=="object")if(l.bind)qe(l.defaultValue)&&l!=u&&(l.defaultValue=It(u)),g(l.defaultValue)&&(s[l.bind]=l.defaultValue),t[a]=l.bind,i[a]=h.get(l.bind).value,c=!1;else if(l.expr)i[a]=Rr.get(l.expr),c=!1;else if(l.get)i[a]=l.get,c=!1;else if(l.tpl)i[a]=d.get(l.tpl),c=!1;else if(u&&typeof u=="object"&&u.structured){if(p(l))i[a]=Ce(l);else{let m=ht(l,l,{});n[a]=m,Object.assign(s,m.defaultValues)}c=!1}else o||(o={}),o[a]=l;else if(C(l))i[a]=l,c=!1;else{if(qe(l)){if(qe(u))continue;l=It(u)}if(qe(l))continue;o||(o={}),o[a]=l}return{functions:i,structures:n,defaultValues:s,constants:o,constant:c}}function Nt({functions:r,structures:e,constants:t,defaultValues:i}){let n={};for(let s in r)n[s]=r[s];for(let s in e)n[s]=Nt(e[s]);return D(n,t)}class fr{constructor({props:e,values:t}){this.nameMap={},this.config=ht(e,t,this.nameMap)}init(e){e.init(this.config.defaultValues)}create(){let e=Nt(this.config);return e.memoize?e.memoize():e}createStoreSelector(){if(this.config.constant){let t=Wt({},this.config.constants);return()=>t}let e=this.create();return t=>e(t.getData())}}var Qe=k(6982);const kt=Qe.VDOM;var rr=Object.defineProperty,Qr=Object.getOwnPropertySymbols,ju=Object.prototype.hasOwnProperty,Hu=Object.prototype.propertyIsEnumerable,uo=(r,e,t)=>e in r?rr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Uu=(r,e)=>{for(var t in e||(e={}))ju.call(e,t)&&uo(r,t,e[t]);if(Qr)for(var t of Qr(e))Hu.call(e,t)&&uo(r,t,e[t]);return r};const A=kt;let co=100;class ce extends R{constructor(e){super(e);this.widgetId=co++,p(this.jsxSpread)&&(this.jsxAttributes||(this.jsxAttributes=[]),this.jsxSpread.forEach(t=>{for(var i in t)this[i]=t[i],this.jsxAttributes.push(i)}))}init(){if(this.styles&&(this.style=this.styles),this.styled?this.style=oe(this.style):this.style&&(ue.warn("Components that allow use of the style attribute should set styled = true on their prototype. This will be an error in future versions."),this.style=oe(this.style),this.styled=!0),typeof this.if!="undefined"&&(this.visible=this.if),this.declareData(),this.outerLayout){if(p(this.outerLayout))throw new Error("Only single element outer layout is supported.");this.outerLayout=ce.create(this.outerLayout)}this.contentFor&&(this.putInto=this.contentFor),this.putInto&&(this.isContent=!0),P(this.CSS)&&(this.CSS=ne.get(this.CSS)),this.initHelpers(),this.initComponents(),this.initialized=!0}initComponents(){if(arguments.length>0){this.components=Object.assign(...arguments);for(var e in this.components)this.components[e]||delete this.components[e]}}initHelpers(){arguments.length>0&&(this.helpers=Object.assign(...arguments))}declareData(){let e={};this.styled&&(e.class=e.className=e.style={structured:!0});var t=Uu({visible:void 0,mod:{structured:!0}},e);Object.assign(t,...arguments),this.selector=new fr({props:t,values:this}),this.nameMap=this.selector.nameMap}prepareCSS(e,{data:t}){t.classNames=this.CSS.expand(this.CSS.block(this.baseClass,t.mod,t.stateMods),t.class,t.className),t.style=oe(t.style)}prepareData(e,t){this.styled&&this.prepareCSS(e,t)}initInstance(e,t){this.onInit&&this.onInit(e,t)}initState(e,t){}checkVisible(e,t,i){return i.visible}explore(e,t){this.components&&(t.components={});for(let i in this.components){let n=t.getChild(e,this.components[i],"cmp-"+i,t.store);n.scheduleExploreIfVisible(e)&&(t.components[i]=n)}}render(e,t,i){throw ue.log(this),new Error(`Widget's render method should be overridden. This error usually happens if with incorrect imports, i.e. import { TextField } from "cx/data". Please check the console for details about the component configuration.`)}update(){this.version=(this.version||0)+1}static resetCounter(){co=100}}ce.prototype.visible=!0,ce.prototype.memoize=!0,ce.prototype.CSS="cx",ce.prototype.styled=!1,ce.namespace="ui.",ce.optimizePrepare=!0,ce.factory=(r,e,t)=>{throw new Error(`Invalid widget type: ${r}.`)};function Mr(r,e,t){if(e==null||e===!1)return!1;if(p(e))e.forEach(i=>Mr(r,i));else{if(g(e.content)&&!e.atomic)return Mr(r,e.content);t&&r.push(" "),r.push(e)}return!0}function ho(r){let e=[];return Mr(e,r),e}function ft(r){let e=ho(r);return e.length==0?null:e.length==1?e[0]:e}let qn=0,Jn=new N;function Rt(r){A.DOM.unstable_batchedUpdates?A.DOM.unstable_batchedUpdates(()=>{qn++;try{r()}finally{qn--}}):r()}function Vu(){return qn>0}function fo(){Jn.execute(r=>{r.pending++})}function po(){Jn.execute(r=>{r.finished++,r.finished>=r.pending&&r.complete(!0)})}let $u=0;function Bu(r,e,t=1e3){let i={id:++$u,pending:0,finished:0,done:!1};i.unsubscribe=Jn.subscribe(i),i.complete=n=>{i.done||(i.done=!0,i.timer&&clearInterval(i.timer),i.unsubscribe(),e(!!n))},Rt(r),i.pending<=i.finished?i.complete(!0):i.timer=setTimeout(i.complete,t)}let Wu=0,Zr=1,ei={},ti=null,mo=!1,Ni=null,vo=!1;class Qn{static connect(e,t,i){this.store=e,this.urlBinding=t,this.hashBinding=i,this.updateStore(),window.onpopstate=()=>{this.updateStore()}}static pushState(e,t,i){return this.confirmAndNavigate(e,t,i)}static replaceState(e,t,i){return this.navigate(e,t,i,!0)}static reloadOnNextChange(){mo=!0}static addNavigateConfirmation(e,t=!1){Ni=e,vo=t}static confirmAndNavigate(e,t,i,n){if(!Ni)return this.navigate(e,t,i,n);let s=Ni(i);return Promise.resolve(s).then(o=>{o&&(vo||(Ni=null),this.navigate(e,t,i,n))}),!1}static navigate(e,t,i,n=!1){if(i=te.resolve(i),!window.history.pushState||mo)return window.location[n?"replace":"assign"](i),!0;let s,o=!1;return Bu(()=>{o=this.updateStore(i),o&&(ei[++Wu]=s={url:i,state:e,title:t,replace:n})},()=>{for(s&&(s.completed=!0);ei[Zr]&&ei[Zr].completed;){let a=ei[Zr];delete ei[Zr],Zr++;let l=a.replace?"replaceState":"pushState";window.history[l](a.state,a.title,a.url),ti&&ti.notify(a.url,l)}}),o}static updateStore(e){let t=te.unresolve(e||document.location.href),i=null,n=t.indexOf("#");return n!==-1&&(i=t.substring(n),t=t.substring(0,n)),this.hashBinding&&this.store.set(this.hashBinding,i),this.store.set(this.urlBinding,t)}static subscribe(e){return ti||(ti=new N),ti.subscribe(e)}}class zu extends j{constructor(e){super({store:e()});Object.defineProperty(this,"store",{get:e})}getData(){return this.store.getData()}}var Ku=Object.defineProperty,go=Object.getOwnPropertySymbols,Gu=Object.prototype.hasOwnProperty,Xu=Object.prototype.propertyIsEnumerable,yo=(r,e,t)=>e in r?Ku(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,pr=(r,e)=>{for(var t in e||(e={}))Gu.call(e,t)&&yo(r,t,e[t]);if(go)for(var t of go(e))Xu.call(e,t)&&yo(r,t,e[t]);return r};const bo="computable-",wo="trigger-";class Lr extends R{init(e){this.initialized||(this.initialized=!0,this.onInit&&this.onInit(e))}explore(e){let{store:t}=this.instance;if(this.store=t,this.initialized||(this.init(e),this.initialized=!0),this.computables)for(let i in this.computables){let n=this.computables[i],s=n.selector(t.getData());n.type=="computable"&&t.set(n.name,s)}this.onExplore&&this.onExplore(e)}prepare(e){this.onPrepare&&this.onPrepare(e)}cleanup(e){this.onCleanup&&this.onCleanup(e)}addComputable(e,t,i){if(!p(t))throw new Error("Second argument to the addComputable method should be an array.");let n=pe(...t,i).memoize();this.computables||(this.computables={}),this.computables[bo+e]={name:e,selector:n,type:"computable"}}addTrigger(e,t,i,n){if(!p(t))throw new Error("Second argument to the addTrigger method should be an array.");let s=pe(...t,i).memoize(!n&&this.store.getData());this.computables||(this.computables={}),this.computables[wo+e]={name:e,selector:s,type:"trigger"}}removeTrigger(e){this.computables&&delete this.computables[wo+e]}removeComputable(e){this.computables&&delete this.computables[bo+e]}invokeParentMethod(e,...t){return this.instance.parent.invokeControllerMethod(e,...t)}invokeMethod(e,...t){return this.instance.invokeControllerMethod(e,...t)}}Lr.namespace="ui.controller.",Lr.factory=function(r,e,t){if(C(r)){let i=pr(pr({},e),t);i.instance&&(i.store=new zu(()=>i.instance.store),Object.assign(i,i.store.getMethods()));let n=r(i);return n instanceof Lr?n:Lr.create(pr(pr(pr({},e),t),n))}return Lr.create(pr(pr({},e),t))};function Yu(r,e){let t,i,n;return function(){i=this,n=arguments,t||(t=setTimeout(function(){r.apply(i,n),t=null},e))}}function qu(r,e,t){let i,n=function(...s){clearTimeout(i);let o=e();i=setTimeout(function(){let a=e();o===a&&r(...s)},t)};return n.reset=function(...o){clearTimeout(i),r(...o)},n}function ir(r){return Array.isArray(r)&&r.length>0}var Ju=Object.defineProperty,Eo=Object.getOwnPropertySymbols,Qu=Object.prototype.hasOwnProperty,Zu=Object.prototype.propertyIsEnumerable,Co=(r,e,t)=>e in r?Ju(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ec=(r,e)=>{for(var t in e||(e={}))Qu.call(e,t)&&Co(r,t,e[t]);if(Eo)for(var t of Eo(e))Zu.call(e,t)&&Co(r,t,e[t]);return r};let tc=1e3;class ki{constructor(e,t,i,n){this.widget=e,this.key=t,this.id=String(++tc),this.cached={},this.parent=i,this.store=n}setStore(e){this.store=e}init(e){this.widget.initialized||(this.widget.init(e),this.widget.initialized=!0),this.dataSelector||(this.widget.selector.init(this.store),this.dataSelector=this.widget.selector.createStoreSelector()),this.widget.initInstance(e,this),this.widget.initState(e,this),this.widget.controller&&(this.controller=Lr.create(this.widget.controller,{widget:this.widget,instance:this,store:this.store})),(this.widget.exploreCleanup||this.widget.outerLayout||this.widget.isContent||this.widget.controller||this.widget.prepareCleanup)&&(this.needsExploreCleanup=!0),(this.widget.prepare||this.widget.controller)&&(this.needsPrepare=!0),(this.widget.cleanup||this.widget.controller)&&(this.needsCleanup=!0),this.initialized=!0}checkVisible(e){this.initialized||this.init(e);let t=this.visible;return this.rawData=this.dataSelector(this.store),this.visible=this.widget.checkVisible(e,this,this.rawData),this.visible&&!this.detached&&this.parent.instanceCache.addChild(this),this.explored=!1,this.prepared=!1,!this.visible&&t&&this.destroy(),this.visible}scheduleExploreIfVisible(e){return this.checkVisible(e)?(e.exploreStack.push(this),this.needsExploreCleanup&&e.exploreStack.push(this),!0):!1}cache(e,t){return this.cached[e]===t?!1:(this.cacheList||(this.cacheList={}),this.cacheList[e]=t,!0)}markShouldUpdate(e){let t=this,i=this.renderList;for(i.markReverseIndex();t&&!t.shouldUpdate&&t.explored;)t.renderList!==i&&(i.reverse(),i=t.renderList,i.markReverseIndex()),t.shouldUpdate=!0,i.data.push(t),t=t.widget.isContent?t.contentPlaceholder:t.parent.outerLayout===t?t.parent.parent:t.parent;i.reverse()}explore(e){if(!this.visible)throw new Error("Explore invisible!");if(this.explored){this.widget.prepareCleanup&&e.prepareList.push(this),this.widget.exploreCleanup&&this.widget.exploreCleanup(e,this),this.parent.outerLayout===this&&e.popNamedValue("content","body"),this.widget.controller&&e.pop("controller");return}this.explored=!0,this.needsPrepare?e.prepareList.push(this):this.prepared=!0,this.needsCleanup&&e.cleanupList.push(this),this.instanceCache&&this.instanceCache.mark(),this.parentOptions=e.parentOptions,this.controller||(e.controller?this.controller=e.controller:this.parent.controller&&(this.controller=this.parent.controller)),this.destroyTracked=!1,this.controller&&this.widget.controller&&(this.controller.initialized||(this.controller.init(e),this.controller.initialized=!0),e.push("controller",this.controller),this.controller.explore(e),this.controller.onDestroy&&this.controller.widget==this.widget&&this.trackDestroy()),(this.widget.onDestroy||ir(this.destroySubscriptions))&&this.trackDestroy(),this.renderList=this.assignedRenderList||this.parent.renderList||e.getRootRenderList();let t=this.rawData!==this.cached.rawData||this.state!==this.cached.state||this.widget.version!==this.cached.widgetVersion||this.cached.globalCacheIdentifier!==Fe.get();if(t&&(this.data=ec({},this.rawData),this.widget.prepareData(e,this),this.widget,void 0),this.widget.onExplore&&this.widget.onExplore(e,this),this.parent.outerLayout===this&&(this.renderList=this.renderList.insertRight(),e.pushNamedValue("content","body",this.parent)),this.widget.outerLayout&&(this.outerLayout=this.getChild(e,this.widget.outerLayout,null,this.store),this.outerLayout.scheduleExploreIfVisible(e),this.renderList=this.renderList.insertLeft()),this.widget.isContent&&(this.contentPlaceholder=e.contentPlaceholder&&e.contentPlaceholder[this.widget.putInto],this.contentPlaceholder?e.contentPlaceholder[this.widget.putInto](this):(this.renderList=this.renderList.insertLeft(),e.pushNamedValue("content",this.widget.putInto,this))),this.shouldUpdate=!1,(t||this.childStateDirty||!this.widget.memoize)&&this.markShouldUpdate(e),e.exploreStack.hop(),this.widget.helpers){this.helpers={};for(let i in this.widget.helpers){let n=this.widget.helpers[i];if(n){let s=this.getChild(e,n);s.scheduleExploreIfVisible(e)&&(this.helpers[i]=s)}}}this.widget.explore(e,this,this.data)}prepare(e){if(!this.visible)throw new Error("Prepare invisible!");if(this.prepared){this.widget.prepareCleanup&&this.widget.prepareCleanup(e,this);return}this.prepared=!0,this.widget.prepare&&this.widget.prepare(e,this),this.widget.controller&&this.controller.prepare&&this.controller.prepare(e)}render(e){if(!this.visible)throw new Error("Render invisible!");if(this.shouldUpdate){this.widget,this.key;let t=rc(this.widget.render(e,this,this.key));this.widget.isContent||this.outerLayout?this.contentVDOM=t:this.vdom=t}if(this.cacheList)for(let t in this.cacheList)this.cached[t]=this.cacheList[t];if(this.cacheList=null,this.cached.rawData=this.rawData,this.cached.data=this.data,this.cached.state=this.state,this.cached.widgetVersion=this.widget.version,this.cached.globalCacheIdentifier=Fe.get(),this.childStateDirty=!1,this.instanceCache&&this.instanceCache.sweep(),this.parent.outerLayout===this){let t=this.parent;for(;t.parent.outerLayout==t;)t=t.parent;t.vdom=this.vdom}return this.vdom}cleanup(e){this.widget.controller&&this.controller.cleanup&&this.controller.cleanup(e),this.widget.cleanup&&this.widget.cleanup(e,this)}trackDestroy(){this.destroyTracked||(this.destroyTracked=!0,this.parent&&!this.detached&&this.parent.trackDestroyableChild(this))}trackDestroyableChild(e){this.instanceCache.trackDestroy(e),this.trackDestroy()}subscribeOnDestroy(e){return this.destroySubscriptions||(this.destroySubscriptions=[]),this.destroySubscriptions.push(e),this.trackDestroy(),()=>{this.destroySubscriptions&&this.destroySubscriptions.filter(t=>t!=e)}}destroy(){this.instanceCache&&(this.instanceCache.destroy(),this.instanceCache=null),this.destroySubscriptions&&(this.destroySubscriptions.forEach(e=>e()),this.destroySubscriptions=null),this.destroyTracked&&(this.widget.onDestroy&&this.widget.onDestroy(this),this.widget.controller&&this.controller&&this.controller.onDestroy&&this.controller.widget==this.widget&&this.controller.onDestroy(),this.destroyTracked=!1)}setState(e){let t=!!this.state;if(this.state){for(let n in e)if(this.state[n]!==e[n]){t=!1;break}}if(t)return;this.state=Object.assign({},this.state,e);let i=this.parent;for(;i;)i.childStateDirty=!0,i=i.parent;Rt(()=>{this.store.notify()})}set(e,t,i={}){i.internal&&this.rawData&&(this.rawData[e]=t,this.data[e]=t);let n=this.setters&&this.setters[e];if(n)return i.immediate&&C(n.reset)?n.reset(t):n(t),!0;let s=this.widget[e];if(s&&typeof s=="object"){if(s.debounce)return this.definePropertySetter(e,qu(o=>this.doSet(e,o),()=>this.dataSelector(this.store)[e],s.debounce)),this.set(e,t,i),!0;if(s.throttle)return this.definePropertySetter(e,Yu(o=>this.doSet(e,o),s.throttle)),this.set(e,t,i),!0}return this.doSet(e,t)}definePropertySetter(e,t){this.setters||(this.setters={}),this.setters[e]=t}doSet(e,t){let i=!1;return Rt(()=>{let n=this.widget[e];if(M(n))if(n.set)C(n.set)?(n.set(t,this),i=!0):P(n.set)&&(this.controller[n.set](t,this),i=!0);else if(n.action){let s=n.action(t,this);this.store.dispatch(s),i=!0}else P(n.bind)&&(i=this.store.set(n.bind,t))}),i}nestedDataSet(e,t,i,n){let s=i[e];if(!s)throw new Error(`Unknown nested data key ${e}. Known keys are ${Object.keys(i).join(", ")}.`);if(s.bind){var o=this.store;return n&&o.store&&(o=o.store),qe(t)?o.deleteItem(s.bind):o.setItem(s.bind,t)}if(!s.set)throw new Error(`Cannot change nested data value for ${e} as it's read-only. Either define it as a binding or define a set function.`);if(P(s.set))this.getControllerMethod(s.set)(t,this);else if(C(s.set))s.set(t,this);else throw new Error(`Cannot change nested data value for ${e} the defined setter is neither a function nor a controller method.`);return!0}replaceState(e){this.cached.state=this.state,this.state=e,this.store.notify()}getInstanceCache(){return this.instanceCache||(this.instanceCache=new Oo(this,this.widget.isPureContainer?this.key:null)),this.instanceCache}clearChildrenCache(){this.instanceCache&&this.instanceCache.destroy()}getChild(e,t,i,n){return this.getInstanceCache().getChild(t,n||this.store,i)}getDetachedChild(e,t,i){let n=new ki(e,t,this,i||this.store);return n.detached=!0,n}prepareRenderCleanupChild(e,t,i,n){return e.prepareRenderCleanup(t||this.store,n,i,this)}getJsxEventProps(){let{widget:e}=this;if(!p(e.jsxAttributes))return null;let t={};return e.jsxAttributes.forEach(i=>{i.indexOf("on")==0&&i.length>2&&(t[i]=n=>this.invoke(i,n,this))}),t}getCallback(e){let t=this.widget,i=t[e];if(typeof i=="string")return this.getControllerMethod(i);if(typeof i!="function")throw new Error(`Cannot invoke callback method ${e} as assigned value is not a function.`);return i.bind(t)}getControllerMethod(e){if(!this.controller)throw new Error(`Cannot invoke controller method "${e}" as controller is not assigned to the widget.`);let t=this;for(;t!=null&&t.controller&&!t.controller[e];)t=t.parent;if(!t||!t.controller||!t.controller[e])throw new Error(`Cannot invoke controller method "${e}". The method cannot be found in any of the assigned controllers.`);return t.controller[e].bind(t.controller)}invoke(e,...t){return this.getCallback(e).apply(null,t)}invokeControllerMethod(e,...t){return this.getControllerMethod(e).apply(null,t)}}function rc(r){return r!=null&&g(r.content)?r:{content:r}}class Oo{constructor(e,t){this.children={},this.parent=e,this.marked={},this.monitored=null,this.keyPrefix=t!=null?t+"-":""}getChild(e,t,i){let n=this.keyPrefix+(i!=null?i:e.vdomKey||e.widgetId),s=this.children[n];return(!s||s.widget!==e||!s.visible&&(s.widget.controller||s.widget.onInit))&&(s=new ki(e,n,this.parent),this.children[n]=s),s.store!==t&&s.setStore(t),s}addChild(e){this.marked[e.key]=e}mark(){this.marked={}}trackDestroy(e){this.monitored||(this.monitored={}),this.monitored[e.key]=e}destroy(){if(this.children={},this.marked={},!!this.monitored){for(let e in this.monitored)this.monitored[e].destroy();this.monitored=null}}sweep(){if(this.children=this.marked,!this.monitored)return;let e=0;for(let t in this.monitored){let i=this.monitored[t],n=this.children[t];n!==i||!i.visible?(i.destroy(),delete this.monitored[t],n===i&&delete this.children[t]):e++}e===0&&(this.monitored=null)}}class ic{constructor(){this.data=[]}push(e){this.data.length==0&&this.hop(),this.data[this.data.length-1].elements.push(e)}hop(){this.data.push({elements:[],index:0})}pop(){for(;this.data.length>0;){let e=this.data[this.data.length-1];if(e.index<e.elements.length)return e.index++,e.elements[e.index-1];this.data.pop()}return null}empty(){for(;this.data.length>0;){let e=this.data[this.data.length-1];if(e.index<e.elements.length)return!1;this.data.pop()}return!0}}function nc(r,e){let t=r.length-1;for(;e<t;){let i=r[e];r[e]=r[t],r[t]=i,e++,t--}}class _o{constructor(e){this.options=e||{},this.exploreStack=new ic,this.prepareList=[],this.cleanupList=[],this.stacks={},this.renderList=new Ri}getStack(e){let t=this.stacks[e];return t||(t=this.stacks[e]=[]),t}push(e,t){return this.getStack(e).push(this[e]),this[e]=t}pop(e){let t=this.getStack(e);return this[e]=t.pop()}pushNamedValue(e,t,i){let n=this.getStack(`${e}:${t}`);return this[e]||(this[e]={}),n.push(this[e][t]),this[e][t]=i}popNamedValue(e,t){let i=this.getStack(`${e}:${t}`);return this[e][t]=i.pop()}get(e){return this[e]}getRootRenderList(){let e=this.renderList;for(;e.left;)e=e.left;return e}}class Ri{constructor(e,t){this.left=e,this.right=t,this.data=[]}insertLeft(){let e=new Ri(this.left,this);return this.left&&(this.left.right=e),this.left=e,e}insertRight(){let e=new Ri(this,this.right);return this.right&&(this.right.left=e),this.right=e,e}markReverseIndex(){this.reverseIndex=this.data.length}reverse(){nc(this.data,this.reverseIndex)}}const Fy="app-loop",jy="vdom-render";let Hy={},Uy={},Vy=()=>Date.now();function At(){return 0}function sc(r){}function oc(r){}function ac(r){}function lc(r){}const uc={now:At,enable:sc,disable:oc,count:ac,log:lc};function Fr(r,e){if(r===e)return!0;let t=typeof r,i=typeof e,n,s;if(t!=i||r==null||e==null)return!1;if(t=="object")if(p(r)){if(!p(e)||r.length!=e.length)return!1;for(s=0;s<r.length;s++)if(!Fr(r[s],e[s]))return!1;return!0}else{for(n in r)if(r.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||r[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&(!r.hasOwnProperty(n)||r[n]!==e[n]))return!1;return!0}return r===e}class Zn extends ce{render(){return this.text}}ce.alias("static-text",Zn);class So extends ce{init(){!this.value&&(this.tpl||this.expr||this.bind)&&(this.value={tpl:this.tpl,expr:this.expr,bind:this.bind}),super.init()}declareData(){super.declareData({value:void 0},...arguments)}render(e,{data:t},i){return t.value!=null?t.value:""}}ce.alias("text",So);function cc(r){return r=r.replace(/\t/g,""),r=r.replace(/(\s*[\r\n]\s*)/g,""),r}function dc(r,e,t,i,n,s,o,a){let l=i||[],u=i||l,c=i?0:-1;for(let m=0;m<t.length;m++){let y=e.getChild(r,t[m],n,s);y.checkVisible(r)&&(c>=0?y==u[c]?c++:(l=l.slice(0,c),c=-1,l.push(y)):l.push(y),r.exploreStack.push(y),y.needsExploreCleanup&&r.exploreStack.push(y))}return c>=0&&c!=l.length&&(l=l.slice(0,c)),l}var hc=Object.defineProperty,fc=Object.defineProperties,pc=Object.getOwnPropertyDescriptors,xo=Object.getOwnPropertySymbols,mc=Object.prototype.hasOwnProperty,vc=Object.prototype.propertyIsEnumerable,Po=(r,e,t)=>e in r?hc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gc=(r,e)=>{for(var t in e||(e={}))mc.call(e,t)&&Po(r,t,e[t]);if(xo)for(var t of xo(e))vc.call(e,t)&&Po(r,t,e[t]);return r},yc=(r,e)=>fc(r,pc(e));class zt extends ce{init(e){typeof this.ws!="undefined"&&(this.preserveWhitespace=this.ws),this.preserveWhitespace&&(this.trimWhitespace=!1);let t=this.items||this.children||[];if(delete this.children,this.items=[],this.layout){let i=ce.create({type:this.layout,items:t});i.init(e),this.layout=null,i.noLayout?(this.useParentLayout=!0,this.add(t)):(this.add(i),this.layout=i)}else this.add(t);super.init(e)}exploreItems(e,t,i){t.children=dc(e,t,i,t.cached.children),t.cache("children",t.children)&&t.markShouldUpdate(e)}explore(e,t){super.explore(e,t),this.exploreItems(e,t,this.items)}render(e,t){return this.renderChildren(e,t)}renderChildren(e,t){let i=this.useParentLayout;function n(o,a){if(a!=null){if(!a.hasOwnProperty("content")){Mr(o,a);return}if(a.useParentLayout)return a.content.forEach(l=>n(o,l));if(a.atomic||i)o.push(a);else{let l=!0;for(let u in a)Mr(o,a[u],!l)&&(l=!1)}}}let s=[];for(let o=0;o<t.children.length;o++)n(s,t.children[o].vdom);return this.useParentLayout?{useParentLayout:!0,content:s}:s}clear(){this.layout?this.layout.clear():this.items=[]}add(...e){if(this.layout)return this.layout.add(...e);e.forEach(t=>{!t||(p(t)?t.forEach(i=>this.add(i)):P(t)?(this.trimWhitespace&&(t=cc(t)),t&&this.addText(t)):t.isComponent?this.items.push(this.wrapItem(t)):this.add(ce.create(t,this.itemDefaults)))})}wrapItem(e){return e}addText(e){this.plainText||e.indexOf("{")==-1||e.indexOf("}")==-1?this.add(ce.create(Zn,{text:e})):this.add(ce.create(So,{text:{tpl:e}}))}find(e,t){if(t||(t={}),!e||!this.items)return[];let i=e;P(e)&&(e=s=>s.componentAlias==i),e.isComponentType&&(e=s=>s instanceof i);let n=[];for(let s=0;s<this.items.length;s++){let o=this.items[s];if(o.initialized||o.init(),e(o)&&(n.push(o),t.first))break;o.find&&n.push(...o.find(e,t))}return n}findFirst(e,t){return this.find(e,yc(gc({},t),{first:!0}))[0]}}zt.prototype.trimWhitespace=!0,zt.prototype.plainText=!0,zt.prototype.styled=!1;class nt extends zt{}nt.prototype.isPureContainer=!0,nt.alias("pure-container",nt);function bc(r,e){let t=null;return typeof requestIdleCallback=="function"?t=requestIdleCallback(r,e):t=setTimeout(r,1),()=>{typeof cancelIdleCallback=="function"?cancelIdleCallback(t):clearTimeout(t)}}class ri extends A.Component{constructor(e){super(e);if(e.instance)this.widget=e.instance.widget,this.store=e.instance.store;else if(this.widget=nt.create({items:e.widget||e.items}),e.parentInstance?(this.parentInstance=e.parentInstance,this.store=e.store||this.parentInstance.store):(this.parentInstance=new ki(this.widget,0),this.store=e.store),!this.store)throw new Error("Cx component requires store.");this.state={deferToken:0},e.subscribe&&(this.unsubscribe=this.store.subscribe(this.update.bind(this)),this.state.data=this.store.getData()),this.flags={},this.renderCount=0,e.onError&&(this.componentDidCatch=this.componentDidCatchHandler.bind(this)),this.forceUpdateCallback=this.forceUpdate.bind(this),this.deferCounter=0,this.waitForIdle()}UNSAFE_componentWillReceiveProps(e){let t=e.instance?e.instance.store:e.store?e.store:e.parentInstance.store;if(t!=this.store&&(this.store=t,this.unsubscribe&&this.unsubscribe(),e.subscribe&&(this.unsubscribe=this.store.subscribe(this.update.bind(this)))),e.subscribe){let i=this.store.getData();i!==this.state.data&&(this.waitForIdle(),this.setState({data:i}))}}getInstance(){if(this.props.instance)return this.props.instance;if(this.instance&&this.instance.widget===this.widget)return this.instance.store!=this.store&&this.instance.setStore(this.store),this.instance;if(this.widget&&this.parentInstance)return this.instance=this.parentInstance.getDetachedChild(this.widget,0,this.store);throw new Error("Could not resolve a widget instance in the Cx component.")}render(){return this.props.deferredUntilIdle&&this.state.deferToken<this.deferCounter?null:A.createElement(wc,{instance:this.getInstance(),flags:this.flags,options:this.props.options,buster:++this.renderCount,contentFactory:this.props.contentFactory,forceUpdate:this.forceUpdateCallback})}componentDidMount(){this.componentDidUpdate(),this.props.options&&this.props.options.onPipeUpdate&&this.props.options.onPipeUpdate(this.update.bind(this))}componentDidUpdate(){this.flags.dirty&&this.update()}update(){let e=this.store.getData();this.flags.preparing?this.flags.dirty=!0:Vu()||this.props.immediate?(fo(),this.setState({data:e},po)):this.pendingUpdateTimer||(fo(),this.pendingUpdateTimer=setTimeout(()=>{delete this.pendingUpdateTimer,this.setState({data:e},po)},0))}waitForIdle(){if(!this.props.deferredUntilIdle)return;this.unsubscribeIdleRequest&&this.unsubscribeIdleRequest();let e=++this.deferCounter;this.unsubscribeIdleRequest=bc(()=>{this.setState({deferToken:e})},{timeout:this.props.idleTimeout||3e4})}componentWillUnmount(){this.pendingUpdateTimer&&clearTimeout(this.pendingUpdateTimer),this.unsubscribeIdleRequest&&this.unsubscribeIdleRequest(),this.unsubscribe&&this.unsubscribe(),this.props.options&&this.props.options.onPipeUpdate&&this.props.options.onPipeUpdate(null)}shouldComponentUpdate(e,t){return e.deferredUntilIdle&&t.deferToken!=this.deferCounter?!1:t!==this.state||!e.params||!Fr(e.params,this.props.params)||e.instance!==this.props.instance||e.widget!==this.props.widget||e.store!==this.props.store||e.parentInstance!==this.props.parentInstance}componentDidCatchHandler(e,t){this.flags.preparing=!1,this.props.onError(e,this.getInstance(),t)}}let $y=null;class wc extends A.Component{constructor(e){super(e);this.renderCount=0,this.UNSAFE_componentWillReceiveProps(e)}UNSAFE_componentWillReceiveProps(e){this.timings={start:At()};let{instance:t,options:i,contentFactory:n}=e,s=0,o,a;if(!t.detached)throw new Error("The instance passed to a Cx component should be detached from its parent.");this.props.instance!==t&&this.props.instance.destroyTracked&&this.props.instance.destroy(),this.props.flags.preparing=!0;do if(a=new _o(i),a.forceUpdate=this.props.forceUpdate,this.props.flags.dirty=!1,t.assignedRenderList=a.getRootRenderList(),o=t.scheduleExploreIfVisible(a),o)for(;!a.exploreStack.empty();)a.exploreStack.pop().explore(a);else if(t.destroyTracked){t.destroy();break}while(this.props.flags.dirty&&++s<=3&&ce.optimizePrepare&&At()-this.timings.start<8);if(o){this.timings.afterExplore=At();for(let u=0;u<a.prepareList.length;u++)a.prepareList[u].prepare(a);this.timings.afterPrepare=At();let l=a.getRootRenderList();for(;l;){for(let u=l.data.length-1;u>=0;u--)l.data[u].render(a);l=l.right}this.content=ft(t.vdom),n&&(this.content=n({children:this.content})),this.timings.afterRender=At();for(let u=0;u<a.cleanupList.length;u++)a.cleanupList[u].cleanup(a)}else this.content=null,this.timings.afterExplore=this.timings.afterPrepare=this.timings.afterRender=At();this.timings.beforeVDOMRender=At(),this.props.flags.preparing=!1,this.props.flags.rendering=!0,this.renderingContext=a}render(){return this.content}componentDidMount(){this.componentDidUpdate()}componentDidUpdate(){this.props.flags.rendering=!1,this.timings.afterVDOMRender=At(),this.timings.afterCleanup=At(),this.renderCount++}componentWillUnmount(){let{instance:e}=this.props;e.destroyTracked&&e.destroy()}}function es(r,e,t,i={}){if(!r||r.nodeType!==1)throw new Error("First argument to startAppLoop should be a valid DOM element.");let n,s,o;if(e||(e=new B),e.notify)n=e;else if(e.getChild)e.widget===t?s=e:o=e;else throw new Error("Second argument to startAppLoop should be either of type Store or Instance");let a=A.createElement(ri,{store:n,widget:t,instance:s,parentInstance:o,options:i,subscribe:!0});A.DOM.render(a,r);let l=!1;return function(){l||(l=!0,i.destroyDelay?setTimeout(()=>{Do(r,i)},i.destroyDelay):Do(r,i))}}function Do(r,e){A.DOM.unmountComponentAtNode(r),e.removeParentDOMElement&&r.parentNode&&r.parentNode.removeChild(r)}function Ec(r,e,t,i,n){let s;return r.hot&&(r.hot.accept(),r.hot.dispose(function(o){o.state=t.getData(),s&&s()}),r.hot.data&&t.load(r.hot.data.state)),ce.resetCounter(),s=es(e,t,i,n)}var Cc=function(){function r(t){this.cultures=t}var e=r.prototype;return e.load=function(){var i=new Intl.NumberFormat(this.cultures),n=i.format("0.1");this.decimalSeparator=n[1],this.decimalSepRegex=new RegExp("\\"+this.decimalSeparator,"g")},e.parse=function(i){if(typeof i!="string"||!i)return null;this.decimalSeparator||this.load();for(var n="",s=0;s<i.length;s++)(i[s]==this.decimalSeparator||i[s]>="0"&&i[s]<="9"||i[s]=="-")&&(n+=i[s]);var o=n.replace(this.decimalSepRegex,".");return parseFloat(o)},e.format=function(i,n){return this.getFormatter(n).format(i)},e.getFormatter=function(i){return new Intl.NumberFormat(this.cultures,i)},r}(),Oc=["narrow","short","long"],_c=["narrow","short","long"],Sc={useCurrentDateForDefaults:!1,loose:!1},xc=function(){function r(t){this.cultures=t}var e=r.prototype;return e.format=function(i,n){return this.getFormatter(n).format(i)},e.getFormatter=function(i){return new Intl.DateTimeFormat(this.cultures,Pc(i))},e.getWeekdayNames=function(i){return this.load(),this.weekdayNames.map(function(n){return n[i]})},e.getMonthNames=function(i){return this.load(),this.monthNames.map(function(n){return n[i]})},e.parse=function(i,n){var s=this,o=n===void 0?Sc:n,a=o.useCurrentDateForDefaults,l=o.loose;if(typeof i!="string"||!i)return null;this.load();var u=Dc(rs(i)),c=u.date,m=u.time,y=ts(c),E={year:void 0,month:void 0,date:void 0,hour:0,minute:0,second:0},z=!1;if(y.alphas.forEach(function(ee){for(var Q=0;Q<12;Q++)for(var ie in s.monthNames[Q])if(ee===s.monthNames[Q][ie].toLowerCase()){E.month=Q+1;return}z=!0}),y.numbers.forEach(function(ee){if(ee>31)E.year=ee;else if(ee>12)E.date=ee;else{for(var Q=0;Q<s.dateParts.length;Q++){var ie=s.dateParts[Q];if(E[ie]===void 0){E[ie]=ee;return}}z=!0}}),z&&!l)return NaN;a&&(E.date===void 0&&(E.month===void 0?E.date=new Date().getDate():E.date=1),E.month===void 0&&(E.year===void 0?E.month=new Date().getMonth()+1:E.month=1),E.year===void 0&&(E.year=new Date().getFullYear()));for(var X=["hour","minute","second"],$=ts(m),Z=0;Z<Math.min($.numbers.length,X.length);Z++)E[X[Z]]=$.numbers[Z];return $.alphas.forEach(function(ee){ee.toLowerCase()==="pm"&&E.hour>0&&E.hour<12&&(E.hour+=12),ee.toLowerCase()==="am"&&E.hour===12&&(E.hour=0)}),E.date>=1&&E.date<=31&&E.month>=1&&E.month<=12?new Date(E.year,E.month-1,E.date,E.hour,E.minute,E.second):Number.NaN},e.load=function(){var i=this;if(!this.loaded){for(var n,s=[],o=0;o<12;o++)s.push({});_c.forEach(function(m){var y=new Intl.DateTimeFormat(i.cultures,{month:m});for(n=0;n<12;n++)s[n][m]=rs(y.format(new Date(2e3,n,15))).replace(".","")}),this.monthNames=s;var a=[];for(n=0;n<7;n++)a.push({});Oc.forEach(function(m){var y=new Intl.DateTimeFormat(i.cultures,{weekday:m});for(n=0;n<7;n++){var E=new Date(2e3,0,n,12,0,0);a[E.getDay()][m]=rs(y.format(E)).replace(".","")}}),this.weekdayNames=a;var l=new Date(2077,10,22),u=new Intl.DateTimeFormat(this.cultures).format(l),c=u.replace(2077,"year").replace(11,"month").replace(22,"date");this.dateParts=ts(c).alphas,this.loaded=!0}},r}();function Pc(r){if(typeof r!="string")return r;for(var e={Y:0,y:0,M:0,D:0,d:0,H:0,h:0,m:0,i:0,S:0,s:0,A:0,a:0,P:0,p:0,N:0,n:0,T:0,t:0,U:0,u:0,Z:0,z:0},t=0;t<r.length;t++)e[r[t]]++;var i={},n=e.Y+e.y;n>2?i.year="numeric":n>0&&(i.year="2-digit");var s=e.M;s>3?i.month="long":s>2?i.month="short":s>1?i.month="2-digit":s>0&&(i.month="numeric");var o=e.d;o>1?i.day="2-digit":o>0&&(i.day="numeric");var a=e.D;a>3?i.weekday="long":a>1?i.weekday="short":a>0&&(i.weekday="narrow");var l=e.H+e.h;l>1?i.hour="2-digit":l>0&&(i.hour="numeric");var u=e.m;u>1?i.minute="2-digit":u>0&&(i.minute="numeric");var c=e.S+e.s;c>1?i.second="2-digit":c>0&&(i.second="numeric");var m=e.T+e.t;m>3?i.timeZoneName="long":m>0&&(i.timeZoneName="short");var y=e.A+e.a+e.P+e.p;y&&(i.hour12=!0);var E=e.N+e.n;E&&(i.hour12=!1);var z=e.U+e.u+e.Z+e.z;return z>0&&(i.timeZone="UTC"),i}function Dc(r){var e=r.indexOf(":");if(e===-1)return{date:r,time:""};for(;e>0&&r[e-1]>="0"&&r[e-1]<="9";)e--;return{date:r.substring(0,e),time:r.substring(e)}}function ts(r){for(var e=[],t=[],i="",n,s,o=0,a,l=0;l<=r.length;l++)l===r.length?n="end":(s=r[l],s.match(/[a-z]/i)?n="alpha":s.match(/[0-9]/)?n="number":n="sep"),n!==i&&(l>o&&(a=r.substring(o,l),i==="alpha"?t.push(a.toLowerCase()):i==="number"&&e.push(parseInt(a))),o=l,i=n);return{alphas:t,numbers:e}}function rs(r){return r.replace(/\u200E/g,"")}var Tc=Object.defineProperty,To=Object.getOwnPropertySymbols,Ic=Object.prototype.hasOwnProperty,Nc=Object.prototype.propertyIsEnumerable,Io=(r,e,t)=>e in r?Tc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,No=(r,e)=>{for(var t in e||(e={}))Ic.call(e,t)&&Io(r,t,e[t]);if(To)for(var t of To(e))Nc.call(e,t)&&Io(r,t,e[t]);return r};let Ai={},is={},ns={},ii={},ko=!1;class mr{static register(e){return t=>(this.registerPrototype(e,t),t)}static registerPrototype(e,t){Ai[e]=t.prototype,ns[e]&&this.override(e,ns[e])}static trackDefaults(){ko=!0}static restoreDefaults(){for(let e in ii){let t=Ai[e];if(!t)continue;let i=ii[e];for(let n in i)t[n]=i[n]}ii={}}static override(e,t){ns[e]=t;let i=Ai[e];if(i){if(ko&&!ii[e]){let n=ii[e]={};for(let s in t)n[s]=i[s]}Object.assign(i,t)}}static localize(e,t,i){let n=is[e];n||(n=is[e]={}),n[t]=No(No({},n[t]),i)}static setCulture(e){var t=is[e];if(t)for(var i in t){var n=Ai[i];n&&Object.assign(n,t[i])}}}function Ro(r,e){return r==null?e==null?0:-1:e==null||r>e?1:r<e?-1:0}let ni="en",vr={},Ao="USD",Mo=r=>r.toISOString();class Mt{static setCulture(e){ni=e,vr={},mr.setCulture(e),this.invalidateCache()}static setDefaultCurrency(e){Ao=e,this.invalidateCache()}static invalidateCache(){Fe.change(),Ii(),f()}static get defaultCurrency(){return Ao}static get culture(){return ni}static getNumberCulture(){return vr.numberCulture||(vr.numberCulture=new Cc(ni)),vr.numberCulture}static getDateTimeCulture(){return vr.dateCulture||(vr.dateCulture=new xc(ni)),vr.dateCulture}static getDefaultDateEncoding(){return Mo}static setDefaultDateEncoding(e){Mo=e}static getComparer(e){return typeof Intl.Collator!="undefined"?new Intl.Collator(ni,e).compare:Ro}}var kc=Object.defineProperty,Lo=Object.getOwnPropertySymbols,Rc=Object.prototype.hasOwnProperty,Ac=Object.prototype.propertyIsEnumerable,Fo=(r,e,t)=>e in r?kc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ss=(r,e)=>{for(var t in e||(e={}))Rc.call(e,t)&&Fo(r,t,e[t]);if(Lo)for(var t of Lo(e))Ac.call(e,t)&&Fo(r,t,e[t]);return r};const Mi=rt;let jo=!1;function Mc(){jo||(jo=!0,rt.registerFactory(["number","n"],(r,e,t)=>{let n=Mt.getNumberCulture().getFormatter(Vt(e,t));return s=>n.format(s)}),rt.registerFactory("currency",(r,e,t,i)=>{let n=Mt.getNumberCulture();e=e||Mt.defaultCurrency;let s=n.getFormatter(ss({style:"currency",currency:e},Vt(t,i)));return o=>s.format(o)}),rt.registerFactory(["percentage","p","%"],(r,e,t)=>{let n=Mt.getNumberCulture().getFormatter(ss({style:"percent"},Vt(e,t)));return s=>n.format(s)}),rt.registerFactory(["percentSign","ps"],(r,e,t)=>{let n=Mt.getNumberCulture().getFormatter(ss({style:"percent"},Vt(e,t)));return s=>n.format(s/100)}),rt.registerFactory(["date","d"],(r,e="yyyyMMdd")=>{let i=Mt.getDateTimeCulture().getFormatter();return n=>i.format(new Date(n))}),rt.registerFactory(["time","t"],(r,e="hhmmss")=>{let i=Mt.getDateTimeCulture().getFormatter(e);return n=>i.format(new Date(n))}),rt.registerFactory(["datetime","dt"],(r,e="yyyyMd hhmm")=>{let i=Mt.getDateTimeCulture().getFormatter(e);return n=>i.format(new Date(n))}),Fe.change())}var Lc={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"};const os=(r,e)=>t=>(t.status=r,t.statusText=e||Lc[String(r)],t);var ke=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof k.g!="undefined"?k.g:typeof self!="undefined"?self:{},gr={},jr={},Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.normalizeHeaderName=void 0;var Fc=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function jc(r){if(typeof r!="string"&&(r=String(r)),Fc.test(r)||r.trim()==="")throw new TypeError("Invalid character in header field name");return r.toLowerCase()}Li.normalizeHeaderName=jc;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.normalizeHeaderValue=void 0;function Hc(r){return typeof r!="string"&&(r=String(r)),r}Fi.normalizeHeaderValue=Hc;var as=ke&&ke.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],n=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ho=ke&&ke.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s},ls=ke&&ke.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(jr,"__esModule",{value:!0});var ji=Li,Uc=Fi,Vc=function(){function r(e){var t=this;if(this._headers={},this._names=new Map,["Headers","HeadersPolyfill"].includes(e==null?void 0:e.constructor.name)||e instanceof r){var i=e;i.forEach(function(n,s){t.append(s,n)},this)}else Array.isArray(e)?e.forEach(function(n){var s=Ho(n,2),o=s[0],a=s[1];t.append(o,Array.isArray(a)?a.join(", "):a)}):e&&Object.getOwnPropertyNames(e).forEach(function(n){var s=e[n];t.append(n,Array.isArray(s)?s.join(", "):s)})}return r.prototype[Symbol.iterator]=function(){return this.entries()},r.prototype.keys=function(){var e,t,i,n,s,o;return as(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,7]),e=ls(Object.keys(this._headers)),t=e.next(),a.label=1;case 1:return t.done?[3,4]:(i=t.value,[4,i]);case 2:a.sent(),a.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=a.sent(),s={error:n},[3,7];case 6:try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(s)throw s.error}return[7];case 7:return[2]}})},r.prototype.values=function(){var e,t,i,n,s,o;return as(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,7]),e=ls(Object.values(this._headers)),t=e.next(),a.label=1;case 1:return t.done?[3,4]:(i=t.value,[4,i]);case 2:a.sent(),a.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=a.sent(),s={error:n},[3,7];case 6:try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(s)throw s.error}return[7];case 7:return[2]}})},r.prototype.entries=function(){var e,t,i,n,s,o;return as(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,7]),e=ls(Object.keys(this._headers)),t=e.next(),a.label=1;case 1:return t.done?[3,4]:(i=t.value,[4,[i,this.get(i)]]);case 2:a.sent(),a.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=a.sent(),s={error:n},[3,7];case 6:try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(s)throw s.error}return[7];case 7:return[2]}})},r.prototype.get=function(e){return this._headers[ji.normalizeHeaderName(e)]||null},r.prototype.set=function(e,t){var i=ji.normalizeHeaderName(e);this._headers[i]=Uc.normalizeHeaderValue(t),this._names.set(i,e)},r.prototype.append=function(e,t){var i=this.has(e)?this.get(e)+", "+t:t;this.set(e,i)},r.prototype.delete=function(e){if(!this.has(e))return this;var t=ji.normalizeHeaderName(e);return delete this._headers[t],this._names.delete(t),this},r.prototype.all=function(){return this._headers},r.prototype.raw=function(){var e=this;return Object.entries(this._headers).reduce(function(t,i){var n=Ho(i,2),s=n[0],o=n[1];return t[e._names.get(s)]=o,t},{})},r.prototype.has=function(e){return this._headers.hasOwnProperty(ji.normalizeHeaderName(e))},r.prototype.forEach=function(e,t){for(var i in this._headers)this._headers.hasOwnProperty(i)&&e.call(t,this._headers[i],i,this)},r}();jr.default=Vc;var Hi={},si={};Object.defineProperty(si,"__esModule",{value:!0}),si.headersToList=void 0;function $c(r){var e=[];return r.forEach(function(t,i){var n=t.includes(",")?t.split(",").map(function(s){return s.trim()}):t;e.push([i,n])}),e}si.headersToList=$c;var Bc=ke&&ke.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.headersToString=void 0;var Wc=si;function zc(r){var e=Wc.headersToList(r),t=e.map(function(i){var n=Bc(i,2),s=n[0],o=n[1],a=[].concat(o);return s+": "+a.join(", ")});return t.join(`\r
`)}Hi.headersToString=zc;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.headersToObject=void 0;var Kc=["user-agent"];function Gc(r){var e={};return r.forEach(function(t,i){var n=!Kc.includes(i.toLowerCase())&&t.includes(",");e[i]=n?t.split(",").map(function(s){return s.trim()}):t}),e}Ui.headersToObject=Gc;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.stringToHeaders=void 0;var Xc=jr;function Yc(r){var e=r.trim().split(/[\r\n]+/);return e.reduce(function(t,i){var n=i.split(": "),s=n.shift(),o=n.join(": ");return t.append(s,o),t},new Xc.default)}Vi.stringToHeaders=Yc;var $i={},qc=ke&&ke.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty($i,"__esModule",{value:!0}),$i.listToHeaders=void 0;var Jc=jr;function Qc(r){var e=new Jc.default;return r.forEach(function(t){var i=qc(t,2),n=i[0],s=i[1],o=[].concat(s);o.forEach(function(a){e.append(n,a)})}),e}$i.listToHeaders=Qc;var Bi={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.reduceHeadersObject=void 0;function Zc(r,e,t){return Object.keys(r).reduce(function(i,n){return e(i,n,r[n])},t)}Hr.reduceHeadersObject=Zc,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.objectToHeaders=void 0;var ed=jr,td=Hr;function rd(r){return td.reduceHeadersObject(r,function(e,t,i){var n=[].concat(i).filter(Boolean);return n.forEach(function(s){e.append(t,s)}),e},new ed.default)}Bi.objectToHeaders=rd;var Wi={},id=ke&&ke.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.flattenHeadersList=void 0;function nd(r){return r.map(function(e){var t=id(e,2),i=t[0],n=t[1];return[i,[].concat(n).join("; ")]})}Wi.flattenHeadersList=nd;var zi={};Object.defineProperty(zi,"__esModule",{value:!0}),zi.flattenHeadersObject=void 0;var sd=Hr;function od(r){return sd.reduceHeadersObject(r,function(e,t,i){return e[t]=[].concat(i).join("; "),e},{})}zi.flattenHeadersObject=od,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.flattenHeadersObject=r.flattenHeadersList=r.reduceHeadersObject=r.objectToHeaders=r.listToHeaders=r.stringToHeaders=r.headersToObject=r.headersToList=r.headersToString=r.Headers=void 0;var e=jr;Object.defineProperty(r,"Headers",{enumerable:!0,get:function(){return e.default}});var t=Hi;Object.defineProperty(r,"headersToString",{enumerable:!0,get:function(){return t.headersToString}});var i=si;Object.defineProperty(r,"headersToList",{enumerable:!0,get:function(){return i.headersToList}});var n=Ui;Object.defineProperty(r,"headersToObject",{enumerable:!0,get:function(){return n.headersToObject}});var s=Vi;Object.defineProperty(r,"stringToHeaders",{enumerable:!0,get:function(){return s.stringToHeaders}});var o=$i;Object.defineProperty(r,"listToHeaders",{enumerable:!0,get:function(){return o.listToHeaders}});var a=Bi;Object.defineProperty(r,"objectToHeaders",{enumerable:!0,get:function(){return a.objectToHeaders}});var l=Hr;Object.defineProperty(r,"reduceHeadersObject",{enumerable:!0,get:function(){return l.reduceHeadersObject}});var u=Wi;Object.defineProperty(r,"flattenHeadersList",{enumerable:!0,get:function(){return u.flattenHeadersList}});var c=zi;Object.defineProperty(r,"flattenHeadersObject",{enumerable:!0,get:function(){return c.flattenHeadersObject}})}(gr);function us(...r){return e=>{const[t,i]=r;return typeof t=="string"?e.headers.append(t,i):gr.objectToHeaders(t).forEach((s,o)=>{e.headers.append(o,s)}),e}}/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Uo=dd,ad=hd,ld=decodeURIComponent,ud=encodeURIComponent,cd=/; */,Ki=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function dd(r,e){if(typeof r!="string")throw new TypeError("argument str must be a string");for(var t={},i=e||{},n=r.split(cd),s=i.decode||ld,o=0;o<n.length;o++){var a=n[o],l=a.indexOf("=");if(!(l<0)){var u=a.substr(0,l).trim(),c=a.substr(++l,a.length).trim();c[0]=='"'&&(c=c.slice(1,-1)),t[u]==null&&(t[u]=fd(c,s))}}return t}function hd(r,e,t){var i=t||{},n=i.encode||ud;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!Ki.test(r))throw new TypeError("argument name is invalid");var s=n(e);if(s&&!Ki.test(s))throw new TypeError("argument val is invalid");var o=r+"="+s;if(i.maxAge!=null){var a=i.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(i.domain){if(!Ki.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!Ki.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function fd(r,e){try{return e(r)}catch(t){return r}}const Vo=(r,e,t)=>i=>{const n=ad(r,e,t);return i.headers.set("Set-Cookie",n),typeof document!="undefined"&&(document.cookie=n),i};function nr(r){try{return JSON.parse(r)}catch(e){return}}const Gi=r=>e=>(e.headers.set("Content-Type","application/json"),e.body=JSON.stringify(r),e);var oi={exports:{}};(function(r,e){(function(t,i){i(e)})(ke,function(t){function i(){return typeof navigator!="undefined"&&navigator.product==="ReactNative"?!0:!!(typeof process!="undefined"&&process.versions&&process.versions.node)}t.isNodeProcess=i,Object.defineProperty(t,"__esModule",{value:!0})})})(oi,oi.exports);const cs=2147483647,$o=100,pd=400,md=5,Bo=()=>oi.exports.isNodeProcess()?md:Math.floor(Math.random()*(pd-$o)+$o),ds=r=>e=>{let t;if(typeof r=="string")switch(r){case"infinite":{t=cs;break}case"real":{t=Bo();break}default:throw new Error(`Failed to delay a response: unknown delay mode "${r}". Please make sure you provide one of the supported modes ("real", "infinite") or a number to "ctx.delay".`)}else if(typeof r=="undefined")t=Bo();else{if(r>cs)throw new Error(`Failed to delay a response: provided delay duration (${r}) exceeds the maximum allowed duration for "setTimeout" (${cs}). This will cause the response to be returned immediately. Please use a number within the allowed range to delay the response by exact duration, or consider the "infinite" delay mode to delay the response indefinitely.`);t=r}return e.delay=t,e},Wo=oi.exports.isNodeProcess()?k(3300):window.fetch,zo=r=>{const e=new gr.Headers(r.headers);return e.set("x-msw-bypass","true"),Object.assign(Object.assign({},r),{headers:e.all()})},vd=r=>{const{body:e,method:t}=r,i=Object.assign(Object.assign({},r),{body:void 0});return["GET","HEAD"].includes(t)||(typeof e=="object"||typeof e=="number"||typeof e=="boolean"?i.body=JSON.stringify(e):i.body=e),i},hs=(r,e={})=>{if(typeof r=="string")return Wo(r,zo(e));const t=vd(r),i=zo(t);return Wo(r.url.href,i)};var gd=k(7941);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function yd(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function st(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(m){o(m)}}function l(c){try{u(i.throw(c))}catch(m){o(m)}}function u(c){c.done?s(c.value):n(c.value).then(a,l)}u((i=i.apply(r,e||[])).next())})}var Ko={},Ur={},ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.format=void 0;var bd=/(%?)(%([sdjo]))/g;function wd(r,e){switch(e){case"s":return r;case"d":case"i":return Number(r);case"j":return JSON.stringify(r);case"o":{if(typeof r=="string")return r;var t=JSON.stringify(r);return t==="{}"||t==="[]"||/^\[object .+?\]$/.test(t)?r:t}}}function Ed(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(e.length===0)return r;var i=0,n=r.replace(bd,function(s,o,a,l){var u=e[i],c=wd(u,l);return o?s:(i++,c)});return i<e.length&&(n+=" "+e.slice(i).join(" ")),n=n.replace(/%{2,2}/g,"%"),n}ai.format=Ed;var Cd=ke&&ke.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Go=ke&&ke.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.invariant=Ur.InvariantError=void 0;var Od=ai,_d=2,fs=function(r){Cd(e,r);function e(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var s=r.call(this,t)||this;if(s.name="Invariant Violation",s.message=Od.format.apply(void 0,Go([t],i)),s.stack){var o=s.stack.split(`
`);o.splice(1,_d),s.stack=o.join(`
`)}return s}return e}(Error);Ur.InvariantError=fs;function Sd(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];if(!r)throw new(fs.bind.apply(fs,Go([void 0,e],t)))}Ur.invariant=Sd,function(r){var e=ke&&ke.__createBinding||(Object.create?function(i,n,s,o){o===void 0&&(o=s),Object.defineProperty(i,o,{enumerable:!0,get:function(){return n[s]}})}:function(i,n,s,o){o===void 0&&(o=s),i[o]=n[s]}),t=ke&&ke.__exportStar||function(i,n){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&e(n,i,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(Ur,r),t(ai,r)}(Ko);const xd="[MSW]";function ps(r,...e){const t=Ko.format(r,...e);return`${xd} ${t}`}function Pd(r,...e){console.warn(ps(r,...e))}function Dd(r,...e){console.error(ps(r,...e))}const Ke={formatMessage:ps,warn:Pd,error:Dd};class Xo extends Error{constructor(e){super(e);this.name="NetworkError"}}function Td(r){var e,t;const i=gr.stringToHeaders(r),n=i.get("content-type")||"text/plain",s=i.get("content-disposition");if(!s)throw new Error('"Content-Disposition" header is required.');const o=s.split(";").reduce((u,c)=>{const[m,...y]=c.trim().split("=");return u[m]=y.join("="),u},{}),a=(e=o.name)===null||e===void 0?void 0:e.slice(1,-1),l=(t=o.filename)===null||t===void 0?void 0:t.slice(1,-1);return{name:a,filename:l,contentType:n}}function Id(r,e){const t=e==null?void 0:e.get("content-type");if(!t)return;const[,...i]=t.split(/; */),n=i.filter(l=>l.startsWith("boundary=")).map(l=>l.replace(/^boundary=/,""))[0];if(!n)return;const s=new RegExp(`--+${n}`),o=r.split(s).filter(l=>l.startsWith(`\r
`)&&l.endsWith(`\r
`)).map(l=>l.trimStart().replace(/\r\n$/,""));if(!o.length)return;const a={};try{for(const l of o){const[u,...c]=l.split(`\r
\r
`),m=c.join(`\r
\r
`),{contentType:y,filename:E,name:z}=Td(u),X=E===void 0?m:new File([m],E,{type:y}),$=a[z];$===void 0?a[z]=X:Array.isArray($)?a[z]=[...$,X]:a[z]=[$,X]}return a}catch(l){return}}function ms(r,e){var t;if(!r)return r;const i=((t=e==null?void 0:e.get("content-type"))===null||t===void 0?void 0:t.toLowerCase())||"";return i.startsWith("multipart/form-data")&&typeof r!="object"?Id(r.toString(),e)||r:i.includes("json")&&typeof r!="object"&&nr(r.toString())||r}const li=r=>r.referrer.startsWith(r.url.origin)?r.url.pathname:new URL(r.url.pathname,`${r.url.protocol}//${r.url.host}`).href;var ui;(function(r){r.Success="#69AB32",r.Warning="#F0BB4B",r.Danger="#E95F5D"})(ui||(ui={}));function Yo(r){return r<300?ui.Success:r<400?ui.Warning:ui.Danger}function qo(){const r=new Date;return[r.getHours(),r.getMinutes(),r.getSeconds()].map(String).map(e=>e.slice(0,2)).map(e=>e.padStart(2,"0")).join(":")}function Jo(r){return Object.assign(Object.assign({},r),{headers:r.headers.all()})}function Qo(r){const e=gr.objectToHeaders(r.headers);return Object.assign(Object.assign({},r),{body:ms(r.body,e)})}function Nd(r){for(var e=[],t=0;t<r.length;){var i=r[t];if(i==="*"||i==="+"||i==="?"){e.push({type:"MODIFIER",index:t,value:r[t++]});continue}if(i==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:r[t++]});continue}if(i==="{"){e.push({type:"OPEN",index:t,value:r[t++]});continue}if(i==="}"){e.push({type:"CLOSE",index:t,value:r[t++]});continue}if(i===":"){for(var n="",s=t+1;s<r.length;){var o=r.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){n+=r[s++];continue}break}if(!n)throw new TypeError("Missing parameter name at "+t);e.push({type:"NAME",index:t,value:n}),t=s;continue}if(i==="("){var a=1,l="",s=t+1;if(r[s]==="?")throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<r.length;){if(r[s]==="\\"){l+=r[s++]+r[s++];continue}if(r[s]===")"){if(a--,a===0){s++;break}}else if(r[s]==="("&&(a++,r[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+s);l+=r[s++]}if(a)throw new TypeError("Unbalanced pattern at "+t);if(!l)throw new TypeError("Missing pattern at "+t);e.push({type:"PATTERN",index:t,value:l}),t=s;continue}e.push({type:"CHAR",index:t,value:r[t++]})}return e.push({type:"END",index:t,value:""}),e}function kd(r,e){e===void 0&&(e={});for(var t=Nd(r),i=e.prefixes,n=i===void 0?"./":i,s="[^"+Vr(e.delimiter||"/#?")+"]+?",o=[],a=0,l=0,u="",c=function(se){if(l<t.length&&t[l].type===se)return t[l++].value},m=function(se){var de=c(se);if(de!==void 0)return de;var xe=t[l],ye=xe.type,Ae=xe.index;throw new TypeError("Unexpected "+ye+" at "+Ae+", expected "+se)},y=function(){for(var se="",de;de=c("CHAR")||c("ESCAPED_CHAR");)se+=de;return se};l<t.length;){var E=c("CHAR"),z=c("NAME"),X=c("PATTERN");if(z||X){var $=E||"";n.indexOf($)===-1&&(u+=$,$=""),u&&(o.push(u),u=""),o.push({name:z||a++,prefix:$,suffix:"",pattern:X||s,modifier:c("MODIFIER")||""});continue}var Z=E||c("ESCAPED_CHAR");if(Z){u+=Z;continue}u&&(o.push(u),u="");var ee=c("OPEN");if(ee){var $=y(),Q=c("NAME")||"",ie=c("PATTERN")||"",ve=y();m("CLOSE"),o.push({name:Q||(ie?a++:""),pattern:Q&&!ie?s:ie,prefix:$,suffix:ve,modifier:c("MODIFIER")||""});continue}m("END")}return o}function Rd(r,e){var t=[],i=ea(r,t,e);return Ad(i,t,e)}function Ad(r,e,t){t===void 0&&(t={});var i=t.decode,n=i===void 0?function(s){return s}:i;return function(s){var o=r.exec(s);if(!o)return!1;for(var a=o[0],l=o.index,u=Object.create(null),c=function(y){if(o[y]===void 0)return"continue";var E=e[y-1];E.modifier==="*"||E.modifier==="+"?u[E.name]=o[y].split(E.prefix+E.suffix).map(function(z){return n(z,E)}):u[E.name]=n(o[y],E)},m=1;m<o.length;m++)c(m);return{path:a,index:l,params:u}}}function Vr(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Zo(r){return r&&r.sensitive?"":"i"}function Md(r,e){if(!e)return r;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,n=t.exec(r.source);n;)e.push({name:n[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),n=t.exec(r.source);return r}function Ld(r,e,t){var i=r.map(function(n){return ea(n,e,t).source});return new RegExp("(?:"+i.join("|")+")",Zo(t))}function Fd(r,e,t){return jd(kd(r,t),e,t)}function jd(r,e,t){t===void 0&&(t={});for(var i=t.strict,n=i===void 0?!1:i,s=t.start,o=s===void 0?!0:s,a=t.end,l=a===void 0?!0:a,u=t.encode,c=u===void 0?function(se){return se}:u,m="["+Vr(t.endsWith||"")+"]|$",y="["+Vr(t.delimiter||"/#?")+"]",E=o?"^":"",z=0,X=r;z<X.length;z++){var $=X[z];if(typeof $=="string")E+=Vr(c($));else{var Z=Vr(c($.prefix)),ee=Vr(c($.suffix));if($.pattern)if(e&&e.push($),Z||ee)if($.modifier==="+"||$.modifier==="*"){var Q=$.modifier==="*"?"?":"";E+="(?:"+Z+"((?:"+$.pattern+")(?:"+ee+Z+"(?:"+$.pattern+"))*)"+ee+")"+Q}else E+="(?:"+Z+"("+$.pattern+")"+ee+")"+$.modifier;else E+="("+$.pattern+")"+$.modifier;else E+="(?:"+Z+ee+")"+$.modifier}}if(l)n||(E+=y+"?"),E+=t.endsWith?"(?="+m+")":"$";else{var ie=r[r.length-1],ve=typeof ie=="string"?y.indexOf(ie[ie.length-1])>-1:ie===void 0;n||(E+="(?:"+y+"(?="+m+"))?"),ve||(E+="(?="+y+"|"+m+")")}return new RegExp(E,Zo(t))}function ea(r,e,t){return r instanceof RegExp?Md(r,e):Array.isArray(r)?Ld(r,e,t):Fd(r,e,t)}const Hd=/[\?|#].*$/g;function Ud(r){return new URL(`/${r}`,"http://localhost").searchParams}function ta(r){return r.replace(Hd,"")}function Vd(r){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r)}function $d(r,e){if(Vd(r)||r.startsWith("*"))return r;const t=e||typeof document!="undefined"&&document.baseURI;return t?decodeURI(new URL(encodeURI(r),t).href):r}function Bd(r,e){if(r instanceof RegExp)return r;const t=$d(r,e);return ta(t)}function Wd(r){return r.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(e,t,i)=>{const n="(.*)";return t?t.startsWith(":")?`${t}${i}`:`${t}${n}`:n}).replace(/([^\/])(:)(?=\d+)/,"$1\\$2").replace(/^([^\/]+)(:)(?=\/\/)/,"$1\\$2")}function ra(r,e,t){const i=Bd(e,t),n=typeof i=="string"?Wd(i):i,s=(0,gd.getCleanUrl)(r),o=Rd(n,{decode:decodeURIComponent})(s),a=o&&o.params||{};return{matches:o!==!1,params:a}}function zd(...r){return(...e)=>r.reduceRight((t,i)=>t instanceof Promise?Promise.resolve(t).then(i):i(t),e[0])}const Kd={status:200,statusText:"OK",body:null,delay:0,once:!1},Gd=[];function ia(r,e=Gd){return(...t)=>st(this,void 0,void 0,function*(){const i=Object.assign({},Kd,{headers:new gr.Headers({"x-powered-by":"msw"})},r),n=[...e,...t].filter(Boolean);return n.length>0?zd(...n)(i):i})}const Xd=Object.assign(ia(),{once:ia({once:!0}),networkError(r){throw new Xo(r)}}),Yd=/(node_modules)?[\/\\]lib[\/\\](umd|esm|iief|cjs)[\/\\]|^[^\/\\]*$/;function qd(r){const e=r.stack;if(!e)return;const i=e.split(`
`).slice(1).find(s=>!Yd.test(s));return i?i.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,""):void 0}function Jd(r){return r?typeof r[Symbol.iterator]=="function":!1}const Qd={status:os,set:us,delay:ds,fetch:hs};class na{constructor(e){this.shouldSkip=!1,this.ctx=e.ctx||Qd,this.resolver=e.resolver;const t=qd(new Error);this.info=Object.assign(Object.assign({},e.info),{callFrame:t})}parse(e,t){return null}test(e,t){return this.predicate(e,this.parse(e,t),t)}getPublicRequest(e,t){return e}markAsSkipped(e=!0){this.shouldSkip=e}run(e,t){return st(this,void 0,void 0,function*(){if(this.shouldSkip)return null;const i=this.parse(e,t);if(!this.predicate(e,i,t))return null;const s=this.getPublicRequest(e,i),a=yield this.wrapResolver(this.resolver)(s,Xd,this.ctx);return this.createExecutionResult(i,s,a)})}wrapResolver(e){return(t,i,n)=>st(this,void 0,void 0,function*(){const s=this.resolverGenerator||(yield e(t,i,n));if(Jd(s)){const{value:o,done:a}=s[Symbol.iterator]().next(),l=yield o;return!l&&a?this.resolverGeneratorResult:(this.resolverGenerator||(this.resolverGenerator=s),this.resolverGeneratorResult=l,l)}return s})}createExecutionResult(e,t,i){return{handler:this,parsedResult:e||null,request:t,response:i||null}}}var Xi=k(8612);const Zd=r=>e=>(e.body=r,e),eh=r=>e=>(e.headers.set("Content-Type","text/plain"),e.body=r,e),th=r=>e=>(e.headers.set("Content-Type","text/xml"),e.body=r,e);function vs(r,e){return r.toLowerCase()===e.toLowerCase()}var Kt;(function(r){r.HEAD="HEAD",r.GET="GET",r.POST="POST",r.PUT="PUT",r.PATCH="PATCH",r.OPTIONS="OPTIONS",r.DELETE="DELETE"})(Kt||(Kt={}));const rh={set:us,status:os,cookie:Vo,body:Zd,text:eh,json:Gi,xml:th,delay:ds,fetch:hs};class gs extends na{constructor(e,t,i){super({info:{header:`${e} ${t}`,path:t,method:e},ctx:rh,resolver:i});this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:e,path:t}=this.info;if(t instanceof RegExp||ta(t)===t)return;Ud(t).forEach((s,o)=>{}),Ke.warn(`Found a redundant usage of query parameters in the request handler URL for "${e} ${t}". Please match against a path instead and access query parameters in the response resolver function using "req.url.searchParams".`)}parse(e,t){return ra(e.url,this.info.path,t==null?void 0:t.baseUrl)}getPublicRequest(e,t){return Object.assign(Object.assign({},e),{params:t.params||{}})}predicate(e,t){return(this.info.method instanceof RegExp?this.info.method.test(e.method):vs(this.info.method,e.method))&&t.matches}log(e,t){const i=li(e),n=Jo(e),s=Qo(t),o=Yo(t.status);console.groupCollapsed(Ke.formatMessage("%s %s %s (%c%s%c)"),qo(),e.method,i,`color:${o}`,`${t.status} ${t.statusText}`,"color:inherit"),console.log("Request",n),console.log("Handler:",{mask:this.info.path,resolver:this.resolver}),console.log("Response",s),console.groupEnd()}}function sr(r){return(e,t)=>new gs(r,e,t)}const $r={all:sr(/.+/),head:sr(Kt.HEAD),get:sr(Kt.GET),post:sr(Kt.POST),put:sr(Kt.PUT),delete:sr(Kt.DELETE),patch:sr(Kt.PATCH),options:sr(Kt.OPTIONS)};function sa(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}function ci(r,e){return Object.entries(e).reduce((t,[i,n])=>{const s=t[i];return Array.isArray(s)&&Array.isArray(n)?(t[i]=s.concat(n),t):sa(s)&&sa(n)?(t[i]=ci(s,n),t):(t[i]=n,t)},Object.assign({},r))}const ih=r=>e=>{const t=nr(e.body)||{},i=ci(t,{data:r});return Gi(i)(e)},nh=r=>e=>{const t=nr(e.body)||{},i=ci(t,{extensions:r});return Gi(i)(e)},sh=r=>e=>{if(r==null)return e;const t=nr(e.body)||{},i=ci(t,{errors:r});return Gi(i)(e)};function Yi(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yi=function(t){return typeof t}:Yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(r)}function oh(r){return Yi(r)=="object"&&r!==null}var oa=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function ys(r,e){for(var t=/\r\n|[\n\r]/g,i=1,n=e+1,s;(s=t.exec(r.body))&&s.index<e;)i+=1,n=e+1-(s.index+s[0].length);return{line:i,column:n}}function ah(r){return aa(r.source,ys(r.source,r.start))}function aa(r,e){var t=r.locationOffset.column-1,i=qi(t)+r.body,n=e.line-1,s=r.locationOffset.line-1,o=e.line+s,a=e.line===1?t:0,l=e.column+a,u="".concat(r.name,":").concat(o,":").concat(l,`
`),c=i.split(/\r\n|[\n\r]/g),m=c[n];if(m.length>120){for(var y=Math.floor(l/80),E=l%80,z=[],X=0;X<m.length;X+=80)z.push(m.slice(X,X+80));return u+la([["".concat(o),z[0]]].concat(z.slice(1,y+1).map(function($){return["",$]}),[[" ",qi(E-1)+"^"],["",z[y+1]]]))}return u+la([["".concat(o-1),c[n-1]],["".concat(o),m],["",qi(l-1)+"^"],["".concat(o+1),c[n+1]]])}function la(r){var e=r.filter(function(i){i[0];var n=i[1];return n!==void 0}),t=Math.max.apply(Math,e.map(function(i){var n=i[0];return n.length}));return e.map(function(i){var n=i[0],s=i[1];return lh(t,n)+(s?" | "+s:" |")}).join(`
`)}function qi(r){return Array(r+1).join(" ")}function lh(r,e){return qi(r-e.length)+e}function Ji(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ji=function(t){return typeof t}:Ji=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(r)}function uh(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ua(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function ch(r,e,t){return e&&ua(r.prototype,e),t&&ua(r,t),r}function dh(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&hi(r,e)}function hh(r){var e=da();return function(){var i=fi(r),n;if(e){var s=fi(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return ca(this,n)}}function ca(r,e){return e&&(Ji(e)==="object"||typeof e=="function")?e:di(r)}function di(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bs(r){var e=typeof Map=="function"?new Map:void 0;return bs=function(i){if(i===null||!fh(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(i))return e.get(i);e.set(i,n)}function n(){return Qi(i,arguments,fi(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hi(n,i)},bs(r)}function Qi(r,e,t){return da()?Qi=Reflect.construct:Qi=function(n,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(n,a),u=new l;return o&&hi(u,o.prototype),u},Qi.apply(null,arguments)}function da(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function fh(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function hi(r,e){return hi=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},hi(r,e)}function fi(r){return fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fi(r)}var ph=function(r){dh(t,r);var e=hh(t);function t(i,n,s,o,a,l,u){var c,m,y,E,z;uh(this,t),z=e.call(this,i);var X=Array.isArray(n)?n.length!==0?n:void 0:n?[n]:void 0,$=s;if(!$&&X){var Z;$=(Z=X[0].loc)===null||Z===void 0?void 0:Z.source}var ee=o;!ee&&X&&(ee=X.reduce(function(se,de){return de.loc&&se.push(de.loc.start),se},[])),ee&&ee.length===0&&(ee=void 0);var Q;o&&s?Q=o.map(function(se){return ys(s,se)}):X&&(Q=X.reduce(function(se,de){return de.loc&&se.push(ys(de.loc.source,de.loc.start)),se},[]));var ie=u;if(ie==null&&l!=null){var ve=l.extensions;oh(ve)&&(ie=ve)}return Object.defineProperties(di(z),{name:{value:"GraphQLError"},message:{value:i,enumerable:!0,writable:!0},locations:{value:(c=Q)!==null&&c!==void 0?c:void 0,enumerable:Q!=null},path:{value:a!=null?a:void 0,enumerable:a!=null},nodes:{value:X!=null?X:void 0},source:{value:(m=$)!==null&&m!==void 0?m:void 0},positions:{value:(y=ee)!==null&&y!==void 0?y:void 0},originalError:{value:l},extensions:{value:(E=ie)!==null&&E!==void 0?E:void 0,enumerable:ie!=null}}),l!=null&&l.stack?(Object.defineProperty(di(z),"stack",{value:l.stack,writable:!0,configurable:!0}),ca(z)):(Error.captureStackTrace?Error.captureStackTrace(di(z),t):Object.defineProperty(di(z),"stack",{value:Error().stack,writable:!0,configurable:!0}),z)}return ch(t,[{key:"toString",value:function(){return mh(this)}},{key:oa,get:function(){return"Object"}}]),t}(bs(Error));function mh(r){var e=r.message;if(r.nodes)for(var t=0,i=r.nodes;t<i.length;t++){var n=i[t];n.loc&&(e+=`

`+ah(n.loc))}else if(r.source&&r.locations)for(var s=0,o=r.locations;s<o.length;s++){var a=o[s];e+=`

`+aa(r.source,a)}return e}function pt(r,e,t){return new ph("Syntax Error: ".concat(t),void 0,r,[e])}var me=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function vh(r,e){var t=Boolean(r);if(!t)throw new Error(e!=null?e:"Unexpected invariant triggered.")}var gh=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,ws=gh;function ha(r){var e=r.prototype.toJSON;typeof e=="function"||vh(0),r.prototype.inspect=e,ws&&(r.prototype[ws]=e)}var fa=function(){function r(t,i,n){this.start=t.start,this.end=i.end,this.startToken=t,this.endToken=i,this.source=n}var e=r.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},r}();ha(fa);var $e=function(){function r(t,i,n,s,o,a,l){this.kind=t,this.start=i,this.end=n,this.line=s,this.column=o,this.value=l,this.prev=a,this.next=null}var e=r.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},r}();ha($e);var Y=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Zi(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zi=function(t){return typeof t}:Zi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(r)}var yh=10,pa=2;function ma(r){return en(r,[])}function en(r,e){switch(Zi(r)){case"string":return JSON.stringify(r);case"function":return r.name?"[function ".concat(r.name,"]"):"[function]";case"object":return r===null?"null":bh(r,e);default:return String(r)}}function bh(r,e){if(e.indexOf(r)!==-1)return"[Circular]";var t=[].concat(e,[r]),i=Ch(r);if(i!==void 0){var n=i.call(r);if(n!==r)return typeof n=="string"?n:en(n,t)}else if(Array.isArray(r))return Eh(r,t);return wh(r,t)}function wh(r,e){var t=Object.keys(r);if(t.length===0)return"{}";if(e.length>pa)return"["+Oh(r)+"]";var i=t.map(function(n){var s=en(r[n],e);return n+": "+s});return"{ "+i.join(", ")+" }"}function Eh(r,e){if(r.length===0)return"[]";if(e.length>pa)return"[Array]";for(var t=Math.min(yh,r.length),i=r.length-t,n=[],s=0;s<t;++s)n.push(en(r[s],e));return i===1?n.push("... 1 more item"):i>1&&n.push("... ".concat(i," more items")),"["+n.join(", ")+"]"}function Ch(r){var e=r[String(ws)];if(typeof e=="function")return e;if(typeof r.inspect=="function")return r.inspect}function Oh(r){var e=Object.prototype.toString.call(r).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof r.constructor=="function"){var t=r.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}function Es(r,e){var t=Boolean(r);if(!t)throw new Error(e)}function tn(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tn=function(t){return typeof t}:tn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(r)}var _h=function(e,t){if(e instanceof t)return!0;if(tn(e)==="object"&&e!==null){var i,n=t.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(i=e.constructor)===null||i===void 0?void 0:i.name;if(n===s){var o=ma(e);throw new Error("Cannot use ".concat(n,' "').concat(o,`" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`))}}return!1};function va(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function Sh(r,e,t){return e&&va(r.prototype,e),t&&va(r,t),r}var ga=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||Es(0,"Body must be a string. Received: ".concat(ma(e),".")),this.body=e,this.name=t,this.locationOffset=i,this.locationOffset.line>0||Es(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Es(0,"column in locationOffset is 1-indexed and must be positive.")}return Sh(r,[{key:oa,get:function(){return"Source"}}]),r}();function xh(r){return _h(r,ga)}var Ph=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Dh(r){var e=r.split(/\r\n|[\n\r]/g),t=Th(r);if(t!==0)for(var i=1;i<e.length;i++)e[i]=e[i].slice(t);for(var n=0;n<e.length&&ya(e[n]);)++n;for(var s=e.length;s>n&&ya(e[s-1]);)--s;return e.slice(n,s).join(`
`)}function ya(r){for(var e=0;e<r.length;++e)if(r[e]!==" "&&r[e]!=="	")return!1;return!0}function Th(r){for(var e,t=!0,i=!0,n=0,s=null,o=0;o<r.length;++o)switch(r.charCodeAt(o)){case 13:r.charCodeAt(o+1)===10&&++o;case 10:t=!1,i=!0,n=0;break;case 9:case 32:++n;break;default:i&&!t&&(s===null||n<s)&&(s=n),i=!1}return(e=s)!==null&&e!==void 0?e:0}var Ih=function(){function r(t){var i=new $e(Y.SOF,0,0,0,0,null);this.source=t,this.lastToken=i,this.token=i,this.line=1,this.lineStart=0}var e=r.prototype;return e.advance=function(){this.lastToken=this.token;var i=this.token=this.lookahead();return i},e.lookahead=function(){var i=this.token;if(i.kind!==Y.EOF)do{var n;i=(n=i.next)!==null&&n!==void 0?n:i.next=kh(this,i)}while(i.kind===Y.COMMENT);return i},r}();function Nh(r){return r===Y.BANG||r===Y.DOLLAR||r===Y.AMP||r===Y.PAREN_L||r===Y.PAREN_R||r===Y.SPREAD||r===Y.COLON||r===Y.EQUALS||r===Y.AT||r===Y.BRACKET_L||r===Y.BRACKET_R||r===Y.BRACE_L||r===Y.PIPE||r===Y.BRACE_R}function yr(r){return isNaN(r)?Y.EOF:r<127?JSON.stringify(String.fromCharCode(r)):'"\\u'.concat(("00"+r.toString(16).toUpperCase()).slice(-4),'"')}function kh(r,e){for(var t=r.source,i=t.body,n=i.length,s=e.end;s<n;){var o=i.charCodeAt(s),a=r.line,l=1+s-r.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++r.line,r.lineStart=s;continue;case 13:i.charCodeAt(s+1)===10?s+=2:++s,++r.line,r.lineStart=s;continue;case 33:return new $e(Y.BANG,s,s+1,a,l,e);case 35:return Ah(t,s,a,l,e);case 36:return new $e(Y.DOLLAR,s,s+1,a,l,e);case 38:return new $e(Y.AMP,s,s+1,a,l,e);case 40:return new $e(Y.PAREN_L,s,s+1,a,l,e);case 41:return new $e(Y.PAREN_R,s,s+1,a,l,e);case 46:if(i.charCodeAt(s+1)===46&&i.charCodeAt(s+2)===46)return new $e(Y.SPREAD,s,s+3,a,l,e);break;case 58:return new $e(Y.COLON,s,s+1,a,l,e);case 61:return new $e(Y.EQUALS,s,s+1,a,l,e);case 64:return new $e(Y.AT,s,s+1,a,l,e);case 91:return new $e(Y.BRACKET_L,s,s+1,a,l,e);case 93:return new $e(Y.BRACKET_R,s,s+1,a,l,e);case 123:return new $e(Y.BRACE_L,s,s+1,a,l,e);case 124:return new $e(Y.PIPE,s,s+1,a,l,e);case 125:return new $e(Y.BRACE_R,s,s+1,a,l,e);case 34:return i.charCodeAt(s+1)===34&&i.charCodeAt(s+2)===34?Fh(t,s,a,l,e,r):Lh(t,s,a,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Mh(t,s,o,a,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Hh(t,s,a,l,e)}throw pt(t,s,Rh(o))}var u=r.line,c=1+s-r.lineStart;return new $e(Y.EOF,n,n,u,c,e)}function Rh(r){return r<32&&r!==9&&r!==10&&r!==13?"Cannot contain the invalid character ".concat(yr(r),"."):r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(yr(r),".")}function Ah(r,e,t,i,n){var s=r.body,o,a=e;do o=s.charCodeAt(++a);while(!isNaN(o)&&(o>31||o===9));return new $e(Y.COMMENT,e,a,t,i,n,s.slice(e+1,a))}function Mh(r,e,t,i,n,s){var o=r.body,a=t,l=e,u=!1;if(a===45&&(a=o.charCodeAt(++l)),a===48){if(a=o.charCodeAt(++l),a>=48&&a<=57)throw pt(r,l,"Invalid number, unexpected digit after 0: ".concat(yr(a),"."))}else l=Cs(r,l,a),a=o.charCodeAt(l);if(a===46&&(u=!0,a=o.charCodeAt(++l),l=Cs(r,l,a),a=o.charCodeAt(l)),(a===69||a===101)&&(u=!0,a=o.charCodeAt(++l),(a===43||a===45)&&(a=o.charCodeAt(++l)),l=Cs(r,l,a),a=o.charCodeAt(l)),a===46||Uh(a))throw pt(r,l,"Invalid number, expected digit but got: ".concat(yr(a),"."));return new $e(u?Y.FLOAT:Y.INT,e,l,i,n,s,o.slice(e,l))}function Cs(r,e,t){var i=r.body,n=e,s=t;if(s>=48&&s<=57){do s=i.charCodeAt(++n);while(s>=48&&s<=57);return n}throw pt(r,n,"Invalid number, expected digit but got: ".concat(yr(s),"."))}function Lh(r,e,t,i,n){for(var s=r.body,o=e+1,a=o,l=0,u="";o<s.length&&!isNaN(l=s.charCodeAt(o))&&l!==10&&l!==13;){if(l===34)return u+=s.slice(a,o),new $e(Y.STRING,e,o+1,t,i,n,u);if(l<32&&l!==9)throw pt(r,o,"Invalid character within String: ".concat(yr(l),"."));if(++o,l===92){switch(u+=s.slice(a,o-1),l=s.charCodeAt(o),l){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var c=jh(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(c<0){var m=s.slice(o+1,o+5);throw pt(r,o,"Invalid character escape sequence: \\u".concat(m,"."))}u+=String.fromCharCode(c),o+=4;break}default:throw pt(r,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++o,a=o}}throw pt(r,o,"Unterminated string.")}function Fh(r,e,t,i,n,s){for(var o=r.body,a=e+3,l=a,u=0,c="";a<o.length&&!isNaN(u=o.charCodeAt(a));){if(u===34&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34)return c+=o.slice(l,a),new $e(Y.BLOCK_STRING,e,a+3,t,i,n,Dh(c));if(u<32&&u!==9&&u!==10&&u!==13)throw pt(r,a,"Invalid character within String: ".concat(yr(u),"."));u===10?(++a,++s.line,s.lineStart=a):u===13?(o.charCodeAt(a+1)===10?a+=2:++a,++s.line,s.lineStart=a):u===92&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34&&o.charCodeAt(a+3)===34?(c+=o.slice(l,a)+'"""',a+=4,l=a):++a}throw pt(r,a,"Unterminated string.")}function jh(r,e,t,i){return rn(r)<<12|rn(e)<<8|rn(t)<<4|rn(i)}function rn(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function Hh(r,e,t,i,n){for(var s=r.body,o=s.length,a=e+1,l=0;a!==o&&!isNaN(l=s.charCodeAt(a))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++a;return new $e(Y.NAME,e,a,t,i,n,s.slice(e,a))}function Uh(r){return r===95||r>=65&&r<=90||r>=97&&r<=122}function Vh(r,e){var t=new $h(r,e);return t.parseDocument()}var $h=function(){function r(t,i){var n=xh(t)?t:new ga(t);this._lexer=new Ih(n),this._options=i}var e=r.prototype;return e.parseName=function(){var i=this.expectToken(Y.NAME);return{kind:me.NAME,value:i.value,loc:this.loc(i)}},e.parseDocument=function(){var i=this._lexer.token;return{kind:me.DOCUMENT,definitions:this.many(Y.SOF,this.parseDefinition,Y.EOF),loc:this.loc(i)}},e.parseDefinition=function(){if(this.peek(Y.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Y.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var i=this._lexer.token;if(this.peek(Y.BRACE_L))return{kind:me.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(i)};var n=this.parseOperationType(),s;return this.peek(Y.NAME)&&(s=this.parseName()),{kind:me.OPERATION_DEFINITION,operation:n,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseOperationType=function(){var i=this.expectToken(Y.NAME);switch(i.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(i)},e.parseVariableDefinitions=function(){return this.optionalMany(Y.PAREN_L,this.parseVariableDefinition,Y.PAREN_R)},e.parseVariableDefinition=function(){var i=this._lexer.token;return{kind:me.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Y.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Y.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(i)}},e.parseVariable=function(){var i=this._lexer.token;return this.expectToken(Y.DOLLAR),{kind:me.VARIABLE,name:this.parseName(),loc:this.loc(i)}},e.parseSelectionSet=function(){var i=this._lexer.token;return{kind:me.SELECTION_SET,selections:this.many(Y.BRACE_L,this.parseSelection,Y.BRACE_R),loc:this.loc(i)}},e.parseSelection=function(){return this.peek(Y.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var i=this._lexer.token,n=this.parseName(),s,o;return this.expectOptionalToken(Y.COLON)?(s=n,o=this.parseName()):o=n,{kind:me.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Y.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(i)}},e.parseArguments=function(i){var n=i?this.parseConstArgument:this.parseArgument;return this.optionalMany(Y.PAREN_L,n,Y.PAREN_R)},e.parseArgument=function(){var i=this._lexer.token,n=this.parseName();return this.expectToken(Y.COLON),{kind:me.ARGUMENT,name:n,value:this.parseValueLiteral(!1),loc:this.loc(i)}},e.parseConstArgument=function(){var i=this._lexer.token;return{kind:me.ARGUMENT,name:this.parseName(),value:(this.expectToken(Y.COLON),this.parseValueLiteral(!0)),loc:this.loc(i)}},e.parseFragment=function(){var i=this._lexer.token;this.expectToken(Y.SPREAD);var n=this.expectOptionalKeyword("on");return!n&&this.peek(Y.NAME)?{kind:me.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(i)}:{kind:me.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentDefinition=function(){var i,n=this._lexer.token;return this.expectKeyword("fragment"),((i=this._options)===null||i===void 0?void 0:i.experimentalFragmentVariables)===!0?{kind:me.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}:{kind:me.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(i){var n=this._lexer.token;switch(n.kind){case Y.BRACKET_L:return this.parseList(i);case Y.BRACE_L:return this.parseObject(i);case Y.INT:return this._lexer.advance(),{kind:me.INT,value:n.value,loc:this.loc(n)};case Y.FLOAT:return this._lexer.advance(),{kind:me.FLOAT,value:n.value,loc:this.loc(n)};case Y.STRING:case Y.BLOCK_STRING:return this.parseStringLiteral();case Y.NAME:switch(this._lexer.advance(),n.value){case"true":return{kind:me.BOOLEAN,value:!0,loc:this.loc(n)};case"false":return{kind:me.BOOLEAN,value:!1,loc:this.loc(n)};case"null":return{kind:me.NULL,loc:this.loc(n)};default:return{kind:me.ENUM,value:n.value,loc:this.loc(n)}}case Y.DOLLAR:if(!i)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var i=this._lexer.token;return this._lexer.advance(),{kind:me.STRING,value:i.value,block:i.kind===Y.BLOCK_STRING,loc:this.loc(i)}},e.parseList=function(i){var n=this,s=this._lexer.token,o=function(){return n.parseValueLiteral(i)};return{kind:me.LIST,values:this.any(Y.BRACKET_L,o,Y.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(i){var n=this,s=this._lexer.token,o=function(){return n.parseObjectField(i)};return{kind:me.OBJECT,fields:this.any(Y.BRACE_L,o,Y.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(i){var n=this._lexer.token,s=this.parseName();return this.expectToken(Y.COLON),{kind:me.OBJECT_FIELD,name:s,value:this.parseValueLiteral(i),loc:this.loc(n)}},e.parseDirectives=function(i){for(var n=[];this.peek(Y.AT);)n.push(this.parseDirective(i));return n},e.parseDirective=function(i){var n=this._lexer.token;return this.expectToken(Y.AT),{kind:me.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(i),loc:this.loc(n)}},e.parseTypeReference=function(){var i=this._lexer.token,n;return this.expectOptionalToken(Y.BRACKET_L)?(n=this.parseTypeReference(),this.expectToken(Y.BRACKET_R),n={kind:me.LIST_TYPE,type:n,loc:this.loc(i)}):n=this.parseNamedType(),this.expectOptionalToken(Y.BANG)?{kind:me.NON_NULL_TYPE,type:n,loc:this.loc(i)}:n},e.parseNamedType=function(){var i=this._lexer.token;return{kind:me.NAMED_TYPE,name:this.parseName(),loc:this.loc(i)}},e.parseTypeSystemDefinition=function(){var i=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(i.kind===Y.NAME)switch(i.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(i)},e.peekDescription=function(){return this.peek(Y.STRING)||this.peek(Y.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(Y.BRACE_L,this.parseOperationTypeDefinition,Y.BRACE_R);return{kind:me.SCHEMA_DEFINITION,description:n,directives:s,operationTypes:o,loc:this.loc(i)}},e.parseOperationTypeDefinition=function(){var i=this._lexer.token,n=this.parseOperationType();this.expectToken(Y.COLON);var s=this.parseNamedType();return{kind:me.OPERATION_TYPE_DEFINITION,operation:n,type:s,loc:this.loc(i)}},e.parseScalarTypeDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:me.SCALAR_TYPE_DEFINITION,description:n,name:s,directives:o,loc:this.loc(i)}},e.parseObjectTypeDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:me.OBJECT_TYPE_DEFINITION,description:n,name:s,interfaces:o,directives:a,fields:l,loc:this.loc(i)}},e.parseImplementsInterfaces=function(){var i;if(!this.expectOptionalKeyword("implements"))return[];if(((i=this._options)===null||i===void 0?void 0:i.allowLegacySDLImplementsInterfaces)===!0){var n=[];this.expectOptionalToken(Y.AMP);do n.push(this.parseNamedType());while(this.expectOptionalToken(Y.AMP)||this.peek(Y.NAME));return n}return this.delimitedMany(Y.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var i;return((i=this._options)===null||i===void 0?void 0:i.allowLegacySDLEmptyFields)===!0&&this.peek(Y.BRACE_L)&&this._lexer.lookahead().kind===Y.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Y.BRACE_L,this.parseFieldDefinition,Y.BRACE_R)},e.parseFieldDefinition=function(){var i=this._lexer.token,n=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(Y.COLON);var a=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:me.FIELD_DEFINITION,description:n,name:s,arguments:o,type:a,directives:l,loc:this.loc(i)}},e.parseArgumentDefs=function(){return this.optionalMany(Y.PAREN_L,this.parseInputValueDef,Y.PAREN_R)},e.parseInputValueDef=function(){var i=this._lexer.token,n=this.parseDescription(),s=this.parseName();this.expectToken(Y.COLON);var o=this.parseTypeReference(),a;this.expectOptionalToken(Y.EQUALS)&&(a=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:me.INPUT_VALUE_DEFINITION,description:n,name:s,type:o,defaultValue:a,directives:l,loc:this.loc(i)}},e.parseInterfaceTypeDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:me.INTERFACE_TYPE_DEFINITION,description:n,name:s,interfaces:o,directives:a,fields:l,loc:this.loc(i)}},e.parseUnionTypeDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();return{kind:me.UNION_TYPE_DEFINITION,description:n,name:s,directives:o,types:a,loc:this.loc(i)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(Y.EQUALS)?this.delimitedMany(Y.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();return{kind:me.ENUM_TYPE_DEFINITION,description:n,name:s,directives:o,values:a,loc:this.loc(i)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(Y.BRACE_L,this.parseEnumValueDefinition,Y.BRACE_R)},e.parseEnumValueDefinition=function(){var i=this._lexer.token,n=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:me.ENUM_VALUE_DEFINITION,description:n,name:s,directives:o,loc:this.loc(i)}},e.parseInputObjectTypeDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();return{kind:me.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:s,directives:o,fields:a,loc:this.loc(i)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(Y.BRACE_L,this.parseInputValueDef,Y.BRACE_R)},e.parseTypeSystemExtension=function(){var i=this._lexer.lookahead();if(i.kind===Y.NAME)switch(i.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(i)},e.parseSchemaExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var n=this.parseDirectives(!0),s=this.optionalMany(Y.BRACE_L,this.parseOperationTypeDefinition,Y.BRACE_R);if(n.length===0&&s.length===0)throw this.unexpected();return{kind:me.SCHEMA_EXTENSION,directives:n,operationTypes:s,loc:this.loc(i)}},e.parseScalarTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var n=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:me.SCALAR_TYPE_EXTENSION,name:n,directives:s,loc:this.loc(i)}},e.parseObjectTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var n=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:me.OBJECT_TYPE_EXTENSION,name:n,interfaces:s,directives:o,fields:a,loc:this.loc(i)}},e.parseInterfaceTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var n=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:me.INTERFACE_TYPE_EXTENSION,name:n,interfaces:s,directives:o,fields:a,loc:this.loc(i)}},e.parseUnionTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var n=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:me.UNION_TYPE_EXTENSION,name:n,directives:s,types:o,loc:this.loc(i)}},e.parseEnumTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var n=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:me.ENUM_TYPE_EXTENSION,name:n,directives:s,values:o,loc:this.loc(i)}},e.parseInputObjectTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var n=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:me.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:s,fields:o,loc:this.loc(i)}},e.parseDirectiveDefinition=function(){var i=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Y.AT);var s=this.parseName(),o=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:me.DIRECTIVE_DEFINITION,description:n,name:s,arguments:o,repeatable:a,locations:l,loc:this.loc(i)}},e.parseDirectiveLocations=function(){return this.delimitedMany(Y.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var i=this._lexer.token,n=this.parseName();if(Ph[n.value]!==void 0)return n;throw this.unexpected(i)},e.loc=function(i){var n;if(((n=this._options)===null||n===void 0?void 0:n.noLocation)!==!0)return new fa(i,this._lexer.lastToken,this._lexer.source)},e.peek=function(i){return this._lexer.token.kind===i},e.expectToken=function(i){var n=this._lexer.token;if(n.kind===i)return this._lexer.advance(),n;throw pt(this._lexer.source,n.start,"Expected ".concat(ba(i),", found ").concat(Os(n),"."))},e.expectOptionalToken=function(i){var n=this._lexer.token;if(n.kind===i)return this._lexer.advance(),n},e.expectKeyword=function(i){var n=this._lexer.token;if(n.kind===Y.NAME&&n.value===i)this._lexer.advance();else throw pt(this._lexer.source,n.start,'Expected "'.concat(i,'", found ').concat(Os(n),"."))},e.expectOptionalKeyword=function(i){var n=this._lexer.token;return n.kind===Y.NAME&&n.value===i?(this._lexer.advance(),!0):!1},e.unexpected=function(i){var n=i!=null?i:this._lexer.token;return pt(this._lexer.source,n.start,"Unexpected ".concat(Os(n),"."))},e.any=function(i,n,s){this.expectToken(i);for(var o=[];!this.expectOptionalToken(s);)o.push(n.call(this));return o},e.optionalMany=function(i,n,s){if(this.expectOptionalToken(i)){var o=[];do o.push(n.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(i,n,s){this.expectToken(i);var o=[];do o.push(n.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(i,n){this.expectOptionalToken(i);var s=[];do s.push(n.call(this));while(this.expectOptionalToken(i));return s},r}();function Os(r){var e=r.value;return ba(r.kind)+(e!=null?' "'.concat(e,'"'):"")}function ba(r){return Nh(r)?'"'.concat(r,'"'):r}function wa(r){var e;const t=r.definitions.find(i=>i.kind==="OperationDefinition");return{operationType:t==null?void 0:t.operation,operationName:(e=t==null?void 0:t.name)===null||e===void 0?void 0:e.value}}function Bh(r){try{const e=Vh(r);return wa(e)}catch(e){return e}}function Wh(r,e,t){const i={variables:r};for(const[n,s]of Object.entries(e)){if(!(n in t))throw new Error(`Given files do not have a key '${n}' .`);for(const o of s){const[a,...l]=o.split(".").reverse(),u=l.reverse();let c=i;for(const m of u){if(!(m in c))throw new Error(`Property '${u}' is not in operations.`);c=c[m]}c[a]=t[n]}}return i.variables}function zh(r){var e,t;switch(r.method){case"GET":{const i=r.url.searchParams.get("query"),n=r.url.searchParams.get("variables")||"";return{query:i,variables:nr(n)}}case"POST":{if((e=r.body)===null||e===void 0?void 0:e.query){const{query:i,variables:n}=r.body;return{query:i,variables:n}}if((t=r.body)===null||t===void 0?void 0:t.operations){const i=r.body,{operations:n,map:s}=i,o=yd(i,["operations","map"]),a=nr(n)||{};if(!a.query)return null;const l=nr(s||"")||{},u=a.variables?Wh(a.variables,l,o):{};return{query:a.query,variables:u}}}default:return null}}function Ea(r){const e=zh(r);if(!e||!e.query)return;const{query:t,variables:i}=e,n=Bh(t);if(n instanceof Error){const s=li(r);throw new Error(Ke.formatMessage(`Failed to intercept a GraphQL request to "%s %s": cannot parse query. See the error message from the parser below.

%s`,r.method,s,n.message))}return{operationType:n.operationType,operationName:n.operationName,variables:i}}function Ca(r,e){try{return r()}catch(t){e==null||e(t)}}const Kh={set:us,status:os,delay:ds,fetch:hs,data:ih,extensions:nh,errors:sh,cookie:Vo};function Gh(r){return r==null?!1:typeof r=="object"&&"kind"in r&&"definitions"in r}class _s extends na{constructor(e,t,i,n){let s=t;if(Gh(t)){const a=wa(t);if(a.operationType!==e)throw new Error(`Failed to create a GraphQL handler: provided a DocumentNode with a mismatched operation type (expected "${e}", but got "${a.operationType}").`);if(!a.operationName)throw new Error("Failed to create a GraphQL handler: provided a DocumentNode with no operation name.");s=a.operationName}const o=e==="all"?`${e} (origin: ${i.toString()})`:`${e} ${s} (origin: ${i.toString()})`;super({info:{header:o,operationType:e,operationName:s},ctx:Kh,resolver:n});this.endpoint=i}parse(e){return Ca(()=>Ea(e),t=>console.error(t.message))}getPublicRequest(e,t){return Object.assign(Object.assign({},e),{variables:(t==null?void 0:t.variables)||{}})}predicate(e,t){if(!t)return!1;if(!t.operationName&&this.info.operationType!=="all"){const o=li(e);return Ke.warn(`Failed to intercept a GraphQL request at "${e.method} ${o}": anonymous GraphQL operations are not supported.

Consider naming this operation or using "graphql.operation" request handler to intercept GraphQL requests regardless of their operation name/type. Read more: https://mswjs.io/docs/api/graphql/operation      `),!1}const i=ra(e.url,this.endpoint),n=this.info.operationType==="all"||t.operationType===this.info.operationType,s=this.info.operationName instanceof RegExp?this.info.operationName.test(t.operationName||""):t.operationName===this.info.operationName;return i.matches&&n&&s}log(e,t,i,n){const s=Jo(e),o=Qo(t),a=Yo(t.status),l=(n==null?void 0:n.operationName)?`${n==null?void 0:n.operationType} ${n==null?void 0:n.operationName}`:`anonymous ${n==null?void 0:n.operationType}`;console.groupCollapsed(Ke.formatMessage("%s %s (%c%s%c)"),qo(),`${l}`,`color:${a}`,`${t.status} ${t.statusText}`,"color:inherit"),console.log("Request:",s),console.log("Handler:",this),console.log("Response:",o),console.groupEnd()}}function nn(r,e){return(t,i)=>new _s(r,t,e,i)}function Oa(r){return e=>new _s("all",new RegExp(".*"),r,e)}const Xh={operation:Oa("*"),query:nn("query","*"),mutation:nn("mutation","*")};function Yh(r){return{operation:Oa(r),query:nn("query",r),mutation:nn("mutation",r)}}const By=Object.assign(Object.assign({},Xh),{link:Yh});var qh=k(2247),Jh=k(5344),Qh=k(6237),Ss={},sn={},xs={exports:{}},Br=typeof Reflect=="object"?Reflect:null,_a=Br&&typeof Br.apply=="function"?Br.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},on;Br&&typeof Br.ownKeys=="function"?on=Br.ownKeys:Object.getOwnPropertySymbols?on=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:on=function(e){return Object.getOwnPropertyNames(e)};function Zh(r){console&&console.warn&&console.warn(r)}var Sa=Number.isNaN||function(e){return e!==e};function Te(){Te.init.call(this)}xs.exports=Te,xs.exports.once=nf,Te.EventEmitter=Te,Te.prototype._events=void 0,Te.prototype._eventsCount=0,Te.prototype._maxListeners=void 0;var xa=10;function an(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Te,"defaultMaxListeners",{enumerable:!0,get:function(){return xa},set:function(r){if(typeof r!="number"||r<0||Sa(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");xa=r}}),Te.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Te.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Sa(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Pa(r){return r._maxListeners===void 0?Te.defaultMaxListeners:r._maxListeners}Te.prototype.getMaxListeners=function(){return Pa(this)},Te.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")_a(l,this,t);else for(var u=l.length,c=ka(l,u),i=0;i<u;++i)_a(c[i],this,t);return!0};function Da(r,e,t,i){var n,s,o;if(an(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=Pa(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,Zh(a)}return r}Te.prototype.addListener=function(e,t){return Da(this,e,t,!1)},Te.prototype.on=Te.prototype.addListener,Te.prototype.prependListener=function(e,t){return Da(this,e,t,!0)};function ef(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ta(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=ef.bind(i);return n.listener=t,i.wrapFn=n,n}Te.prototype.once=function(e,t){return an(t),this.on(e,Ta(this,e,t)),this},Te.prototype.prependOnceListener=function(e,t){return an(t),this.prependListener(e,Ta(this,e,t)),this},Te.prototype.removeListener=function(e,t){var i,n,s,o,a;if(an(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():tf(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this},Te.prototype.off=Te.prototype.removeListener,Te.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function Ia(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?rf(n):ka(n,n.length)}Te.prototype.listeners=function(e){return Ia(this,e,!0)},Te.prototype.rawListeners=function(e){return Ia(this,e,!1)},Te.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):Na.call(r,e)},Te.prototype.listenerCount=Na;function Na(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Te.prototype.eventNames=function(){return this._eventsCount>0?on(this._events):[]};function ka(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function tf(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function rf(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function nf(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}Ra(r,e,s,{once:!0}),e!=="error"&&sf(r,n,{once:!0})})}function sf(r,e,t){typeof r.on=="function"&&Ra(r,"error",e,t)}function Ra(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var of=ke&&ke.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),af=ke&&ke.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i};sn.__esModule=!0,sn.StrictEventEmitter=void 0;var lf=xs.exports,uf=function(r){of(e,r);function e(){return r.call(this)||this}return e.prototype.on=function(t,i){return r.prototype.on.call(this,t.toString(),i)},e.prototype.once=function(t,i){return r.prototype.on.call(this,t.toString(),i)},e.prototype.off=function(t,i){return r.prototype.off.call(this,t.toString(),i)},e.prototype.emit=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return r.prototype.emit.apply(this,af([t.toString()],i))},e.prototype.addListener=function(t,i){return r.prototype.addListener.call(this,t.toString(),i)},e.prototype.removeListener=function(t,i){return r.prototype.removeListener.call(this,t.toString(),i)},e}(lf.EventEmitter);sn.StrictEventEmitter=uf,function(r){var e=ke&&ke.__createBinding||(Object.create?function(i,n,s,o){o===void 0&&(o=s),Object.defineProperty(i,o,{enumerable:!0,get:function(){return n[s]}})}:function(i,n,s,o){o===void 0&&(o=s),i[o]=n[s]});r.__esModule=!0,r.StrictEventEmitter=void 0;var t=sn;e(r,t,"StrictEventEmitter")}(Ss);var Aa={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.until=r=>ao(this,null,function*(){try{const e=yield r().catch(t=>{throw t});return[null,e]}catch(e){return[e,null]}}),Object.defineProperty(Aa,"__esModule",{value:!0});var cf=Ps,ln=Aa.until=cf.until;const Ds=(r,e,t)=>[r.active,r.installing,r.waiting].filter(Boolean).find(o=>t(o.scriptURL,e))||null;function df(r){return new URL(r,location.origin).href}const hf=(r,e={},t)=>st(void 0,void 0,void 0,function*(){const i=df(r),n=yield navigator.serviceWorker.getRegistrations().then(l=>l.filter(u=>Ds(u,i,t)));!navigator.serviceWorker.controller&&n.length>0&&location.reload();const[s]=n;if(s)return s.update().then(()=>[Ds(s,i,t),s]);const[o,a]=yield ln(()=>st(void 0,void 0,void 0,function*(){const l=yield navigator.serviceWorker.register(r,e);return[Ds(l,i,t),l]}));if(o){if(o.message.includes("(404)")){const u=new URL((e==null?void 0:e.scope)||"/",location.href);throw new Error(Ke.formatMessage(`Failed to register a Service Worker for scope ('${u.href}') with script ('${i}'): Service Worker script does not exist at the given path.

Did you forget to run "npx msw init <PUBLIC_DIR>"?

Learn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`))}throw new Error(Ke.formatMessage(`Failed to register the Service Worker:

%s`,o.message))}return a});function Ma(r={}){if(r.quiet)return;const e=r.message||"Mocking enabled.";console.groupCollapsed(`%c${Ke.formatMessage(e)}`,"color:orangered;font-weight:bold;"),console.log("%cDocumentation: %chttps://mswjs.io/docs","font-weight:bold","font-weight:normal"),console.log("Found an issue? https://github.com/mswjs/msw/issues"),console.groupEnd()}function ff(r,e){return st(this,void 0,void 0,function*(){return r.workerChannel.send("MOCK_ACTIVATE"),r.events.once("MOCKING_ENABLED").then(()=>{Ma({quiet:e.quiet})})})}const pf=r=>{const e=r.ports[0];return{send(t){e&&e.postMessage(t)}}};function La(){return Uo(document.cookie)}function mf(r){if(typeof document=="undefined"||typeof location=="undefined")return{};switch(r.credentials){case"same-origin":return location.origin===r.url.origin?La():{};case"include":return La();default:return{}}}function Fa(r){var e;Xi.store.hydrate(),r.cookies=Object.assign(Object.assign({},mf(r)),Array.from((e=Xi.store.get(Object.assign(Object.assign({},r),{url:r.url.toString()})))===null||e===void 0?void 0:e.entries()).reduce((t,[i,{value:n}])=>Object.assign(t,{[i]:n}),{})),r.headers.set("cookie",Object.entries(r.cookies).map(([t,i])=>`${t}=${i}`).join("; "))}function vf(r){if(!(r.method&&vs(r.method,"GET")&&r.body===""))return r.body}function gf(r){const e={id:r.id,cache:r.cache,credentials:r.credentials,method:r.method,url:new URL(r.url),referrer:r.referrer,referrerPolicy:r.referrerPolicy,redirect:r.redirect,mode:r.mode,params:{},cookies:{},integrity:r.integrity,keepalive:r.keepalive,destination:r.destination,body:vf(r),bodyUsed:r.bodyUsed,headers:new gr.Headers(r.headers)};return Fa(e),e.body=ms(e.body,e.headers),e}const yf=(r,e,t)=>st(void 0,void 0,void 0,function*(){const i=e.filter(s=>s.test(r,t));if(i.length===0)return{handler:void 0,response:void 0};const n=yield i.reduce((s,o)=>st(void 0,void 0,void 0,function*(){const a=yield s;if(a==null?void 0:a.response)return s;const l=yield o.run(r,t);return l===null||l.handler.shouldSkip?null:l.response?(l.response.once&&o.markAsSkipped(!0),l):{request:l.request,handler:l.handler,response:void 0,parsedResult:l.parsedResult}}),Promise.resolve(null));return n?{handler:n.handler,publicRequest:n.request,parsedRequest:n.parsedResult,response:n.response}:{handler:void 0,response:void 0}});var ja=function(){function r(e,t,i,n,s){return e<t||i<t?e>i?i+1:e+1:n===s?t:t+1}return function(e,t){if(e===t)return 0;if(e.length>t.length){var i=e;e=t,t=i}for(var n=e.length,s=t.length;n>0&&e.charCodeAt(n-1)===t.charCodeAt(s-1);)n--,s--;for(var o=0;o<n&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(n-=o,s-=o,n===0||s<3)return s;var a=0,l,u,c,m,y,E,z,X,$,Z,ee,Q,ie=[];for(l=0;l<n;l++)ie.push(l+1),ie.push(e.charCodeAt(o+l));for(var ve=ie.length-1;a<s-3;)for($=t.charCodeAt(o+(u=a)),Z=t.charCodeAt(o+(c=a+1)),ee=t.charCodeAt(o+(m=a+2)),Q=t.charCodeAt(o+(y=a+3)),E=a+=4,l=0;l<ve;l+=2)z=ie[l],X=ie[l+1],u=r(z,u,c,$,X),c=r(u,c,m,Z,X),m=r(c,m,y,ee,X),E=r(m,y,E,Q,X),ie[l]=E,y=m,m=c,c=u,u=z;for(;a<s;)for($=t.charCodeAt(o+(u=a)),E=++a,l=0;l<ve;l+=2)z=ie[l],ie[l]=E=r(z,u,E,$,ie[l+1]),u=z;return E}}();const bf=3,wf=4,Ha=.5;function Ef(r){return r.reduce((e,t)=>(t instanceof gs&&e.rest.push(t),t instanceof _s&&e.graphql.push(t),e),{rest:[],graphql:[]})}function Cf(){return(r,e)=>{const{path:t,method:i}=e.info;if(t instanceof RegExp||i instanceof RegExp)return 1/0;const s=vs(r.method,i)?Ha:0,o=li(r);return ja(o,t)-s}}function Of(r){return(e,t)=>{if(typeof r.operationName=="undefined")return 1/0;const{operationType:i,operationName:n}=t.info;if(typeof n!="string")return 1/0;const o=r.operationType===i?Ha:0;return ja(r.operationName,n)-o}}function _f(r,e,t){return e.reduce((n,s)=>{const o=t(r,s);return n.concat([[o,s]])},[]).sort(([n],[s])=>n-s).filter(([n])=>n<=bf).slice(0,wf).map(([,n])=>n)}function Sf(r){return r.length>1?`Did you mean to request one of the following resources instead?

${r.map(e=>`  \u2022 ${e.info.header}`).join(`
`)}`:`Did you mean to request "${r[0].info.header}" instead?`}function xf(r,e,t="warn"){if(typeof t=="function"){t(r);return}const i=Ca(()=>Ea(r)),n=Ef(e),s=i?n.graphql:n.rest,o=_f(r,s,i?Of(i):Cf()),a=o.length>0?Sf(o):"",l=li(r),u=i?`${i.operationType} ${i.operationName} (${r.method} ${l})`:`${r.method} ${l}`,m=["captured a request without a matching request handler:",`  \u2022 ${u}`,a,`If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/getting-started/mocks`].filter(Boolean).join(`

`);switch(t){case"error":throw Ke.error("Error: %s",m),new Error(Ke.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":{Ke.warn("Warning: %s",m);break}case"bypass":break;default:throw new Error(Ke.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',t))}}function Pf(r,e){Xi.store.add(Object.assign(Object.assign({},r),{url:r.url.toString()}),e),Xi.store.persist()}function Ua(r,e,t,i,n){var s,o,a;return st(this,void 0,void 0,function*(){if(i.emit("request:start",r),r.headers.get("x-msw-bypass")){i.emit("request:end",r),(s=n==null?void 0:n.onBypassResponse)===null||s===void 0||s.call(n,r);return}const l=yield yf(r,e,n==null?void 0:n.resolutionContext),{handler:u,response:c}=l;if(!u){xf(r,e,t.onUnhandledRequest),i.emit("request:unhandled",r),i.emit("request:end",r),(o=n==null?void 0:n.onBypassResponse)===null||o===void 0||o.call(n,r);return}if(!c){Ke.warn(`Expected response resolver to return a mocked response Object, but got %s. The original response is going to be used instead.

  \u2022 %s
    %s`,c,u.info.header,u.info.callFrame),i.emit("request:end",r),(a=n==null?void 0:n.onBypassResponse)===null||a===void 0||a.call(n,r);return}return Pf(r,c),i.emit("request:match",r),new Promise(m=>{var y,E,z;const X=l,$=((y=n==null?void 0:n.transformResponse)===null||y===void 0?void 0:y.call(n,c))||c;(E=n==null?void 0:n.onMockedResponse)===null||E===void 0||E.call(n,$,X),setTimeout(()=>{var Z;(Z=n==null?void 0:n.onMockedResponseSent)===null||Z===void 0||Z.call(n,$,X),i.emit("request:end",r),m($)},(z=c.delay)!==null&&z!==void 0?z:0)})})}const Df=(r,e)=>(t,i)=>st(void 0,void 0,void 0,function*(){const n=pf(t);try{const s=gf(i.payload);yield Ua(s,r.requestHandlers,e,r.emitter,{transformResponse(o){return Object.assign(Object.assign({},o),{headers:o.headers.all()})},onBypassResponse(){return n.send({type:"MOCK_NOT_FOUND"})},onMockedResponse(o){n.send({type:"MOCK_SUCCESS",payload:o})},onMockedResponseSent(o,{handler:a,publicRequest:l,parsedRequest:u}){e.quiet||a.log(l,o,a,u)}})}catch(s){if(s instanceof Xo)return n.send({type:"NETWORK_ERROR",payload:{name:s.name,message:s.message}});n.send({type:"INTERNAL_ERROR",payload:{status:500,body:JSON.stringify({errorType:s.constructor.name,message:s.message,location:s.stack})}})}});function Tf(r,e){return st(this,void 0,void 0,function*(){r.workerChannel.send("INTEGRITY_CHECK_REQUEST");const{payload:t}=yield r.events.once("INTEGRITY_CHECK_RESPONSE");if(t!=="02f4ad4a2797f85668baf196e553d929")throw new Error(`Currently active Service Worker (${t}) is behind the latest published one (02f4ad4a2797f85668baf196e553d929).`);return e})}function If(r){const e=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(...i){ln(()=>r).then(()=>{window.XMLHttpRequest.prototype.send=e,this.send(...i)})};const t=window.fetch;window.fetch=(...i)=>st(this,void 0,void 0,function*(){return yield ln(()=>r),window.fetch=t,window.fetch(...i)})}function Nf(r){return(e,t)=>{var i;const{payload:n}=t;if((i=n.type)===null||i===void 0?void 0:i.includes("opaque"))return;const s=new Response(n.body||null,n);s.headers.get("x-powered-by")==="msw"?r.emitter.emit("response:mocked",s,n.requestId):r.emitter.emit("response:bypass",s,n.requestId)}}function kf(r,e){!(e==null?void 0:e.quiet)&&!location.href.startsWith(r.scope)&&Ke.warn(`Cannot intercept requests on this page because it's outside of the worker's scope ("${r.scope}"). If you wish to mock API requests on this page, you must resolve this scope issue.

- (Recommended) Register the worker at the root level ("/") of your application.
- Set the "Service-Worker-Allowed" response header to allow out-of-scope workers.`)}const Rf=r=>function(t,i){const s=(()=>st(this,void 0,void 0,function*(){r.events.removeAllListeners(),r.workerChannel.on("REQUEST",Df(r,t)),r.workerChannel.on("RESPONSE",Nf(r));const o=yield hf(t.serviceWorker.url,t.serviceWorker.options,t.findWorker),[a,l]=o;if(!a){const c=(i==null?void 0:i.findWorker)?Ke.formatMessage(`Failed to locate the Service Worker registration using a custom "findWorker" predicate.

Please ensure that the custom predicate properly locates the Service Worker registration at "%s".
More details: https://mswjs.io/docs/api/setup-worker/start#findworker
`,t.serviceWorker.url):Ke.formatMessage(`Failed to locate the Service Worker registration.

This most likely means that the worker script URL "%s" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.

Please consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`,t.serviceWorker.url,location.host);throw new Error(c)}r.worker=a,r.registration=l,r.events.addListener(window,"beforeunload",()=>{a.state!=="redundant"&&r.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(r.keepAliveInterval)});const[u]=yield ln(()=>Tf(r,a));return u&&Ke.error(`Detected outdated Service Worker: ${u.message}

The mocking is still enabled, but it's highly recommended that you update your Service Worker by running:

$ npx msw init <PUBLIC_DIR>

This is necessary to ensure that the Service Worker is in sync with the library to guarantee its stability.
If this message still persists after updating, please report an issue: https://github.com/open-draft/msw/issues      `),yield ff(r,t).catch(c=>{throw new Error(`Failed to enable mocking: ${c==null?void 0:c.message}`)}),r.keepAliveInterval=window.setInterval(()=>r.workerChannel.send("KEEPALIVE_REQUEST"),5e3),kf(l,r.startOptions),l}))();return t.waitUntilReady&&If(s),s};function Va(r={}){r.quiet||console.log(`%c${Ke.formatMessage("Mocking disabled.")}`,"color:orangered;font-weight:bold;")}const Af=r=>function(){var t;r.workerChannel.send("MOCK_DEACTIVATE"),window.clearInterval(r.keepAliveInterval),Va({quiet:(t=r.startOptions)===null||t===void 0?void 0:t.quiet})};function Mf(r,...e){r.unshift(...e)}function Lf(r){r.forEach(e=>{e.markAsSkipped(!1)})}function Ff(r,...e){return e.length>0?[...e]:[...r]}const jf={serviceWorker:{url:"/mockServiceWorker.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker(r,e){return r===e}};function Hf(r){return ci(jf,r||{})}function Uf(r,e){return t=>(e.startOptions=Hf(t),r(e.startOptions,t||{}))}function Vf(r){const e={id:r.id,url:r.url,method:r.method,body:ms(r.body,r.headers),headers:r.headers,cookies:{},redirect:"manual",referrer:"",keepalive:!1,cache:"default",mode:"cors",referrerPolicy:"no-referrer",integrity:"",destination:"document",bodyUsed:!1,credentials:"same-origin"},t=r.headers.get("cookie");Fa(e);const i=t?Uo(t):{};return e.cookies=Object.assign(Object.assign({},e.cookies),i),e}function $f(r,e){const t=(0,qh.createInterceptor)({modules:[Jh.interceptFetch,Qh.T],resolver(i){return st(this,void 0,void 0,function*(){const n=Vf(i);return Ua(n,r.requestHandlers,e,r.emitter,{transformResponse(s){return{status:s.status,statusText:s.statusText,headers:s.headers.all(),body:s.body}},onMockedResponseSent(s,{handler:o,publicRequest:a,parsedRequest:l}){e.quiet||o.log(a,s,o,l)}})})}});return t.apply(),t}function Bf(r){return function(t){return st(this,void 0,void 0,function*(){r.fallbackInterceptor=$f(r,t),Ma({message:"Mocking enabled (fallback mode).",quiet:t.quiet})})}}function Wf(r){return function(){var t,i;(t=r.fallbackInterceptor)===null||t===void 0||t.restore(),Va({quiet:(i=r.startOptions)===null||i===void 0?void 0:i.quiet})}}function zf(r,e){const t=r.emit;t._isPiped||(r.emit=function(i,...n){return e.emit(i,...n),t.call(this,i,...n)},r.emit._isPiped=!0)}let Ts=[];function Kf(...r){if(r.forEach(o=>{if(Array.isArray(o))throw new Error(Ke.formatMessage('Failed to call "setupWorker" given an Array of request handlers (setupWorker([a, b])), expected to receive each handler individually: setupWorker(a, b).'))}),oi.exports.isNodeProcess())throw new Error(Ke.formatMessage("Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead."));const e=new Ss.StrictEventEmitter,t=new Ss.StrictEventEmitter;zf(e,t);const i={startOptions:void 0,worker:null,registration:null,requestHandlers:[...r],emitter:e,workerChannel:{on(o,a){i.events.addListener(navigator.serviceWorker,"message",l=>{if(l.source!==i.worker)return;const u=nr(l.data);!u||u.type===o&&a(l,u)})},send(o){var a;(a=i.worker)===null||a===void 0||a.postMessage(o)}},events:{addListener(o,a,l){return o.addEventListener(a,l),Ts.push({eventType:a,target:o,callback:l}),()=>{o.removeEventListener(a,l)}},removeAllListeners(){for(const{target:o,eventType:a,callback:l}of Ts)o.removeEventListener(a,l);Ts=[]},once(o){const a=[];return new Promise((l,u)=>{const c=m=>{try{const y=JSON.parse(m.data);y.type===o&&l(y)}catch(y){u(y)}};a.push(i.events.addListener(navigator.serviceWorker,"message",c),i.events.addListener(navigator.serviceWorker,"messageerror",u))}).finally(()=>{a.forEach(l=>l())})}},useFallbackMode:!("serviceWorker"in navigator)||location.protocol==="file:"},n=i.useFallbackMode?Bf(i):Rf(i),s=i.useFallbackMode?Wf(i):Af(i);return{start:Uf(n,i),stop(){i.events.removeAllListeners(),i.emitter.removeAllListeners(),t.removeAllListeners(),s()},use(...o){Mf(i.requestHandlers,...o)},restoreHandlers(){Lf(i.requestHandlers)},resetHandlers(...o){i.requestHandlers=Ff(r,...o)},printHandlers(){i.requestHandlers.forEach(o=>{const{header:a,callFrame:l}=o.info,u=o.info.hasOwnProperty("operationType")?"[graphql]":"[rest]";console.groupCollapsed(`${u} ${a}`),l&&console.log(`Declaration: ${l}`),console.log("Handler:",o),o instanceof gs&&console.log("Match:",`https://mswjs.io/repl?path=${o.info.path}`),console.groupEnd()})},events:{on(...o){return t.on(...o)},removeListener(...o){return t.removeListener(...o)},removeAllListeners(...o){return t.removeAllListeners(...o)}}}}function $a(r){let e=Math.floor(Math.random()*r.length);return r[e]}function Gf(r){return r.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}function Ba(r){if(!r)return[[],[]];let e=r.split(" ").filter(Boolean),t=e.map(i=>new RegExp(Gf(i),"gi"));return[e,t]}function Wa(r,e){let[t,i]=Ba(r);if(t.length==0)return()=>!0;if(i.length==1){let n=i[0];return s=>s&&s.match(n)}return n=>n&&i.every(s=>n.match(s))}var un={};function Wy(r,e){let[t,i]=Ba(r);if(t.length==0)return s=>[s];if(un[r])return un[r];let n=s=>{let o=[s];for(let a=0;a<i.length;a++){let l=[];for(let u=0;u<o.length;u++){let c=0,m=o[u],y=m.split(i[a]);for(let E=0;E<y.length;E++)l.push(y[E]),c+=y[E].length,E<y.length-1&&(l.push(m.substr(c,t[a].length)),c+=t[a].length)}o=l}return o};return(e==null?void 0:e.cache)&&(un[r]=n,setTimeout(()=>{delete un[r]},(e==null?void 0:e.cachePeriod)||5e3)),n}const Is=JSON.parse('[{"name":"ExxonMobil","address":"Enford   Tunnel, 2870"},{"name":"Carrefour","address":"Amwell    Alley, 2623"},{"name":"Areon Impex","address":"Bletchley   Lane, 9671"},{"name":"DynCorp","address":"Carolina  Hill, 3284"},{"name":"Leadertech Consulting","address":"Magnolia Boulevard, 6640"},{"name":"BuzzFeed","address":"Heritage Avenue, 6918"},{"name":"Areon Impex","address":"Lake Pass, 2019"},{"name":"Global Print","address":"College  Pass, 9684"},{"name":"Apple Inc.","address":"Aberavon  Hill, 4041"},{"name":"Danone","address":"Chambers  Street, 5506"},{"name":"Zepter","address":"Chestnut Rise Vale, 4828"},{"name":"Apple Inc.","address":"Linda   Lane, 9556"},{"name":"ExxonMobil","address":"Coleman  Rue, 6354"},{"name":"Comcast","address":"Callcott   Avenue, 7450"},{"name":"Coca-Cola Company","address":"Bellenden  Boulevard, 5926"},{"name":"Carrefour","address":"Gathorne   Drive, 1099"},{"name":"Demaco","address":"Blackpool  Way, 8732"},{"name":"Comodo","address":"Wakley   Street, 5723"},{"name":"Apple Inc.","address":"Sheraton   Lane, 6638"},{"name":"Amazon.com","address":"Oxford Boulevard, 2456"},{"name":"Demaco","address":"Fairbairn  Route, 9058"},{"name":"Team Guard SRL","address":"Railroad Hill, 3999"},{"name":"ENEL","address":"Waldram Park  Route, 5571"},{"name":"Telekom","address":"Canning  Grove, 8342"},{"name":"Vodafone","address":"Maple Lane, 4054"},{"name":"Carrefour","address":"Heritage Lane, 6364"},{"name":"It Smart Group","address":"Sheringham   Boulevard, 6222"},{"name":"Coca-Cola Company","address":"Bempton   Crossroad, 9761"},{"name":"Vodafone","address":"Battersea   Road, 2848"},{"name":"UPC","address":"Cavaye  Lane, 4823"},{"name":"Apple Inc.","address":"Meadow Route, 2198"},{"name":"ExxonMobil","address":"Shepherds  Lane, 7292"},{"name":"Erickson","address":"Railroad Grove, 8910"},{"name":"It Smart Group","address":"Cliff  Vale, 5580"},{"name":"BuzzFeed","address":"Camden  Pass, 925"},{"name":"DynCorp","address":"Boleyn  Route, 6482"},{"name":"CarMax","address":"Marischal  Boulevard, 5765"},{"name":"Demaco","address":"Elizabeth  Boulevard, 1382"},{"name":"Carrefour","address":"Arbutus   Road, 8784"},{"name":"Biolife Grup","address":"Chesterfield  Crossroad, 4813"},{"name":"Team Guard SRL","address":"Queen Boulevard, 9171"},{"name":"Comcast","address":"Aberavon  Crossroad, 2803"},{"name":"Areon Impex","address":"Chester  Route, 7244"},{"name":"Erickson","address":"Edwin   Rue, 4070"},{"name":"DynCorp","address":"Becklow  Street, 3557"},{"name":"Erickson","address":"Buttonwood Vale, 1224"},{"name":"Mars","address":"Tilloch   Walk, 7213"},{"name":"BuzzFeed","address":"Badric  Drive, 2058"},{"name":"Amazon.com","address":"Geffrye   Lane, 2380"},{"name":"Telekom","address":"Abbotswell  Tunnel, 548"}]');let Xf=0;Is.forEach(r=>{r.id=++Xf});function Yf(){return $a(Is)}const qf=[$r.get("/api/customers",(r,e,t)=>{let i=r.url.searchParams.get("query"),n=r.url.searchParams.get("pageSize")||100,s=r.url.searchParams.get("page")||1,o=[...Is];if(i){const a=Wa(i);o=o.filter(l=>a(l.name)||a(l.address))}return o=o.slice((s-1)*n,s*n),e(t.json(o))})];function cn(r,e,t){let i=(r||[]).map(n=>{let s=g(n.value)?Ce(n.value):n.field?o=>o[n.field]:()=>null;return{getter:e?o=>s(e(o)):s,factor:n.direction&&n.direction[0].toLowerCase()=="d"?-1:1,compare:n.comparer||t||Ro}});return function(n,s){let o,a,l;for(let u=0;u<i.length;u++){o=i[u],a=o.getter(n),l=o.getter(s);let c=o.compare(a,l);if(c!=0)return o.factor*c}return 0}}function zy(r,e,t){let i=cn(r,e,t);return function(n){let s=Array.from({length:n.length},(o,a)=>a);return s.sort((o,a)=>i(n[o],n[a])),s}}function Jf(r,e,t){let i=cn(r,e,t);return function(n){let s=[...n];return s.sort(i),s}}const za=Array.from({length:20},(r,e)=>({id:e+1,name:`Product ${String.fromCharCode(65+e)}`,unitPrice:100+Math.round(Math.random(1)*2e4)/100}));function Qf(){return $a(za)}const Zf=[$r.get("/api/products",(r,e,t)=>e(t.json(za)))];var ep=Object.defineProperty,tp=Object.defineProperties,rp=Object.getOwnPropertyDescriptors,Ka=Object.getOwnPropertySymbols,ip=Object.prototype.hasOwnProperty,np=Object.prototype.propertyIsEnumerable,Ga=(r,e,t)=>e in r?ep(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sp=(r,e)=>{for(var t in e||(e={}))ip.call(e,t)&&Ga(r,t,e[t]);if(Ka)for(var t of Ka(e))np.call(e,t)&&Ga(r,t,e[t]);return r},op=(r,e)=>tp(r,rp(e));let dn=0;const hn=Array.from({length:2e3},(r,e)=>{const t=Array.from({length:1+Math.random()*4},(o,a)=>{let l=Qf(),u=Math.ceil(Math.random()*10);return{id:a+1,productId:l.id,productName:l.name,unitPrice:l.unitPrice,qty:u,discountPct:0,regularAmount:u*l.unitPrice,discountAmount:0,totalAmount:u*l.unitPrice}}),i=Date.now()-Math.random()*90*86400*1e3,n=i+14*86400*1e3,s=t.reduce((o,a)=>o+a.totalAmount,0);return{id:++dn,invoiceNo:1e4+dn,customer:Yf(),status:Math.random()>.1?"paid":"unpaid",items:t,date:i,dueDate:n,regularAmount:s,discountAmount:0,totalAmount:s}}),ap=[$r.get("/api/invoices",(r,e,t)=>{let i=r.url.searchParams.get("page")||1,n=r.url.searchParams.get("pageSize")||10,s=r.url.searchParams.get("sortField"),o=r.url.searchParams.get("sortDir")||"asc",a=r.url.searchParams.get("query"),l=r.url.searchParams.get("status"),u=[...hn];if(a){const m=Wa(a);u=u.filter(y=>m(y.customer.name)||y.invoiceNo==a)}if(l&&(u=u.filter(m=>m.status==l)),s){var c=cn([{value:{bind:s},direction:o}]);u.sort(c)}return u=u.slice((i-1)*n,i*n),e(t.json(u))}),$r.get("/api/invoices/:id",(r,e,t)=>{let{id:i}=r.params,n=hn.find(s=>s.id==i);return e(t.json(n))}),$r.put("/api/invoices/:id",(r,e,t)=>{let{id:i}=r.params,n=hn.find(s=>s.id==i);return Object.assign(n,r.body),e(t.json(n))}),$r.post("/api/invoices",(r,e,t)=>{let i=op(sp({},r.body),{id:++dn,invoiceNo:1e4+dn});return hn.push(i),e(t.json(i))})];navigator.serviceWorker.getRegistrations().then(function(r){for(let e of r)e.unregister()}),Kf(...qf,...Zf,...ap).start({onUnhandledRequest:"warn"}).then(()=>{console.log("MOCK API WORKER SUCCESSFULLY STARED.")}).catch(r=>{console.error("MOCK API WORKER FAILED TO START.",r)});var lp=Object.defineProperty,up=Object.defineProperties,cp=Object.getOwnPropertyDescriptors,Xa=Object.getOwnPropertySymbols,dp=Object.prototype.hasOwnProperty,hp=Object.prototype.propertyIsEnumerable,Ya=(r,e,t)=>e in r?lp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fn=(r,e)=>{for(var t in e||(e={}))dp.call(e,t)&&Ya(r,t,e[t]);if(Xa)for(var t of Xa(e))hp.call(e,t)&&Ya(r,t,e[t]);return r},fp=(r,e)=>up(r,cp(e));const pp=r=>r?(r.jsxSpread&&(r=fn(fn({},r),r.jsxSpread.reduce((e,t)=>Object.assign(e,t),{}))),r.$props!==void 0&&(r=fp(fn({},r.$props),{jsxAttributes:r.jsxAttributes,children:r.children})),fn({},r)):{};class Ns extends nt{}Ns.prototype.noLayout=!0,Ns.prototype.useParentLayout=!0;let ks=null;class mp extends nt{initInstance(e,t){this.clear(),ks=t,this.add(this.childrenFactory(this.props)),t.content=this.layout?this.layout.items:this.items,this.clear(),ks=null}explore(e,t){this.layout?this.layout.items=t.content:this.items=t.content,this.exploreItems(e,t,t.content),t.computables&&t.computables.forEach(i=>i(t.store.getData()))}}function qa(r){return w(r)?r:V(r,(e={})=>{let t=pp(e);return delete t.visible,delete t.if,delete t.controller,delete t.layout,delete t.outerLayout,delete t.putInto,delete t.contentFor,delete t.jsxAttributes,delete t.$type,delete t.vdomKey,{type:mp,visible:g(e.if)?e.if:g(e.visible)?e.visible:!0,layout:e.layout||Ns,controller:e.controller,outerLayout:e.outerLayout,putInto:e.contentFor||e.putInto,vdomKey:e.vdomKey,childrenFactory:r,props:t}})}function Gy(){return ks}class pn extends ce{init(){this.value&&(this.text=this.value),this.append&&(this.action="append"),super.init()}declareData(){super.declareData(...arguments,{value:void 0,text:void 0,action:void 0,separator:void 0})}explore(e,t){e.documentTitle||(e.documentTitle={activeInstance:t,title:""});let{data:i}=t;if(i.text)switch(i.action){case"append":e.documentTitle.title&&(e.documentTitle.title+=i.separator),e.documentTitle.title+=i.text;break;case"prepend":e.documentTitle.title=i.text+i.separator+e.documentTitle.title;break;default:case"replace":e.documentTitle.title=i.text;break}super.explore(e,t)}prepare(e,t){e.documentTitle.activeInstance==t&&(document.title=e.documentTitle.title)}render(){return null}}pn.prototype.action="append",pn.prototype.separator="",ce.alias("document-title",pn);var vp=k(962),Ja=k.n(vp);class mn extends j{getData(){if(this.sealed&&this.meta.version===this.cache.version&&this.cache.data===this.data)return this.cache.result;let e=this.store.getData();return this.cache.result=this.sealed||this.immutable||this.store.sealed?Object.assign({},e,this.getAdditionalData(e)):Object.assign(e,this.getAdditionalData(e)),this.cache.version=this.meta.version,this.cache.data=this.data,this.cache.result}getAdditionalData(){return this.data}setData(e){this.data=e}}mn.prototype.immutable=!1;function Qa(r,e){let t=r;return e&&(e[0]=="/"?t[t.length-1]=="/"?t+=e.substring(1):t+=e:t[t.length-1]=="/"?t+=e:t+="/"+e),t}var gp=Object.defineProperty,yp=Object.defineProperties,bp=Object.getOwnPropertyDescriptors,Za=Object.getOwnPropertySymbols,wp=Object.prototype.hasOwnProperty,Ep=Object.prototype.propertyIsEnumerable,el=(r,e,t)=>e in r?gp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tl=(r,e)=>{for(var t in e||(e={}))wp.call(e,t)&&el(r,t,e[t]);if(Za)for(var t of Za(e))Ep.call(e,t)&&el(r,t,e[t]);return r},Cp=(r,e)=>yp(r,bp(e));class vn extends nt{init(){this.path&&(this.route=this.path),super.init(),this.route&&this.route[0]!=="+"&&(this.matcher=new(Ja())(this.route+(this.prefix?"(*remainder)":"")))}initInstance(e,t){super.initInstance(e,t),t.store=new mn({store:t.store}),t.setStore=i=>{t.store.setStore(i)}}declareData(){super.declareData(...arguments,{url:void 0})}checkVisible(e,t,i){if(!i.visible)return!1;if(i.url!==t.cached.url){t.cached.url=i.url;let n=this.matcher,s=this.route;this.route[0]==="+"&&(s=Qa(e.lastRoute.route,this.route.substring(1)),(!t.cached.matcher||t.cached.route!==s)&&(t.cached.matcher=new(Ja())(s+(this.prefix?"(*remainder)":""))),n=t.cached.matcher),t.cached.result=n.match(i.url),t.cached.matcher=n,t.cached.route=i.route=s}return t.cached.result?super.checkVisible(e,t,i):!1}prepareData(e,{data:t,store:i,cached:n}){if(super.prepareData(...arguments),i.setData({[this.recordName]:n.result}),this.params&&this.params.bind){var s=i.get(this.params.bind);JSON.stringify(s)!=JSON.stringify(n.result)&&i.set(this.params.bind,n.result)}if(this.map)for(var o in result){var a=this.map[o];a&&i.set(a,result[o])}}explore(e,t){e.push("lastRoute",{route:t.cached.route,result:t.cached.result,reverse:function(i){return t.cached.matcher.reverse(tl(Cp(tl({},t.cached.result),{remainder:""}),i))}}),super.explore(e,t)}exploreCleanup(e,t){e.pop("lastRoute")}}vn.prototype.recordName="$route",vn.prototype.prefix=!1,ce.alias("route",vn);class Op extends vn{checkVisible(e,t,i){return i.visible?!i.url&&!i.route?!0:super.checkVisible(e,t,i):!1}declareData(){super.declareData(...arguments,{redirect:void 0})}prepareData(e,t){super.prepareData(...arguments);var{data:i}=t;i.redirect&&i.redirect[0]==="+"&&(i.redirect=Qa(e.lastRoute.reverse(),i.redirect.substring(1))),i.redirect&&Qn.store?Qn.replaceState({},null,te.resolve(i.redirect)):t.set("url",i.redirect)}}ce.alias("redirect-route",Op);let it=!1;function pi(r,e,t,i={}){return it&&it.tooltipMouseMove.apply(it,arguments)}function Wr(r,e,t,i){return it&&it.tooltipMouseLeave.apply(it,arguments)}function gn(r,e,t,i){return it&&it.tooltipParentDidMount.apply(it,arguments)}function Rs(r,e,t,i){return it&&it.tooltipParentWillReceiveProps.apply(it,arguments)}function yn(r){return it&&it.tooltipParentWillUnmount.apply(it,arguments)}function Xy(r){it=r}function mi(r,e){if(e(r))return r;var t=r.childNodes;if(t)for(var i=0;i<t.length;i++){var n=mi(t[i],e);if(n)return n}return null}function As(r,e){var t=r.childNodes;if(t)for(var i=0;i<t.length;i++){var n=mi(t[i],e);if(n)return n}return null}function br(r,e){for(;r;){if(e(r))return r;r=r.parentNode}return null}function _p(r,e){return r&&br(r.parentNode,e)}function Sp(r){return document.activeElement==r}function bn(r){return document.activeElement==r||document.activeElement&&r.contains(document.activeElement)}const xp=["INPUT","SELECT","TEXTAREA","A","BUTTON"];function or(r){var e=r&&at(r.tabIndex)&&r.tabIndex>=0;return e?xp.indexOf(r.tagName)!=-1&&!r.hasAttribute("disabled")?!0:r.hasAttribute("tabindex"):!1}function Pp(){return document.activeElement}function Yy(r,e){return r.contains(e)}function wr(r,e){return r==e||r.contains(e)}let wn=null;function Ms(){if(wn==null)try{wn=!1;const r=Object.defineProperty({},"passive",{get(){wn=!0}});window.addEventListener("test",null,r)}catch(r){}return wn}let Ls=null;function vi(){return Ls==null&&(Ls=typeof window!="undefined"&&"ontouchstart"in window),Ls}let rl=0,En=0,Fs=!1;function Dp(){if(vi()&&!Fs){let r;Ms()&&(r={passive:!0}),document.addEventListener("touchstart",()=>{rl++,En=new Date().getTime()},r),document.addEventListener("touchmove",()=>{En=new Date().getTime()},r),document.addEventListener("touchend",()=>{rl--,En=new Date().getTime()},r),Fs=!0}}function gi(){return vi()&&(!Fs||new Date().getTime()-En<1e3)}vi()&&Ms()&&Dp();function wt(){return document.activeElement||document.body}let js=new N,il=300,yi=null,Cn=null,Hs=!1;class Se{static subscribe(e){let t=js.subscribe(e);return Vs(),t}static onFocusOut(e,t){let i=wr(e,wt());return this.subscribe(n=>{i?wr(e,n)||(i=!1,t(n)):i=wr(e,wt())})}static oneFocusOut(e,t){this.nudge();let i=this.subscribe(n=>{wr(e,n)||(t(n),i())});return i}static nudge(){typeof document!="undefined"&&wt()!==Cn&&(Hs||(Hs=!0,setTimeout(function(){Hs=!1,wt()!==Cn&&(Cn=wt(),Rt(()=>{js.notify(Cn)}),Vs())},0)))}static focus(e){e.focus(),this.nudge()}static focusFirst(e){let t=mi(e,or);return t&&this.focus(t),t}static focusFirstChild(e){let t=As(e,or);return t&&this.focus(t),t}static focusNext(e){let t=e,i=!0;do{if(!i){let n=this.focusFirst(t);if(n)return n}t.nextSibling?(t=t.nextSibling,i=!1):(t=t.parentNode,i=!0)}while(t)}static setInterval(e){il=e,Vs()}}function On(r,e,t){r.oneFocusOut||(r.oneFocusOut=Se.oneFocusOut(e,i=>{delete r.oneFocusOut,t(i)}))}function Us(r){r.oneFocusOut&&(r.oneFocusOut(),delete r.oneFocusOut)}function nl(r){if(r.type!=="mousedown")return;r.preventDefault();const e=wt();if(r.currentTarget!==e){let t=_p(r.currentTarget,i=>or(i))||document.body;t===document.body?e.blur():t.focus(),Se.nudge()}}function Vs(){let r=!js.isEmpty();r&&!yi&&(yi=setInterval(()=>{Se.nudge()},il)),!r&&yi&&(clearInterval(yi),yi=null)}function Tp(r,e=!1){(e||gi())&&nl(r)}function zr(r,e){if(gi())return;let t=e.props.data||e.props.instance.data,i=r&&t.autoFocus;i&&i!=e.autoFocusValue&&Se.focus(r),e.autoFocusValue=i}var Ip=Object.defineProperty,sl=Object.getOwnPropertySymbols,Np=Object.prototype.hasOwnProperty,kp=Object.prototype.propertyIsEnumerable,ol=(r,e,t)=>e in r?Ip(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rp=(r,e)=>{for(var t in e||(e={}))Np.call(e,t)&&ol(r,t,e[t]);if(sl)for(var t of sl(e))kp.call(e,t)&&ol(r,t,e[t]);return r};let al=r=>r.indexOf("data-")==0?r.substring(5):!1,Ap={"a.href":!0,"img.src":!0,"iframe.src":!0};class Ie extends zt{constructor(e){super(e);qe(this.jsxAttributes)&&e&&(this.jsxAttributes=Object.keys(e).filter(this.isValidHtmlAttribute.bind(this)))}declareData(){let e={text:void 0,innerHtml:void 0,attrs:{structured:!0},data:{structured:!0},autoFocus:void 0},t;this.urlAttributes=[],this.jsxAttributes&&this.jsxAttributes.forEach(i=>{Ap[`${this.tag}.${i}`]&&this.urlAttributes.push(i),(t=al(i))?(this.data||(this.data={}),this.data[t]=this[i]):(t=this.isValidHtmlAttribute(i))&&!e.hasOwnProperty(t)&&(t.indexOf("on")==0?this[i]&&(this.events||(this.events={}),this.events[t]=this[i]):(this.attrs||(this.attrs={}),this.attrs[t]=this[i]))}),this.urlAttributes.length==0&&delete this.urlAttributes,super.declareData(...arguments,e)}isValidHtmlAttribute(e){switch(e){case"tag":case"type":case"$type":case"$props":case"text":case"layout":case"class":case"className":case"style":case"controller":case"outerLayout":case"items":case"children":case"visible":case"if":case"mod":case"putInto":case"contentFor":case"trimWhitespace":case"preserveWhitespace":case"ws":case"plainText":case"vertical":case"memoize":case"onInit":case"onExplore":case"onDestroy":case"onRef":case"html":case"innerText":case"baseClass":case"CSS":case"tooltip":case"styles":case"jsxAttributes":case"jsxSpread":case"instance":case"store":case"autoFocus":case"vdomKey":return!1;default:if(al(e))return!1;break}return e}init(){this.html&&(this.innerHtml=this.html),this.innerText&&(this.text=this.innerText),super.init()}prepareData(e,t){let{data:i}=t;this.urlAttributes&&i.attrs&&(i.attrs=Rp({},i.attrs),this.urlAttributes.forEach(n=>{P(i.attrs[n])&&(i.attrs[n]=te.resolve(i.attrs[n]))})),super.prepareData(e,t)}attachProps(e,t,i){Object.assign(i,this.extraProps),P(this.tag)||(i.instance=t)}render(e,t,i){if(this.events&&!t.events){t.events={};for(let l in this.events)t.events[l]=u=>t.invoke(l,u,t)}let{data:n,events:s}=t,o=Object.assign({key:i},n.attrs,s);n.classNames&&(o.className=n.classNames),n.style&&(o.style=n.style);let a;return g(n.text)?a=n.text:P(n.innerHtml)?o.dangerouslySetInnerHTML={__html:n.innerHtml}:(a=this.renderChildren(e,t),a&&p(a)&&a.length==0&&(a=void 0)),o.children=a,this.attachProps(e,t,o),this.tooltip||this.onRef||this.autoFocus?A.createElement(Mp,{key:i,tag:this.tag,props:o,instance:t,data:n},o.children):A.createElement(this.tag,o,o.children)}}Ie.prototype.tag="div",Ie.prototype.styled=!0;class Mp extends A.Component{constructor(e){super(e);this.ref=t=>{this.el=t;let{instance:i}=this.props;i.widget.onRef&&i.invoke("onRef",t,i)}}render(){let{tag:e,props:t,children:i,instance:n}=this.props,{widget:s}=n;if(t.ref=this.ref,s.tooltip){let{onMouseLeave:o,onMouseMove:a}=t;t.onMouseLeave=l=>{Wr(l,n,s.tooltip),o&&o(l)},t.onMouseMove=l=>{pi(l,n,s.tooltip),a&&a(l)}}return A.createElement(e,t,i)}componentWillUnmount(){yn(this.props.instance)}UNSAFE_componentWillReceiveProps(e){Rs(this.el,e.instance,this.props.instance.widget.tooltip)}componentDidMount(){gn(this.el,this.props.instance,this.props.instance.widget.tooltip),zr(this.el,this)}componentDidUpdate(){zr(this.el,this)}}let Lp=ce.factory;ce.factory=function(r,e,t){let i=typeof r;return i=="undefined"?new Ie(Object.assign({},e,t)):i=="function"?Ie.create(Ie,{tag:r},e):Lp.call(ce,r,e,t)},ce.alias("html-element",Ie);function Fp(r){if(!r.hasOwnProperty("content"))return r;let e=[];for(let t in r)t!="label"&&Mr(e,r[t]);return e}class bi extends nt{init(){this.labelStyle=oe(this.labelStyle),super.init()}declareData(...e){return super.declareData(...e,{labelStyle:{structured:!0},labelClass:{structured:!0}})}render(e,t,i){let n=[],{children:s,data:o}=t,{CSS:a,baseClass:l}=this,u=a.expand(a.element(l,"label"),o.labelClass);const c=(m,y)=>{!m||(m.useParentLayout&&p(m.content)?m.content.forEach((E,z)=>c(E,y+"-"+z)):n.push(A.createElement("tr",{key:y},A.createElement("td",{className:u,style:o.labelStyle},ft(m.label)),A.createElement("td",{className:a.element(l,"field")},Fp(m)))))};return s.forEach(m=>{c(m.vdom,m.key)}),A.createElement("table",{key:i,className:o.classNames,style:o.style},A.createElement("tbody",null,n))}}bi.prototype.baseClass="labelsleftlayout",bi.prototype.styled=!0;function ll(r){return r?P(r)?r:r&&r.message?r.message:null:null}let wi={yesNo:function(r){let e=window.confirm(ll(r));return Promise.resolve(e?"yes":"no")},alert:function(r){return window.alert(ll(r)),Promise.resolve()}};function qy(r){return wi.alert.apply(wi,arguments)}function ul(r){return wi.yesNo.apply(wi,arguments)}function Jy(r){wi=r}var jp=Object.defineProperty,cl=Object.getOwnPropertySymbols,Hp=Object.prototype.hasOwnProperty,Up=Object.prototype.propertyIsEnumerable,dl=(r,e,t)=>e in r?jp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vp=(r,e)=>{for(var t in e||(e={}))Hp.call(e,t)&&dl(r,t,e[t]);if(cl)for(var t of cl(e))Up.call(e,t)&&dl(r,t,e[t]);return r};let Kr={},$s=null,hl={},Bs={};function lt(r,e,t=!1){return(!t||!Bs[r])&&(Kr[r]=e),t?hl[r]=e:Bs[r]=!0,i=>Ws(r,i)}function $p(...r){r.forEach(e=>{delete Kr[e],Bs[e]=!0})}function Ws(r,e){return C(r)?r(e):Kr[r]?Kr[r](e):$s?$s(r,e):null}function Bp(){Kr={}}function Wp(r){$s=r}function zp(){Kr=Vp({},hl)}var Kp=Object.defineProperty,Gp=Object.defineProperties,Xp=Object.getOwnPropertyDescriptors,fl=Object.getOwnPropertySymbols,Yp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,pl=(r,e,t)=>e in r?Kp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jp=(r,e)=>{for(var t in e||(e={}))Yp.call(e,t)&&pl(r,t,e[t]);if(fl)for(var t of fl(e))qp.call(e,t)&&pl(r,t,e[t]);return r},Qp=(r,e)=>Gp(r,Xp(e));const Qy=lt("calendar",r=>A.createElement("svg",Qp(Jp({},r),{viewBox:"0 0 32 32"}),A.createElement("path",{d:"M4 3h6m10 0h6",fill:"none",stroke:"currentColor",strokeWidth:"2"}),A.createElement("path",{d:"M19 21h4v4h-4z",fill:"currentColor"}),A.createElement("path",{d:"M3 25h24M3 21h24M3 17h24M7 28V13m-4 0h24M11 28V13.2M15 28V13.27M19 28V13.03M23 28V13.5",fill:"none",stroke:"currentColor"}),A.createElement("path",{fill:"currentColor",d:"M10 8h10v2H10z"}),A.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",d:"M3 5h24v24H3z"})),!0);var Zp=Object.defineProperty,em=Object.defineProperties,tm=Object.getOwnPropertyDescriptors,ml=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,im=Object.prototype.propertyIsEnumerable,vl=(r,e,t)=>e in r?Zp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nm=(r,e)=>{for(var t in e||(e={}))rm.call(e,t)&&vl(r,t,e[t]);if(ml)for(var t of ml(e))im.call(e,t)&&vl(r,t,e[t]);return r},sm=(r,e)=>em(r,tm(e));const Zy=lt("check",r=>A.createElement("svg",sm(nm({},r),{viewBox:"0 0 64 64"}),A.createElement("path",{d:"M7.136 42.94l20.16 14.784 29.568-40.32-9.72-7.128-22.598 30.816-10.44-7.656z",fill:"currentColor"})),!0);var om=Object.defineProperty,am=Object.defineProperties,lm=Object.getOwnPropertyDescriptors,gl=Object.getOwnPropertySymbols,um=Object.prototype.hasOwnProperty,cm=Object.prototype.propertyIsEnumerable,yl=(r,e,t)=>e in r?om(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dm=(r,e)=>{for(var t in e||(e={}))um.call(e,t)&&yl(r,t,e[t]);if(gl)for(var t of gl(e))cm.call(e,t)&&yl(r,t,e[t]);return r},hm=(r,e)=>am(r,lm(e));const fm=lt("clear",r=>A.createElement("svg",hm(dm({},r),{viewBox:"0 0 32 32"}),A.createElement("path",{fill:"currentColor",strokeWidth:"1",stroke:"currentColor",d:"M16.9 16l4.92-4.92c.24-.24.24-.6 0-.84s-.6-.24-.84 0l-4.92 4.92-5.04-4.98c-.24-.24-.6-.24-.84 0s-.24.6 0 .84L15.16 16l-4.98 4.98c-.24.24-.24.6 0 .84s.6.24.84 0L16 16.84l4.98 4.98c.24.24.6.24.84 0s.24-.6 0-.84L16.9 16z"})),!0);var pm=Object.defineProperty,mm=Object.defineProperties,vm=Object.getOwnPropertyDescriptors,bl=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,ym=Object.prototype.propertyIsEnumerable,wl=(r,e,t)=>e in r?pm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bm=(r,e)=>{for(var t in e||(e={}))gm.call(e,t)&&wl(r,t,e[t]);if(bl)for(var t of bl(e))ym.call(e,t)&&wl(r,t,e[t]);return r},wm=(r,e)=>mm(r,vm(e));const eb=lt("close",r=>A.createElement("svg",wm(bm({},r),{viewBox:"0 0 32 32"}),A.createElement("path",{fill:"currentColor",strokeWidth:"1",stroke:"currentColor",d:"M17.8 16l9.84-9.84c.48-.48.48-1.2 0-1.68s-1.2-.48-1.68 0l-9.84 9.84L6.04 4.36c-.48-.48-1.2-.48-1.68 0s-.48 1.2 0 1.68L14.32 16l-9.96 9.96c-.48.48-.48 1.2 0 1.68s1.2.48 1.68 0L16 17.68l9.96 9.96c.48.48 1.2.48 1.68 0s.48-1.2 0-1.68L17.8 16z"})),!0);var Em=Object.defineProperty,Cm=Object.defineProperties,Om=Object.getOwnPropertyDescriptors,El=Object.getOwnPropertySymbols,_m=Object.prototype.hasOwnProperty,Sm=Object.prototype.propertyIsEnumerable,Cl=(r,e,t)=>e in r?Em(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xm=(r,e)=>{for(var t in e||(e={}))_m.call(e,t)&&Cl(r,t,e[t]);if(El)for(var t of El(e))Sm.call(e,t)&&Cl(r,t,e[t]);return r},Pm=(r,e)=>Cm(r,Om(e));const Dm=lt("drop-down",r=>A.createElement("svg",Pm(xm({},r),{viewBox:"0 0 20 20"}),A.createElement("path",{fill:"currentColor",strokeWidth:"0",stroke:"currentColor",d:"M4.516 8.147L10.01 12.5l5.474-4.33-.473-.65-5 3.98-5-4z"})),!0);var Tm=Object.defineProperty,Im=Object.defineProperties,Nm=Object.getOwnPropertyDescriptors,Ol=Object.getOwnPropertySymbols,km=Object.prototype.hasOwnProperty,Rm=Object.prototype.propertyIsEnumerable,_l=(r,e,t)=>e in r?Tm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Am=(r,e)=>{for(var t in e||(e={}))km.call(e,t)&&_l(r,t,e[t]);if(Ol)for(var t of Ol(e))Rm.call(e,t)&&_l(r,t,e[t]);return r},Mm=(r,e)=>Im(r,Nm(e));const tb=lt("folder",r=>A.createElement("svg",Mm(Am({},r),{viewBox:"0 0 16 16"}),A.createElement("path",{d:"M1 5h13v9H1zm1 0h6L7 3H3z",fill:"currentColor",stroke:"none"})),!0);var Lm=Object.defineProperty,Fm=Object.defineProperties,jm=Object.getOwnPropertyDescriptors,Sl=Object.getOwnPropertySymbols,Hm=Object.prototype.hasOwnProperty,Um=Object.prototype.propertyIsEnumerable,xl=(r,e,t)=>e in r?Lm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vm=(r,e)=>{for(var t in e||(e={}))Hm.call(e,t)&&xl(r,t,e[t]);if(Sl)for(var t of Sl(e))Um.call(e,t)&&xl(r,t,e[t]);return r},$m=(r,e)=>Fm(r,jm(e));const rb=lt("folder-open",r=>A.createElement("svg",$m(Vm({},r),{viewBox:"0 0 16 16"}),A.createElement("path",{d:"M0 5v7l2.5-6H13V5zm1 0h6L6 3H2z",fill:"currentColor",stroke:"none"}),A.createElement("path",{d:"M3 7h13l-3 7H0z",fill:"currentColor",stroke:"none"})),!0);var Bm=Object.defineProperty,Wm=Object.defineProperties,zm=Object.getOwnPropertyDescriptors,Pl=Object.getOwnPropertySymbols,Km=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,Dl=(r,e,t)=>e in r?Bm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xm=(r,e)=>{for(var t in e||(e={}))Km.call(e,t)&&Dl(r,t,e[t]);if(Pl)for(var t of Pl(e))Gm.call(e,t)&&Dl(r,t,e[t]);return r},Ym=(r,e)=>Wm(r,zm(e));const ib=lt("menu",r=>A.createElement("svg",Ym(Xm({},r),{viewBox:"0 0 24 24"}),A.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),A.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:"currentColor"})),!0);var qm=Object.defineProperty,Jm=Object.defineProperties,Qm=Object.getOwnPropertyDescriptors,Tl=Object.getOwnPropertySymbols,Zm=Object.prototype.hasOwnProperty,ev=Object.prototype.propertyIsEnumerable,Il=(r,e,t)=>e in r?qm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Nl=(r,e)=>{for(var t in e||(e={}))Zm.call(e,t)&&Il(r,t,e[t]);if(Tl)for(var t of Tl(e))ev.call(e,t)&&Il(r,t,e[t]);return r},kl=(r,e)=>Jm(r,Qm(e));const nb=lt("loading",r=>{let e={animation:"linear infinite 0.5s cx-rotate"};return r&&r.style&&Object.assign(e,r.style),r=kl(Nl({},r),{style:e}),A.createElement("svg",kl(Nl({},r),{viewBox:"0 0 50 50"}),A.createElement("path",{fill:"currentColor",d:"M43.94 25.14c0-10.3-8.37-18.68-18.7-18.68-10.3 0-18.67 8.37-18.67 18.68h4.07c0-8.07 6.54-14.6 14.6-14.6 8.08 0 14.63 6.53 14.63 14.6h4.07z"}))},!0);var tv=Object.defineProperty,rv=Object.defineProperties,iv=Object.getOwnPropertyDescriptors,Rl=Object.getOwnPropertySymbols,nv=Object.prototype.hasOwnProperty,sv=Object.prototype.propertyIsEnumerable,Al=(r,e,t)=>e in r?tv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ov=(r,e)=>{for(var t in e||(e={}))nv.call(e,t)&&Al(r,t,e[t]);if(Rl)for(var t of Rl(e))sv.call(e,t)&&Al(r,t,e[t]);return r},av=(r,e)=>rv(r,iv(e));const sb=lt("search",r=>A.createElement("svg",av(ov({},r),{viewBox:"0 0 32 32"}),A.createElement("path",{fill:"currentColor",d:"M25.595 22.036l-5.26-5.075c.75-1.18 1.206-2.56 1.206-4.05 0-4.32-3.63-7.82-8.103-7.82-4.477 0-8.107 3.503-8.107 7.82 0 4.32 3.63 7.825 8.106 7.825 1.544 0 2.972-.44 4.198-1.162l5.26 5.074c.37.356.98.354 1.35 0l1.352-1.304c.37-.357.37-.947 0-1.304zm-12.16-3.91c-2.985 0-5.405-2.336-5.405-5.216 0-2.88 2.42-5.214 5.405-5.214 2.984 0 5.404 2.335 5.404 5.214 0 2.88-2.42 5.215-5.407 5.215z"})),!0);var lv=Object.defineProperty,uv=Object.defineProperties,cv=Object.getOwnPropertyDescriptors,Ml=Object.getOwnPropertySymbols,dv=Object.prototype.hasOwnProperty,hv=Object.prototype.propertyIsEnumerable,Ll=(r,e,t)=>e in r?lv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fv=(r,e)=>{for(var t in e||(e={}))dv.call(e,t)&&Ll(r,t,e[t]);if(Ml)for(var t of Ml(e))hv.call(e,t)&&Ll(r,t,e[t]);return r},pv=(r,e)=>uv(r,cv(e));const ob=lt("cx",r=>A.createElement("svg",pv(fv({},r),{viewBox:"-347 249.7 48 48"}),A.createElement("g",null,A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-337.1 273.16l-4.23-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",d:"M-318.32 273.16l-4.23-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-337.53 273.43h-8.45l4.22-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-309.38 273.43h-8.46l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-332.4 265.03l-4.22-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",d:"M-304.24 265.03l-4.23-7.33h8.45z"}),A.createElement("path",{fill:"currentColor",d:"M-322.97 265.03l-4.28-7.33h8.5z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-332.87 265.3h-8.46l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-323.45 265.3h-8.46l4.2-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-314.1 265.3h-8.45l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-308.9 273.16l-4.23-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",d:"M-304.67 265.3h-8.46l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-314.1 281.57h-8.45l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-313.6 281.3l-4.24-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",d:"M-318.32 289.43l-4.23-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",d:"M-304.67 281.57h-8.46l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-308.9 289.43l-4.23-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-341.76 281.3l-4.22-7.33h8.45z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-332.87 281.57h-8.46l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-337.1 289.43l-4.23-7.33h8.46z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-327.68 289.43l-4.23-7.33h8.43z"}),A.createElement("path",{fill:"currentColor",opacity:"0.7",d:"M-328.16 289.7h-8.46l4.23-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-318.75 289.7h-8.5l4.28-7.33z"}),A.createElement("path",{fill:"currentColor",d:"M-300.02 289.7h-8.45l4.23-7.33z"}))),!0);var mv=Object.defineProperty,vv=Object.defineProperties,gv=Object.getOwnPropertyDescriptors,Fl=Object.getOwnPropertySymbols,yv=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,jl=(r,e,t)=>e in r?mv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wv=(r,e)=>{for(var t in e||(e={}))yv.call(e,t)&&jl(r,t,e[t]);if(Fl)for(var t of Fl(e))bv.call(e,t)&&jl(r,t,e[t]);return r},Ev=(r,e)=>vv(r,gv(e));const ab=lt("file",r=>A.createElement("svg",Ev(wv({},r),{viewBox:"0 0 16 16"}),A.createElement("path",{d:"M2 2h5v5h5v7H2z",fill:"currentColor",stroke:"none"}),A.createElement("path",{d:"M8 2v4h4z",fill:"currentColor",stroke:"none"})),!0);class Gr extends ce{declareData(){super.declareData(...arguments,{name:void 0})}render(e,t,i){let{data:n}=t;return Ws(n.name,{key:i,className:n.classNames,style:n.style})}static register(e,t,i=!1){return lt(e,t,i)}static unregister(...e){return $p(...e)}static render(e,t){return Ws(e,t)}static clear(){return Bp()}static registerFactory(e){return Wp(e)}static restoreDefaultIcons(){zp()}}Gr.prototype.baseClass="icon",Gr.prototype.styled=!0,ce.alias("icon",Gr);function mt(...r){for(let e=0;e<r.length;e++)if(r[e]!=null)return r[e];return null}var Cv=Object.defineProperty,Ov=Object.defineProperties,_v=Object.getOwnPropertyDescriptors,Hl=Object.getOwnPropertySymbols,Sv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Ul=(r,e,t)=>e in r?Cv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pv=(r,e)=>{for(var t in e||(e={}))Sv.call(e,t)&&Ul(r,t,e[t]);if(Hl)for(var t of Hl(e))xv.call(e,t)&&Ul(r,t,e[t]);return r},Dv=(r,e)=>Ov(r,_v(e));class Et extends Ie{declareData(){super.declareData(...arguments,{confirm:{structured:!0},pressed:void 0,icon:void 0,disabled:void 0,enabled:void 0})}prepareData(e,t){let{data:i}=t;i.stateMods=Dv(Pv({},i.stateMods),{pressed:i.pressed}),g(i.enabled)&&(i.disabled=!i.enabled),super.prepareData(e,t)}explore(e,t){t.data.parentDisabled=e.parentDisabled,t.data.parentStrict=e.parentStrict,t.cache("parentDisabled",e.parentDisabled)&&t.markShouldUpdate(e),t.cache("parentStrict",e.parentStrict)&&t.markShouldUpdate(e),super.explore(e,t)}attachProps(e,t,i){if(super.attachProps(e,t,i),this.focusOnMouseDown||(i.onMouseDown=l=>{this.onMouseDown&&t.invoke("onMouseDown",l,t)==!1||nl(l)}),this.dismiss){let{onClick:l}=i;i.onClick=(...u)=>{l&&l(...u)===!1||t.parentOptions&&C(t.parentOptions.dismiss)&&t.parentOptions.dismiss()}}this.tag==="button"&&(i.type=this.submit?"submit":"button"),delete i.confirm,delete i.dismiss,delete i.pressed,delete i.submit,delete i.focusOnMouseDown,delete i.icon,delete i.enabled;let n,{data:s}=t;i.disabled=mt(s.parentStrict?s.parentDisabled:null,s.disabled,s.parentDisabled),s.confirm&&(n=i.onClick,i.onClick=()=>{ul(s.confirm).then(l=>{l=="yes"&&n.call(this,null,t)})});let o,a;s.icon&&(o=Gr.render(s.icon,{key:"icon",className:this.CSS.element(this.baseClass,"icon")}),a=ho(i.children),i.children=[o,...a],i.className=this.CSS.expand(i.className,this.CSS.state("icon"),a.length==0&&this.CSS.state("empty")),a.length==0&&i.children.push(A.createElement("span",{key:"baseline",className:this.CSS.element(this.baseClass,"baseline")},"\xA0")))}}Et.prototype.tag="button",Et.prototype.baseClass="button",Et.prototype.icon=!1,Et.prototype.focusOnMouseDown=!1,Et.prototype.submit=!1,ce.alias("button",Et);class Xr extends R{isSelected(e,t,i){return this.bind&&e.get(this.bind)===t}getIsSelectedDelegate(e){return(t,i)=>this.isSelected(e,t,i)}select(e,t,i,n){this.selectMultiple(e,[t],[i],n)}selectMultiple(e,t,i,n){}declareData(){var e={$selection:{structured:!0}};return Object.assign(e,...arguments)}configureWidget(e){return(this.record||this.index)&&(e.$selection=Object.assign(e.$selection||{},{record:this.record,index:this.index})),this.declareData()}selectInstance(e,t){var{store:i,data:n}=e;if(!n.$selection)throw new Error("Selection model not properly configured. Using the selectInstance method without specified record and index bindings.");return this.select(i,n.$selection.record,n.$selection.index,t)}isInstanceSelected(e){var{store:t,data:i}=e;return i.$selection&&this.isSelected(t,i.$selection.record,i.$selection.index)}}Xr.prototype.toggle=!1,Xr.namespace="ui.selection.";class Tv extends Xr{isSelected(e,t,i){return this.getIsSelectedDelegate(e)(t,i)}getIsSelectedDelegate(e){var t=this.bind&&e.get(this.bind);return(i,n)=>i===t}selectMultiple(e,t,i){this.bind&&e.set(this.bind,t[0])}}class Vl extends Xr{isSelected(e,t,i){return!1}selectMultiple(){}selectInstance(){}}Vl.prototype.isDummy=!0,Xr.factory=r=>typeof r=="object"?new Tv(r):new Vl;class Ei extends R{getRecords(){throw new Error("Abstract method")}setFilter(){}sort(){}}Ei.prototype.recordName="$record",Ei.prototype.indexName="$index",Ei.prototype.immutable=!1;var Iv=Object.defineProperty,$l=Object.getOwnPropertySymbols,Nv=Object.prototype.hasOwnProperty,kv=Object.prototype.propertyIsEnumerable,Bl=(r,e,t)=>e in r?Iv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rv=(r,e)=>{for(var t in e||(e={}))Nv.call(e,t)&&Bl(r,t,e[t]);if($l)for(var t of $l(e))kv.call(e,t)&&Bl(r,t,e[t]);return r};class Wl extends j{getData(){if(this.meta.version===this.cache.version&&this.sealed)return this.cache.result;let e=this.store.getData(),t=this.getBaseData(e);return this.embedAugmentData(t,e),this.cache.result=t,this.cache.parentStoreData=e,this.cache.version=this.meta.version,this.cache.result}getBaseData(e){return this.sealed||this.immutable||this.store.sealed?Rv({},e):e}embedAugmentData(e,t){throw new Error("abstract")}isExtraKey(e){throw new Error("abstract")}setExtraKeyValue(e,t){throw new Error("abstract")}deleteExtraKeyValue(e){throw new Error("abstract")}setItem(e,t){let i=h.get(e);if(this.isExtraKey(i.parts[0])){let n=i.parts[0],s=t;if(i.parts.length>1){let o={};this.embedAugmentData(o,this.store.getData()),s=i.set(o,t)[n]}return this.setExtraKeyValue(n,s)}return super.setItem(e,t)}deleteItem(e){let t=h.get(e);if(this.isExtraKey(t.parts[0])){let i=t.parts[0];if(t.parts.length==1)return this.deleteExtraKeyValue(i);let n={};this.embedAugmentData(n,this.store.getData());let s=t.delete(n)[i];return this.setExtraKeyValue(i,s)}return super.deleteItem(e)}}Wl.prototype.immutable=!1;class _n extends Wl{isExtraKey(e){return e==this.recordAlias||e==this.indexAlias||e==this.lengthAlias}deleteExtraKeyValue(e){if(e!=this.recordAlias)throw new Error(`Field ${e} cannot be deleted.`);const t=this.arrayAccessor.get(this.store.getData());if(!t)return!1;const i=[...t.slice(0,this.itemIndex),...t.slice(this.itemIndex+1)];return this.arrayAccessor.set(i,this.store)}setExtraKeyValue(e,t){if(e!=this.recordAlias)throw new Error(`Field ${e} is read-only.`);const i=this.arrayAccessor.get(this.store.getData());if(!i||t===i[this.itemIndex])return!1;const n=[...i.slice(0,this.itemIndex),t,...i.slice(this.itemIndex+1)];return this.arrayAccessor.set(n,this.store)}embedAugmentData(e,t){let i=this.arrayAccessor.get(t);!p(i)||(e[this.recordAlias]=i[this.itemIndex],e[this.indexAlias]=this.itemIndex,e[this.lengthAlias]=i.length)}setIndex(e){this.itemIndex=e}}_n.prototype.recordAlias="$record",_n.prototype.indexAlias="$index",_n.prototype.lengthAlias="$length";function zl(r,e){if(r==null)return null;if(M(r)){if(r.isAccessor||r.isRef)return r;if(_(r)){let t=h.get(r);return{get:t.value,set:(i,n)=>n.set(t.path,i),isAccessor:!0}}}if(K(r)){let t=Ce(r);return r&&r.set?{get:t,isAccessor:!0,bindInstance(i){return{get:t,set:n=>r.set(n,i),isAccessor:!0}}}:{get:t,isAccessor:!0}}return{get:()=>r}}const be={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,a:65};function Kl(r){return r.tagName=="INPUT"||r.tagName=="TEXTAREA"}class Sn extends Ei{init(){this.recordsAccessor=zl(this.recordsBinding?this.recordsBinding:this.recordsAccessor)}initInstance(e,t){t.recordStoreCache||(t.recordStoreCache=new WeakMap),!t.recordsAccessor&&this.recordsAccessor&&(t.recordsAccessor=this.recordsAccessor.bindInstance?this.recordsAccessor.bindInstance(t):this.recordsAccessor)}getRecords(e,t,i,n){return t.recordStoreCache||this.initInstance(e,t),this.mapRecords(e,t,i,n,t.recordsAccessor)}mapRecords(e,t,i,n,s){let o=[];return t.recordStoreCache||this.initInstance(e,t),p(i)&&i.forEach((a,l)=>{if(this.filterFn&&!this.filterFn(a))return;let u=this.mapRecord(e,t,a,n,s,l);o.push(u)}),this.sorter&&(o=this.sorter(o)),o}mapRecord(e,t,i,n,s,o){let a=t.recordStoreCache.get(i);return s?a?(a.setStore(n),a.setIndex(o)):a=new _n({store:n,arrayAccessor:s,itemIndex:o,recordAlias:this.recordName,indexAlias:this.indexName,immutable:this.immutable,sealed:this.sealed}):a?a.setStore(n):a=new mn({store:n,data:{[this.recordName]:i,[this.indexName]:o},immutable:this.immutable,sealed:this.sealed}),typeof i=="object"&&t.recordStoreCache.set(i,a),{store:a,index:o,data:i,type:"data",key:this.keyField?i[this.keyField]:o}}setFilter(e){this.filterFn=e}getComparer(e){return e?Mt.getComparer(e):null}buildSorter(e){if(p(e)&&e.length>0){let t,i;e.every(n=>n.field&&n.value==null)?(i=n=>n.data,t=n=>({bind:n.field})):(i=n=>n.store.getData(),t=n=>({bind:this.recordName+"."+n.field})),this.sorter=Jf(e.map(n=>{let s=Object.assign({},n);return s.field&&s.value==null&&(s.value=t(s)),s.comparer||(s.comparer=this.getComparer(g(s.sortOptions)?s.sortOptions:this.sortOptions)),s}),i)}else this.sorter=null}sort(e){this.buildSorter(e)}}Sn.prototype.immutable=!1,Sn.prototype.sealed=!1,Sn.autoInit=!0;class Gl{static sum(){return new zs}static avg(){return new xn}static count(){return new Xl}static distinct(){return new Ks}static min(){return new Xs}static max(){return new Gs}}class zs{process(e){this.empty=!1,isNaN(e)?this.invalid=!0:this.result+=e}getResult(){return this.invalid?null:this.result}}zs.prototype.result=0,zs.prototype.empty=!0;class xn{process(e,t=1){this.empty=!1,!isNaN(e)&&!isNaN(t)?(this.result+=e*t,this.count+=t):this.invalid=!0}getResult(){return this.empty||this.invalid||this.count==0?null:this.result/this.count}}xn.prototype.result=0,xn.prototype.count=0,xn.prototype.empty=!0;class Xl{process(e){e!=null&&this.result++}getResult(){return this.result}}Xl.prototype.result=0;class Ks{constructor(){this.values={}}process(e){e==null||this.values[e]||(this.values[e]=!0,this.empty=!1,this.result++)}getResult(){return this.empty||this.invalid?null:this.result}}Ks.prototype.result=0,Ks.prototype.empty=!0;class Gs{process(e){isNaN(e)?e!=null&&(this.invalid=!0):(this.empty?this.result=e:e>this.result&&(this.result=e),this.empty=!1)}getResult(){return this.empty||this.invalid?null:this.result}}Gs.prototype.result=0,Gs.prototype.empty=!0;class Xs{process(e){isNaN(e)?e!=null&&(this.invalid=!0):(this.empty?this.result=e:e<this.result&&(this.result=e),this.empty=!1)}getResult(){return this.empty||this.invalid?null:this.result}}Xs.prototype.result=0,Xs.prototype.empty=!0;function Ys(r,e){var t={};for(var i in r)t[i]=e(r[i],i);return t}class Av{constructor(e,t,i,n){this.keys=Object.keys(e).map(s=>({name:s,value:Ce(e[s])})),n&&(this.nameGetter=Ce(n)),this.dataGetter=i||(s=>s),this.aggregates=t&&Ys(t,s=>{if(!Gl[s.type])throw new Error(`Unknown aggregate function '${s.type}'.`);return{value:Ce(s.value),weight:Ce(s.weight||1),type:s.type}}),this.reset()}reset(){this.groups=this.initGroup(this.keys.length==0)}initGroup(e){return e?{records:[],indexes:[],aggregates:this.aggregates&&Ys(this.aggregates,t=>{var i=Gl[t.type];return{processor:i(),value:t.value,weight:t.weight}})}:{}}process(e,t){for(var i=this.dataGetter(e),n=this.keys.map(u=>u.value(i)),s=this.groups,o=0;o<n.length;o++){var a=s[n[o]];a||(a=s[n[o]]=this.initGroup(o+1==n.length),this.nameGetter&&(a.name=this.nameGetter(i))),s=a}if(s.records.push(e),s.indexes.push(t),s.aggregates)for(var l in s.aggregates)s.aggregates[l].processor.process(s.aggregates[l].value(i),s.aggregates[l].weight(i))}processAll(e,t){if(t)for(var i=0;i<e.length;i++)this.process(e[i],t[i]);else e.forEach((n,s)=>this.process(n,s))}report(e,t,i,n){if(i==this.keys.length){var s={};this.keys.forEach((o,a)=>s[o.name]=t[a]),n.push({key:s,name:e.name,records:e.records,indexes:e.indexes,aggregates:Ys(e.aggregates,o=>o.processor.getResult())})}else Object.keys(e).forEach(o=>this.report(e[o],[...t,o],i+1,n))}getResults(){var e=this.groups,t=[];return this.report(e,[],0,t),t}}var Mv=Object.defineProperty,Lv=Object.defineProperties,Fv=Object.getOwnPropertyDescriptors,Yl=Object.getOwnPropertySymbols,jv=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable,ql=(r,e,t)=>e in r?Mv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yr=(r,e)=>{for(var t in e||(e={}))jv.call(e,t)&&ql(r,t,e[t]);if(Yl)for(var t of Yl(e))Hv.call(e,t)&&ql(r,t,e[t]);return r},qs=(r,e)=>Lv(r,Fv(e));class Jl extends Sn{init(){super.init(),this.groupRecordsAlias&&(this.groupRecordsName=this.groupRecordsAlias),this.groupings&&this.groupBy(this.groupings)}getRecords(e,t,i,n){let s=super.getRecords(e,t,i,n);if(this.groupings){let o=[];this.processLevel([],s,o,n),s=o}return s}processLevel(e,t,i,n){let s=e.length,o=this.groupings.length-s;if(o==0){for(let c=0;c<t.length;c++)t[c].store.setStore(n),i.push(t[c]);return}let a=this.groupings[s],{grouper:l}=a;l.reset(),l.processAll(t);let u=l.getResults();a.comparer&&u.sort(a.comparer),u.forEach(c=>{e.push(c.key);let m=e.map($=>Object.keys($).map(Z=>$[Z]).join(":")).join("|"),y=qs(Yr(Yr({},c.key),c.aggregates),{$name:c.name,$level:o,$records:c.records||[],$key:m}),E={[this.recordName]:c.records.length>0?c.records[0].data:null,[this.groupName]:y},z=new mn({store:n,data:E,immutable:this.immutable}),X={key:m,data:E,group:y,grouping:a,store:z,level:o};a.includeHeader!==!1&&i.push(qs(Yr({},X),{type:"group-header",key:"header:"+X.key})),this.processLevel(e,c.records,i,z),a.includeFooter!==!1&&i.push(qs(Yr({},X),{type:"group-footer",key:"footer:"+X.key})),e.pop()})}groupBy(e){if(!e)this.groupings=null;else if(p(e))this.groupings=e,this.groupings.forEach(t=>{let i=[],n={};for(let s in t.key)(!t.key[s]||!g(t.key[s].direction)||!g(t.key[s].value))&&(t.key[s]={value:t.key[s],direction:"ASC"}),n[s]=t.key[s].value,i.push({field:s,direction:t.key[s].direction});t.grouper=new Av(n,Yr(Yr({},this.aggregates),t.aggregates),s=>s.store.getData(),t.text),t.comparer=null,i.length>0&&(t.comparer=cn(i,s=>s.key,this.sortOptions?Mt.getComparer(this.sortOptions):null))});else throw new Error("Invalid grouping provided.")}}Jl.prototype.groupName="$group";let Ql=new N;class Pn{static subscribe(e){return Ql.subscribe(e)}static notify(){Rt(()=>{Ql.notify()})}static trackElement(e,t){if(typeof ResizeObserver!="function")return this.subscribe(t);let i=new ResizeObserver(t);return i.observe(e),()=>{i.disconnect()}}}typeof window!="undefined"&&window.addEventListener("resize",()=>Pn.notify());function Dn(r,e=!1){return r?br(r,i=>{if(i.nodeType!=Node.ELEMENT_NODE||!e&&i.clientHeight>=i.scrollHeight||e&&i.clientWidth>=i.scrollWidth)return!1;let n=getComputedStyle(i)[e?"overflow-x":"overflow-y"];return n=="auto"||n=="scroll"})||r.ownerDocument.scrollingElement||r.ownerDocument.documentElement:null}function Tn(r){if(r.ownerDocument!=document){let e=document.getElementsByTagName("iframe");for(let t=0;t<e.length;t++)if(e[t].contentDocument==r.ownerDocument)return e[t].getBoundingClientRect()}return{top:0,left:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}}function Er(r){let e=r.getBoundingClientRect(),t=Tn(r);return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom+t.top,right:e.right+t.left,width:e.right-e.left,height:e.bottom-e.top}}function In(r,e=!1){return r==r.ownerDocument.body||r==r.ownerDocument.documentElement?e?Tn(r.ownerDocument.body):{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}:e?Er(r):r.getBoundingClientRect()}function Js(r,e=!0,t=!1,i=0){if(t){let n=Dn(r,!0);if(n){let s=In(n),o=r.getBoundingClientRect(),a=n.offsetWidth-n.clientWidth;o.right+i>s.right-a&&(n.scrollLeft=Math.max(0,n.scrollLeft+o.right+i-s.right+a)),o.left-i<s.left&&(n.scrollLeft=Math.max(0,n.scrollLeft+o.left-i-s.left))}}if(e){let n=Dn(r);if(n){let s=In(n),o=r.getBoundingClientRect(),a=n.offsetHeight-n.clientHeight;o.bottom+i>s.bottom-a&&(n.scrollTop=Math.max(0,n.scrollTop+o.bottom+i-s.bottom+a)),o.top-i<s.top&&(n.scrollTop=Math.max(0,n.scrollTop+o.top-i-s.top))}}}var Uv=Object.defineProperty,Vv=Object.defineProperties,$v=Object.getOwnPropertyDescriptors,Zl=Object.getOwnPropertySymbols,Bv=Object.prototype.hasOwnProperty,Wv=Object.prototype.propertyIsEnumerable,eu=(r,e,t)=>e in r?Uv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zv=(r,e)=>{for(var t in e||(e={}))Bv.call(e,t)&&eu(r,t,e[t]);if(Zl)for(var t of Zl(e))Wv.call(e,t)&&eu(r,t,e[t]);return r},Kv=(r,e)=>Vv(r,$v(e));const Gv=lt("sort-asc",r=>A.createElement("svg",Kv(zv({},r),{viewBox:"0 0 16 16"}),A.createElement("path",{fill:"currentColor",d:"M10.5 5.8l-3-3-3 3 .707.708L7 4.688v8.312h1V4.69l1.793 1.817z"})),!0);function Qs(r,{onMouseMove:e,onMouseUp:t,onDblClick:i,captureData:n,cursor:s}){let o=document.createElement("div");o.className="cxb-mousecapture",o.style.cursor=s||getComputedStyle(r.currentTarget).cursor,document.body.appendChild(o);let a=!0;o.addEventListener("mousemove",c),o.addEventListener("mouseup",m),i&&o.addEventListener("dblclick",u);function l(){o!=null&&(o.removeEventListener("mousemove",c),o.removeEventListener("mouseup",m),i&&o.removeEventListener("dblclick",i),document.body.removeChild(o),o=null)}function u(y){try{i(y)}finally{l()}}r.stopPropagation();function c(y){if(!a){l();return}i=null,Rt(()=>{e&&e(y,n),y.stopPropagation(),y.preventDefault()})}function m(y){a=!1,Rt(()=>{i||(o.style.display="none");try{t&&t(y,n)}finally{i?setTimeout(l,1500):l()}})}}function Xv(r,{onMouseMove:e,onMouseUp:t,onDblClick:i,captureData:n,cursor:s}){if(r.type.indexOf("touch")==0){let o=r.currentTarget,a=u=>{Rt(()=>{e&&e(u,n),u.preventDefault()})},l=u=>{Rt(()=>{o.removeEventListener("touchmove",a),o.removeEventListener("touchend",l),t&&t(u),u.preventDefault()})};o.addEventListener("touchmove",a),o.addEventListener("touchend",l),r.stopPropagation()}else Qs(r,{onMouseMove:e,onMouseUp:t,captureData:n,onDblClick:i,cursor:s})}function lb(r,e,t,i,n){Qs(r,{onMouseMove:e,onMouseUp:t,captureData:i,cursor:n})}function Zs(r,e,t,i,n){Xv(r,{onMouseMove:e,onMouseUp:t,captureData:i,cursor:n})}function Gt(r){let e=r.touches&&r.touches[0]||r,t=Tn(r.target);return{clientX:e.clientX+t.left,clientY:e.clientY+t.top}}let tu=1e4;class eo{static next(){return++tu}static reset(e){tu=e}}var Yv=Object.defineProperty,qv=Object.defineProperties,Jv=Object.getOwnPropertyDescriptors,ru=Object.getOwnPropertySymbols,Qv=Object.prototype.hasOwnProperty,Zv=Object.prototype.propertyIsEnumerable,iu=(r,e,t)=>e in r?Yv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,to=(r,e)=>{for(var t in e||(e={}))Qv.call(e,t)&&iu(r,t,e[t]);if(ru)for(var t of ru(e))Zv.call(e,t)&&iu(r,t,e[t]);return r},eg=(r,e)=>qv(r,Jv(e));let Nn=new N,kn,St,ar,ut,qr,Xt,Yt;function tg(r){return Nn.subscribe(r)}function nu(r,e={},t){ut&&ou(r);let i=e.sourceEl||r.currentTarget,n=Er(i),s=Gt(r),o=to({},e.clone),a=document.createElement("div");a.classList.add("cxb-dragclone"),P(o.class)&&a.classList.add(o.class),M(o.style)&&Object.assign(a.style,o.style),a.style.left="-1000px",a.style.top="-1000px",(o.matchSize||o.matchWidth)&&(a.style.width=`${Math.ceil(n.width)}px`),(o.matchSize||o.matchHeight)&&(a.style.height=`${Math.ceil(n.height)}px`),a.style.zIndex=eo.next()+1e3,o.cloneContent&&a.appendChild(i.cloneNode(!0)),document.body.appendChild(a);let l=getComputedStyle(i),u=o.matchCursorOffset?s.clientX-n.left:-3,c=o.matchCursorOffset?s.clientY-n.top:-3,m=eg(to({},e.source),{width:n.width,height:n.height,deltaX:u,deltaY:c,margin:[l.getPropertyValue("margin-top"),l.getPropertyValue("margin-right"),l.getPropertyValue("margin-bottom"),l.getPropertyValue("margin-left")]});if(ut={deltaX:u,deltaY:c,el:a,clone:o,source:m,onDragEnd:t},o.widget&&o.store&&!o.cloneContent){let E={$type:ig,value:{disabled:!0},jsxAttributes:["value"],children:[o.widget]};ut.stop=es(a,o.store,E,{removeParentDOMElement:!0})}else ut.stop=()=>{document.body.removeChild(a)};let y=io(r,"dragstart");kn=new WeakMap,Nn.execute(E=>{if(E.onDropTest)try{if(!E.onDropTest(y))return}catch(z){ue.warn("Drop zone onDropTest failed. Error: ",z,E);return}E.onDragStart&&E.onDragStart(y),kn.set(E,!0)}),su(r),Zs(r,su,ou)}function su(r,e){let t=io(r,"dragmove"),i=null,n=null,s=null,o=[],a=[];Nn.execute(c=>{let m;try{if(m=c.onDropTest&&c.onDropTest(t),!m)return}catch(y){return}if(c.onDragMeasure){let y=c.onDragMeasure(t,{test:m})||{};y.near?o.push(c):a.push(c),at(y.over)&&(s==null||y.over<s)&&(i=c,n=m,s=y.over)}});let l=new WeakMap;ar!=null&&a.forEach(c=>{c.onDragAway&&ar.has(c)&&c.onDragAway(c)}),o.forEach(c=>{c.onDragNear&&c!=i&&(ar==null||!ar.has(c))&&(c.onDragNear(c),l.set(c,!0))}),ar=l,i!=St&&(Xt=null,Yt=null),i!=St&&St&&St.onDragLeave&&St.onDragLeave(t),i!=St&&i&&(i.onDragEnter&&i.onDragEnter(t),Xt=i.onGetVScrollParent&&i.onGetVScrollParent({test:n}),Yt=i.onGetHScrollParent&&i.onGetHScrollParent({test:n})),St=i,i&&i.onDragOver&&i.onDragOver(t,{test:n});let u=Gt(r);if(ut.el.style.left=`${u.clientX-ut.deltaX}px`,ut.el.style.top=`${u.clientY-ut.deltaY}px`,Xt||Yt){let c=0,m=0,y=Xt&&In(Xt,!0),E=Yt==Xt?y:Yt&&In(Yt,!0);if(y&&(u.clientY<y.top+20?m=-1:u.clientY>=y.bottom-20&&(m=1)),E&&(u.clientX<E.left+20?c=-1:u.clientX>=E.right-20&&(c=1)),m||c){if(!qr){let z=()=>{if(m){let X=Xt.scrollTop,$=Math.min(Xt.scrollHeight,Math.max(0,X+m*5*Math.min(200,Math.max(50,t.source.height))/60));Xt.scrollTop=$}if(c){let X=Yt.scrollLeft,$=Math.min(Yt.scrollWidth,Math.max(0,X+c*5*Math.min(200,Math.max(50,t.source.width))/60));Yt.scrollLeft=$}qr=requestAnimationFrame(z)};qr=requestAnimationFrame(z)}}else ro()}else ro()}function ro(){qr&&(cancelAnimationFrame(qr),qr=null)}function ou(r){ro();let e=io(r,"dragdrop");ut.stop&&ut.stop(),St&&St.onDrop&&(e.result=St.onDrop(e)),Nn.execute(t=>{ar!=null&&t.onDragAway&&ar.has(t)&&t.onDragAway(r),!!kn.has(t)&&t.onDragEnd&&t.onDragEnd(e)}),ut.onDragEnd&&ut.onDragEnd(e),ar=null,St=null,ut=null,kn=null}function io(r,e){return{type:e,event:r,cursor:Gt(r),source:ut.source}}let Cr={};function Rn(r){r.timeStamp<=Cr.timeStamp||(Cr={el:r.currentTarget,start:to({},Gt(r)),timeStamp:r.timeStamp})}function An(){Cr={}}function Mn(r){let e=Gt(r);if(r.currentTarget==Cr.el&&Math.abs(e.clientX-Cr.start.clientX)+Math.abs(e.clientY-Cr.start.clientY)>=2)return Cr={},!0}let Ln;function ub(r){Ln=r.currentTarget}function au(r){return Ln&&(r.target==Ln||Ln.contains(r.target))}const rg=kt.createContext?kt.createContext({disabled:!1}):({children:r})=>r;class ig extends zt{render(e,t,i){return kt.createElement(rg.Provider,{value:this.value,key:i},this.renderChildren(e,t))}}class Fn extends nt{declareData(){return super.declareData(...arguments,{errors:void 0,valid:void 0,invalid:void 0,disabled:void 0,enabled:void 0,readOnly:void 0,viewMode:void 0,tabOnEnterKey:void 0,isolated:void 0,visited:void 0,strict:void 0})}explore(e,t){g(t.data.enabled)&&(t.data.disabled=!t.data.enabled),t.validation={errors:[]},e.push("parentStrict",mt(t.data.strict,e.parentStrict)),e.push("parentDisabled",mt(t.data.disabled,e.parentDisabled)),e.push("parentReadOnly",mt(t.data.readOnly,e.parentReadOnly)),e.push("parentViewMode",mt(t.data.viewMode,e.parentViewMode)),e.push("parentTabOnEnterKey",mt(t.data.tabOnEnterKey,e.parentTabOnEnterKey)),e.push("parentVisited",mt(t.data.visited,e.parentVisited)),e.push("validation",t.validation),super.explore(e,t)}exploreCleanup(e,t){e.pop("validation"),e.pop("parentVisited"),e.pop("parentDisabled"),e.pop("parentReadOnly"),e.pop("parentViewMode"),e.pop("parentTabOnEnterKey"),e.pop("parentStrict"),t.valid=t.validation.errors.length==0,!t.valid&&!this.isolated&&e.validation&&e.validation.errors.push(...t.validation.errors),t.set("valid",t.valid),t.set("invalid",!t.valid),this.errors&&!Fr(t.data.errors,t.validation.errors)&&t.set("errors",t.validation.errors)}}Fn.prototype.isolated=!1,ce.alias("validation-group",Fn);class jn extends nt{declareData(){return super.declareData(...arguments,{value:void 0,aggregateValue:void 0,weight:void 0,pad:void 0,format:void 0,colSpan:void 0,rowSpan:void 0,editable:void 0,fixed:void 0})}init(){!this.value&&this.field&&(this.value={bind:this.recordName+"."+this.field}),qe(this.editable)&&(this.editable=!!this.editor),super.init()}prepareCSS(e,t){let{data:i}=t;i.classNames=this.CSS.expand(i.className,i.class,this.CSS.state({pad:i.pad,editable:i.editable,["aligned-"+this.align]:this.align})),i.style=this.CSS.parseStyle(i.style)}render(e,t,i){let{data:n}=t,s;return this.items.length>0?s=this.renderChildren(e,t):(s=n.value,n.format&&(s=Mi.value(s,n.format))),{atomic:!0,content:s,instance:t,data:n,key:i,uniqueColumnId:this.uniqueColumnId}}}jn.prototype.pad=!0,jn.prototype.styled=!0,jn.prototype.fixed=!1;class lu extends zt{init(){this.items=ce.create(jn,this.columns||[],{recordName:this.recordName}),super.init()}render(e,t,i){let{data:n}=t;return{key:i,data:n,content:this.renderChildren(e,t),atomic:!0}}}lu.prototype.styled=!0;class uu extends Fn{declareData(...e){super.declareData(...e,{hoverId:void 0})}init(){this.items=[];for(let e=0;e<10;e++)this["line"+e]&&this.items.push(lu.create(this["line"+e],{recordName:this.recordName}));super.init()}explore(e,t){e.push("dragHandles",t.dragHandles=[]),super.explore(e,t)}exploreCleanup(e,t){super.exploreCleanup(e,t),e.pop("dragHandles")}}uu.prototype.styled=!0;class ng extends A.Component{constructor(e){super(e);this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this);let{grid:t,instance:i}=e;t.widget.onRowDoubleClick&&(this.onDoubleClick=n=>{t.invoke("onRowDoubleClick",n,i)}),t.widget.cellEditable&&(this.onDoubleClick=n=>{this.props.parent.moveCursor(this.props.cursorIndex,{cellEdit:!0}),n.preventDefault()}),t.widget.onRowContextMenu&&(this.onRowContextMenu=n=>{t.invoke("onRowContextMenu",n,i)})}render(){let{className:e,dragSource:t,instance:i,record:n}=this.props,{data:s,widget:o}=i,{CSS:a}=o,l,u,c,m;return(t||s.hoverId)&&(l=this.onMouseMove,u=An),s.hoverId&&(m=this.onMouseLeave),o.onRowClick&&(c=this.onKeyDown),A.createElement("tbody",{className:a.expand(s.classNames,e,this.state&&this.state.hover&&a.state("hover")),style:s.style,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,onTouchMove:l,onMouseMove:l,onMouseLeave:m,onTouchEnd:u,onMouseUp:u,onKeyDown:c,onContextMenu:this.onRowContextMenu,"data-record-key":n.key},this.props.children)}onMouseDown(e){let{grid:t,record:i,instance:n,parent:s,cursorIndex:o}=this.props;this.props.dragSource&&(Rn(e),(au(e)||n.dragHandles.length==0)&&(e.preventDefault(),e.stopPropagation(),wt().contains(e.target)||document.activeElement.blur()));let{store:a,widget:l}=t;l.selectable&&Tp(e),s.moveCursor(o,{select:!gi()&&(e.shiftKey||e.ctrlKey||!l.selection.isSelected(a,i.data,i.index)),selectRange:e.shiftKey,selectOptions:{toggle:e.ctrlKey&&!e.shiftKey,add:e.ctrlKey&&e.shiftKey},cellIndex:this.getCellIndex(e)}),e.shiftKey&&!gi()&&e.preventDefault()}onMouseMove(e){let{grid:t,instance:i,parent:n,record:s}=this.props;Mn(e)&&(au(e)||i.dragHandles.length==0)&&n.beginDragDrop(e,s),t.hoverSync&&i.data.hoverId!=null&&t.hoverSync.report(t.widget.hoverChannel,i.data.hoverId,!0)}onMouseLeave(e){let{grid:t,instance:i}=this.props;t.hoverSync&&i.data.hoverId!=null&&t.hoverSync.report(t.widget.hoverChannel,i.data.hoverId,!1)}getCellIndex(e){let t=br(e.target,i=>i.tagName=="TD");return t?(this.props.fixed?0:this.props.grid.fixedColumnCount)+Array.from(t.parentElement.children).indexOf(t):-1}onKeyDown(e){let{grid:t,instance:i}=this.props;e.keyCode==be.enter&&t.invoke("onRowClick",e,i)===!1&&e.stopPropagation()}onClick(e){let{grid:t,record:i,instance:n,parent:s,cursorIndex:o}=this.props,{store:a,widget:l}=t;t.widget.onRowClick&&t.invoke("onRowClick",e,n)===!1||(e.stopPropagation(),s.moveCursor(o,{select:gi()||!e.shiftKey&&!e.ctrlKey&&l.selection.isSelected(a,i.data,i.index),selectRange:e.shiftKey,selectOptions:{toggle:e.ctrlKey&&!e.shiftKey,add:e.ctrlKey&&e.shiftKey},cellIndex:this.getCellIndex(e)}))}shouldComponentUpdate(e,t){return e.shouldUpdate!==!1||e.record!=this.props.record||e.cursor!=this.props.cursor||e.selected!=this.props.selected||e.isBeingDragged!=this.props.isBeingDragged||e.cursorIndex!==this.props.cursorIndex||e.cursorCellIndex!==this.props.cursorCellIndex||e.cellEdit!==this.props.cellEdit||e.dimensionsVersion!==this.props.dimensionsVersion||e.isDraggedOver!==this.props.isDraggedOver||t!==this.state}compontentWillUnmount(){this.unsubscribeHoverSync&&this.unsubscribeHoverSync()}componentDidMount(){let{grid:e}=this.props;e.hoverSync&&(this.unsubscribeHoverSync=e.hoverSync.subscribe(e.widget.hoverChannel,t=>{let i=t===this.props.instance.data.hoverId;(!this.state||i!==this.state.hover)&&this.setState({hover:i})}))}}function sg(r,e){let t,i=function(...n){let s=this;clearTimeout(t),t=setTimeout(function(){r.apply(s,n)},e)};return i.reset=function(...s){clearTimeout(t),r.apply(this,s)},i}class cu extends zt{render(e,t,i){let{data:n}=t;return kt.createElement(og,{key:i,className:n.className,style:n.style},this.renderChildren(e,t))}}cu.prototype.styled=!0;class og extends kt.Component{render(){let{className:e,style:t,children:i}=this.props;return kt.createElement("div",{ref:n=>this.el=n,className:e,style:t},i)}componentDidMount(){if(!bn(this.el)){let e=As(this.el,or);e&&e.focus()}}}var ag=Object.defineProperty,lg=Object.defineProperties,ug=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,cg=Object.prototype.hasOwnProperty,dg=Object.prototype.propertyIsEnumerable,hu=(r,e,t)=>e in r?ag(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ct=(r,e)=>{for(var t in e||(e={}))cg.call(e,t)&&hu(r,t,e[t]);if(du)for(var t of du(e))dg.call(e,t)&&hu(r,t,e[t]);return r},qt=(r,e)=>lg(r,ug(e));class Oe extends ce{declareData(...e){let t=this.selection.configureWidget(this);super.declareData(...e,{records:void 0,sorters:void 0,preSorters:void 0,scrollable:void 0,sortField:void 0,sortDirection:void 0,emptyText:void 0,dragSource:{structured:!0},dropZone:{structured:!0},filterParams:{structured:!0},groupingParams:{structured:!0},scrollResetParams:{structured:!0},page:void 0,totalRecordCount:void 0,tabIndex:void 0,columnParams:{structured:!0}},t)}init(){this.recordAlias&&(this.recordName=this.recordAlias),this.indexAlias&&(this.indexName=this.indexAlias),this.infinite&&(this.buffered=!0,this.remoteSort=!0),this.buffered&&(this.scrollable=!0),this.scrollable||(this.fixedFooter=!1),this.recordsAccessor=zl(this.records),this.selection=Xr.create(this.selection,{records:this.records}),(!this.selection.isDummy||this.onRowClick||this.onRowDoubleClick)&&(this.selectable=!0),this.focusable==null&&(this.focusable=!this.selection.isDummy||this.cellEditable),super.init()}initState(e,t){t.state={colWidth:{},lockedColWidth:{},dimensionsVersion:0},t.v=0,this.infinite&&(t.buffer={records:[],totalRecordCount:0,page:1})}createRowTemplate(e,t,i,n){var s=this.row||{};let o=this.columns;if(this.onGetColumns){let m=i.invoke("onGetColumns",t,i);p(m)?o=m:s=m}o&&(s.line1={columns:o}),s.hasSortableColumns=!1,s.hasResizableColumns=!1;let a={},l=[];for(let m=0;m<10;m++){let y=s["line"+m];if(y){if(p(y.columns))for(let E=0;E<y.columns.length;E++)y.columns[E].uniqueColumnId=`l${m}-${y.columns[E].key||E}`;l.push(y)}}s.header=nt.create({items:Ci.create(l)}),s.header.items.forEach(m=>{m.items.forEach(y=>{y.sortable&&(s.hasSortableColumns=!0),(y.resizable||y.header&&y.header.resizable||y.header1&&y.header1.resizable||y.header2&&y.header2.resizable||y.header3&&y.header3.resizable)&&(s.hasResizableColumns=!0),y.aggregate&&(y.aggregateField||g(y.aggregateValue))&&(a[y.aggregateAlias]={value:g(y.aggregateValue)?y.aggregateValue:g(y.value)?y.value:y.aggregateField?{bind:this.recordName+"."+y.aggregateField}:null,weight:y.weight!=null?y.weight:y.weightField&&{bind:this.recordName+"."+y.weightField},type:y.aggregate})})}),!n&&(Object.keys(a).length>0||this.fixedFooter)&&(n=[{key:{},showFooter:!0}]);let{grouping:u,showHeader:c}=this.resolveGrouping(n);return this.showHeader=c,this.fixedFooter&&ir(u)&&(u[0].showFooter=!0,u[0].key&&Object.keys(u[0].key).length>0&&ue.warn("First grouping level in grids with a fixed footer must group all data. The key field should be omitted.")),i.dataAdapter=Ei.create({type:this.dataAdapter&&this.dataAdapter.type||Jl,recordsAccessor:this.recordsAccessor,keyField:this.keyField,aggregates:a,recordName:this.recordName,indexName:this.indexName,sortOptions:this.sortOptions,groupings:u},this.dataAdapter),i.dataAdapter.initInstance(e,i),ce.create(uu,ct({class:this.CSS.element(this.baseClass,"data"),className:this.rowClass,style:this.rowStyle,recordName:this.recordName,hoverId:this.rowHoverId},s))}prepareData(e,t){let{data:i,state:n,cached:s,row:o}=t,a=this.grouping;this.onGetGrouping&&(!s.data||s.data.groupingParams!==i.groupingParams?a=t.invoke("onGetGrouping",i.groupingParams,t):a=s.grouping);let l=t.cache("grouping",a);(t.cache("columnParams",i.columnParams)||l||!o)&&(o=t.row=this.createRowTemplate(e,i.columnParams,t,a)),i.version=++t.v,this.infinite?(at(i.totalRecordCount)?t.buffer.totalRecordCount=i.totalRecordCount:i.totalRecordCount=t.buffer.totalRecordCount,g(i.records)?t.buffer.records=i.records:i.records=t.buffer.records,at(i.page)?t.buffer.page=i.page:i.page=t.buffer.page,i.offset=(i.page-1)*this.pageSize):i.totalRecordCount=p(i.records)?i.records.length:0,p(i.records)||(i.records=[]),n.sorters&&!g(this.sorters)&&(i.sorters=n.sorters);let u=null;if(g(this.sortField)&&g(this.sortDirection)){let z={field:i.sortField,direction:i.sortDirection};u=i.sortField,i.sorters=[z]}if(!ir(i.sorters)&&this.defaultSortField){let z={field:this.defaultSortField,direction:this.defaultSortDirection||"ASC"};u=this.defaultSortField,i.sorters=[z]}if(u)for(let z=1;z<10;z++){let X=t.row[`line${z}`],$=X&&X.columns&&X.columns.find(Z=>Z.field==u);if($){i.sorters[0].value=$.sortValue||$.value,i.sorters[0].comparer=$.comparer,i.sorters[0].sortOptions=$.sortOptions;break}}let c=this.headerMode;this.headerMode==null&&(this.scrollable||o.hasSortableColumns||o.hasResizableColumns?c="default":c="plain");let m=this.border;(this.showBorder||m==null&&this.scrollable)&&(m=!0);let y=!1;i.dragSource&&(y=i.dragSource.mode||"move");let E=i.dropZone&&i.dropZone.mode;if(this.onDrop&&!E&&(E="preview"),i.dropMode=E,i.stateMods={selectable:this.selectable,"cell-editable":this.cellEditable,scrollable:i.scrollable,buffered:this.buffered,["header-"+c]:!0,border:m,vlines:this.vlines,["drag-"+y]:y,["drop-"+E]:E,resizable:o.hasResizableColumns},super.prepareData(e,t),t.records=this.mapRecords(e,t),t.records&&!this.infinite)if(i.totalRecordCount=t.records.length,t.records.length<5){i.empty=!0;for(let z=0;z<t.records.length;z++)if(t.records[z].type=="data"){i.empty=!1;break}}else i.empty=i.totalRecordCount==0;else i.empty=i.totalRecordCount==0;this.onCreateIsRecordSelectable&&(t.isRecordSelectable=t.invoke("onCreateIsRecordSelectable",null,t))}initInstance(e,t){t.fixedHeaderResizeEvent=new N,super.initInstance(e,t)}explore(e,t){e.push("parentPositionChangeEvent",t.fixedHeaderResizeEvent),t.hoverSync=e.hoverSync,super.explore(e,t),t.header=t.getChild(e,t.row.header,"header"),t.header.scheduleExploreIfVisible(e);let{store:i}=t;if(t.isSelected=this.selection.getIsSelectedDelegate(i),!this.buffered&&(!this.cached||t.shouldUpdate))for(let n=0;n<t.records.length;n++){let s=t.records[n];if(s.type=="data"){let o=s.row=t.getChild(e,t.row,s.key,s.store);o.selected=t.isSelected(s.data,s.index);let a=!1;o.cache("selected",o.selected)&&(a=!0),o.cache("recordData",s.data)&&(a=!0),this.cached&&!a&&!o.childStateDirty?o.shouldUpdate=!1:o.scheduleExploreIfVisible(e)}}}exploreCleanup(e,t){e.pop("parentPositionChangeEvent");let i=0,n=[];t.header.children.forEach(s=>{s.children.forEach(o=>{o.data.fixed&&i++,n.push(o.widget)})}),t.visibleColumns=n,t.hasFixedColumns=i>0,t.fixedColumnCount=i,i>0&&(t.data.classNames+=` ${t.widget.CSS.state("fixed-columns")}`)}resolveGrouping(e){if(e){if(!p(e))if(P(e)||M(e))e=[e];else throw new Error("Dynamic grouping should be an array of grouping objects.");e=e.map((i,n)=>{let s;return P(i)?s={key:{[i]:{bind:this.recordName+"."+i}},showHeader:!this.scrollable&&n==e.length-1,showFooter:!0,caption:{bind:`$group.${i}`},text:{bind:`${this.recordName}.${i}`}}:s=ct({},i),s.caption&&(s.caption=Ce(s.caption)),s})}return{showHeader:!p(e)||!e.some(i=>i.showHeader),grouping:e}}groupBy(e,t){let{grouping:i,showHeader:n}=this.resolveGrouping(e);this.grouping=i,(t==null?void 0:t.autoConfigure)&&(this.showHeader=n),this.update()}render(e,t,i){let{data:n,hasFixedColumns:s}=t,o=n.scrollable&&this.showHeader&&this.renderHeader(e,t,"header",!0,!1),a=n.scrollable&&this.showHeader&&s&&this.renderHeader(e,t,"header",!0,!0);this.buffered||this.renderRows(e,t),this.fixedFooter&&this.renderFixedFooter(e,t);let l=this.showHeader&&this.renderHeader(e,t,"header",!1,!1),u=this.showHeader&&s&&this.renderHeader(e,t,"header",!1,!0);return A.createElement(hg,{key:i,instance:t,data:t.data,shouldUpdate:t.shouldUpdate,header:l,fixedColumnsHeader:u,fixedColumnsFixedHeader:a,fixedHeader:o,fixedFooter:t.fixedFooterVDOM,fixedColumnsFixedFooter:t.fixedColumnsFixedFooterVDOM})}renderHeader(e,t,i,n,s){let{data:o,widget:a,header:l}=t,{CSS:u,baseClass:c}=a,m=[];if(!l)return null;let y={};return l.children.forEach((E,z)=>{let X=[!0,!0,!0],$=[[],[],[]];E.children.forEach((Z,ee)=>{let Q=Z.widget;for(let ie=0;ie<3;ie++){let ve=`${z}-${ee}-${ie}`;if(y[ve]||Boolean(Z.data.fixed)!=s)continue;let se=Z.components[`header${ie+1}`],de,xe,ye,Ae,Ct=[],Xe,Sr,ur,Jt=null;if(se){X[ie]=!1,se.widget.align?Ct.push("aligned-"+se.widget.align):Q.align&&Ct.push("aligned-"+Q.align),Q.sortable&&se.widget.allowSorting&&(Ct.push("sortable"),o.sorters&&o.sorters[0].field==(Q.sortField||Q.field)&&(Ct.push("sorted-"+o.sorters[0].direction.toLowerCase()),Sr=A.createElement(Gv,{className:u.element(c,"column-sort-icon")}))),ye=se.data.style;let vt=se.data.width||t.state.colWidth[Q.uniqueColumnId]||se.data.defaultWidth||t.state.lockedColWidth[Q.uniqueColumnId];if(vt){t.state.colWidth[Q.uniqueColumnId]!=vt&&(t.state.colWidth[Q.uniqueColumnId]=vt);let Be=`${vt}px`;ye=qt(ct({},ye),{width:Be,minWidth:Be,maxWidth:Be})}if(se.data.classNames&&(Ae=se.data.classNames),Xe=se.render(e),se.components&&se.components.tool&&(ur=A.createElement("div",{className:u.element(c,"col-header-tool")},ft(se.components.tool.render(e))),Ct.push("tool")),se.data.colSpan>1||se.data.rowSpan>1){de=se.data.colSpan,xe=se.data.rowSpan;for(let Be=0;Be<se.data.rowSpan;Be++)for(let tt=0;tt<se.data.colSpan;tt++)y[`${z}-${ee+tt}-${ie+Be}`]=!0}(Q.resizable||se.data.resizable)&&se.data.colSpan<2&&(Jt=A.createElement("div",{className:u.element(c,"col-resizer"),onClick:Be=>{Be.stopPropagation()},onMouseDown:Be=>{if(Be.buttons!=1)return;let tt=document.createElement("div"),xi=Be.target.parentElement,xr=xi.parentElement.parentElement.parentElement.parentElement.parentElement,zn=xi.offsetWidth,Kn=Gt(Be);tt.className=u.element(c,"resize-overlay"),tt.style.width=`${zn}px`,tt.style.left=`${xi.getBoundingClientRect().left-xr.getBoundingClientRect().left}px`,xr.appendChild(tt),Qs(Be,{onMouseMove:Qt=>{let gt=Gt(Qt),xt=Math.max(30,Math.round(zn+gt.clientX-Kn.clientX));tt.style.width=`${xt}px`},onMouseUp:Qt=>{if(!tt)return;let gt=tt.offsetWidth;Z.assignedWidth=gt,xr.removeChild(tt),tt=null,a.onColumnResize&&t.invoke("onColumnResize",{width:gt,column:Q},Z),se.set("width",gt),t.setState({dimensionsVersion:t.state.dimensionsVersion+1,colWidth:qt(ct({},t.state.colWidth),{[Q.uniqueColumnId]:gt})})},onDblClick:()=>{let Qt=xr.querySelector("table"),gt=Qt.parentElement,xt=Qt.cloneNode(!0);xt.childNodes.forEach(Ay=>{Ay.childNodes.forEach(My=>{My.childNodes.forEach((Gn,Ly)=>{Ly==ee?(Gn.style.maxWidth=null,Gn.style.minWidth=null,Gn.style.width="auto"):Gn.style.display="none"})})}),xt.style.position="absolute",xt.style.visibility="hidden",xt.style.top=0,xt.style.left=0,xt.style.width="auto",gt.appendChild(xt);let Fu=xt.offsetWidth;gt.removeChild(xt),se.set("width",Fu),t.setState({dimensionsVersion:t.state.dimensionsVersion+1,colWidth:qt(ct({},t.state.colWidth),{[Q.uniqueColumnId]:Fu})})}})}}))}Ae=u.element(c,"col-header",Ct)+(Ae?" "+Ae:"");let Wn;this.onColumnContextMenu&&(Wn=vt=>t.invoke("onColumnContextMenu",vt,Z)),$[ie].push(A.createElement("th",{key:ee,colSpan:de,rowSpan:xe,className:Ae,style:ye,onMouseDown:Rn,onMouseMove:vt=>this.onHeaderMouseMove(vt,Q,Z,t,ie),onClick:vt=>this.onHeaderClick(vt,Q,t,ie),onContextMenu:Wn,"data-unique-col-id":Q.uniqueColumnId},ft(Xe),Sr,ur,Jt))}}),$=$.filter((Z,ee)=>!X[ee]),$[0]&&(n&&!s&&$[0].push(A.createElement("th",{key:"dummy",rowSpan:$.length,className:u.element(c,"col-header")})),m.push(A.createElement("tbody",{key:"h"+i+z,className:u.element(c,"header")},$.map((Z,ee)=>A.createElement("tr",{key:ee},Z)))))}),m.length==0?null:m}onHeaderMouseMove(e,t,i,n,s){let{baseClass:o,CSS:a}=n.widget;if(i.data.fixed)return;let l=i.components[`header${s+1}`];if(!l)return;let{store:u,data:c}=l;c.draggable&&!c.fixed&&Mn(e)&&e.buttons==1&&nu(e,{sourceEl:e.currentTarget,source:{type:"grid-column",store:u,column:t,columnInstance:i,headerInstance:l,gridInstance:n,headerLine:s},clone:{store:u,matchCursorOffset:!0,matchWidth:!0,widget:()=>A.createElement("div",{className:a.element(o,"col-header-drag-clone")},c.text)}},()=>{})}onHeaderClick(e,t,i,n){e.preventDefault(),e.stopPropagation();let{data:s}=i,o=t.components[`header${n+1}`],a=t.sortField||t.field,l=t.sortValue||t.value,u=t.compare,c=t.sortOptions;if(o&&o.allowSorting&&t.sortable&&(a||l)){let m="ASC";s.sorters&&(s.sorters[0].field==(a||s.sortField)||s.sorters[0].value==l)&&(s.sorters[0].direction=="ASC"?m="DESC":this.clearableSort&&s.sorters[0].direction=="DESC"&&(m=null));let y=m?[{field:a,direction:m,value:l,compare:u,sortOptions:c}]:null;i.set("sorters",y),i.set("sortField",a),i.set("sortDirection",m),(!this.remoteSort||this.infinite)&&i.setState({sorters:y})}}renderGroupHeader(e,t,i,n,s,o,a,l){let{CSS:u,baseClass:c}=this,m=a.getData();if(i.caption){let y=i.caption(m);return A.createElement("tbody",{key:`g-${n}-${s.$key}`,className:u.element(c,"group-caption",["level-"+n]),"data-group-key":s.$key,"data-group-element":`group-caption-${n}`},A.createElement("tr",null,A.createElement("td",{colSpan:1e3},y)))}else if(i.showCaption){let y=0,{header:E}=t,z=[];return E.children.forEach((X,$)=>{let Z=!0,ee=X.children.map((Q,ie)=>{if(--y>=0||Boolean(Q.data.fixed)!=l)return null;let ve,se=Q.widget,de,xe;if(se.caption){if(se.caption.children?ve=A.createElement(ri,{widget:se.caption.children,store:a,parentInstance:t,subscribe:!0}):ve=se.caption.value(m),xe=se.caption.pad,de=se.caption.colSpan,Z=!1,se.caption.expand){de=1;for(let Ae=ie+1;Ae<X.children.length&&!X.children[Ae].widget.caption&&!X.children[Ae].widget.aggregate;Ae++)de++}de>1&&(y=de-1)}else se.aggregate&&se.aggregateField&&se.caption!==!1&&(Z=!1,ve=s[se.aggregateField],P(Q.data.format)&&(ve=Mi.value(ve,Q.data.format)));let ye="";return se.align&&(ye+=u.state("aligned-"+se.align)),xe!==!1&&(ye+=(ye?" ":"")+u.state("pad")),A.createElement("td",{key:ie,className:ye,colSpan:de},ve)});Z||z.push(A.createElement("tr",{key:$},ee))}),z.length==0?null:A.createElement("tbody",{key:"c"+s.$key,className:u.element(c,"group-caption",["level-"+n]),"data-group-key":s.$key,"data-group-element":`group-caption-${n}`},z)}}renderGroupFooter(e,t,i,n,s,o,a,l,u){let{CSS:c,baseClass:m}=this,y=a.getData(),E=0,{header:z,dataAdapter:X}=t,$={};this.fixedFooter&&!l&&p(X.groupings)&&n==X.groupings.length&&($.visibility="hidden");let Z=[];return z.children.forEach((ee,Q)=>{let ie=!0,ve=ee.children.map((se,de)=>{if(--E>=0||Boolean(se.data.fixed)!=u)return null;let xe,ye=se.widget,Ae,Ct,Xe="",Sr=null;if(ye.footer){xe=ye.footer.value(y);let ur=ye.footer.format(y);if(ur&&(xe=Mi.value(xe,ur)),Ct=ye.footer.pad,Ae=ye.footer.colSpan,ie=!1,Xe=c.expand(ye.footer.class(y))||"",Sr=oe(ye.footer.style(y)),ye.footer.expand){Ae=1;for(let Jt=de+1;Jt<ee.children.length&&!ee.children[Jt].widget.footer&&!ee.children[Jt].widget.aggregate;Jt++)Ae++}Ae>1&&(E=Ae-1)}else ye.aggregate&&ye.aggregateField&&ye.footer!==!1&&(ie=!1,xe=s[ye.aggregateField],P(se.data.format)&&(xe=Mi.value(xe,se.data.format)));return Xe&&(Xe+=" "),ye.align&&(Xe+=c.state("aligned-"+ye.align)),Ct!==!1&&(Xe+=(Xe?" ":"")+c.state("pad")),A.createElement("td",{key:de,className:Xe,colSpan:Ae,style:Sr},xe)});ie||(l&&!u&&ve.push(A.createElement("td",{key:"dummy",className:c.element(m,"fixed-footer-corner")})),Z.push(A.createElement("tr",{key:Q},ve)))}),Z.length==0?null:A.createElement("tbody",{key:"f"+o,style:$,className:c.element(m,"group-footer",["level-"+n]),"data-group-key":s.$key,"data-group-element":`group-footer-${n}`},Z)}renderRows(e,t){let{records:i,hasFixedColumns:n}=t;if(!p(i))return null;let s,o;for(let a=0;a<i.length;a++)s=i[a],s.type=="data"&&(s.vdom=s.row.render(e,s.key)),s.type=="group-header"&&(s.vdom=[],s.fixedVdom=[],o=s.grouping,(o.caption||o.showCaption)&&s.vdom.push(this.renderGroupHeader(e,t,o,s.level,s.group,s.key+"-caption",s.store,!1)),n&&s.fixedVdom.push(this.renderGroupHeader(e,t,o,s.level,s.group,s.key+"-caption",s.store,!0)),o.showHeader&&(s.vdom.push(this.renderHeader(e,t,s.key+"-header",!1,!1)),n&&s.fixedVdom.push(this.renderHeader(e,t,s.key+"-header",!1,!0)))),s.type=="group-footer"&&(o=s.grouping,o.showFooter&&(s.vdom=this.renderGroupFooter(e,t,o,s.level,s.group,s.key+"-footer",s.store,!1,!1),n&&(s.fixedVdom=this.renderGroupFooter(e,t,o,s.level,s.group,s.key+"-footer",s.store,!1,!0))))}renderFixedFooter(e,t){let{records:i,hasFixedColumns:n,data:s}=t;if(t.fixedFooterVDOM=null,t.fixedColumnsFixedFooterVDOM=null,s.empty||!ir(i))return;let o=i[i.length-1];t.fixedFooterOverlap=o.type=="group-footer",t.fixedFooterVDOM=this.renderGroupFooter(e,t,o.grouping,o.level,o.group||{$key:"fixed-footer"},o.key+"-footer",o.store,!0,!1),n&&(t.fixedColumnsFixedFooterVDOM=this.renderGroupFooter(e,t,o.grouping,o.level,o.group||{$key:"fixed-footer"},o.key+"-footer",o.store,!0,!0))}mapRecords(e,t){let{data:i,store:n,dataAdapter:s}=t,o=null;this.onCreateFilter&&(o=t.invoke("onCreateFilter",i.filterParams,t));let a=!this.remoteSort&&i.sorters;return ir(i.sorters)&&ir(i.preSorters)&&(a=[...i.preSorters,...i.sorters]),s.setFilter(o),s.sort(a),this.buffered&&!this.fixedFooter&&!o&&!ir(a)&&!s.isTreeAdapter&&!t.dataAdapter.groupings?null:s.getRecords(e,t,i.records,n)}mapRecord(e,t,i,n){return t.dataAdapter.mapRecord(e,t,i,t.store,this.recordsAccessor,n)}}Oe.prototype.baseClass="grid",Oe.prototype.showHeader=!0,Oe.prototype.showFooter=!1,Oe.prototype.recordName="$record",Oe.prototype.indexName="$index",Oe.prototype.remoteSort=!1,Oe.prototype.lockColumnWidths=!1,Oe.prototype.lockColumnWidthsRequiredRowCount=3,Oe.prototype.focused=!1,Oe.prototype.emptyText=!1,Oe.prototype.showBorder=!1,Oe.prototype.cached=!1,Oe.prototype.buffered=!1,Oe.prototype.bufferStep=15,Oe.prototype.bufferSize=60,Oe.prototype.pageSize=100,Oe.prototype.infinite=!1,Oe.prototype.styled=!0,Oe.prototype.scrollSelectionIntoView=!1,Oe.prototype.clearableSort=!1,Oe.prototype.cellEditable=!1,Oe.prototype.preciseMeasurements=!1,Oe.prototype.hoverChannel="default",Oe.prototype.focusable=null,Oe.prototype.allowsFileDrops=!1,ce.alias("grid",Oe),mr.registerPrototype("cx/widgets/Grid",Oe);class hg extends A.Component{constructor(e){super(e);this.dom={};let{widget:t}=e.instance,i=Math.min(t.bufferSize,e.data.totalRecordCount);this.state={cursor:t.focused&&t.selectable?0:-1,cursorCellIndex:0,focused:t.focused,dropInsertionIndex:null,start:0,end:i},this.syncBuffering=!1,t.infinite&&(this.start=0,this.end=i,this.loadingStartPage=0,this.loadingEndPage=0),this.scrollerRef=n=>{this.dom.scroller=n},this.fixedScrollerRef=n=>{this.dom.fixedScroller=n},this.gridRef=n=>{this.dom.el=n}}getBufferStartEnd(){return this.syncBuffering?this:this.state}renderCellEditor(e,t,i,n,s){return A.createElement("td",{key:e,className:t.element(i,"cell-editor")},A.createElement(ri,{parentInstance:n,subscribe:!0,items:[{$type:cu,className:t.element(i,"cell-editor-wrap"),style:this.rowHeight>0?{height:this.rowHeight+1}:null,jsxAttributes:["className","style"],children:[{$type:Fn,valid:{get:()=>this.cellEditorValid,set:o=>{this.cellEditorValid=o}},jsxAttributes:["valid"],children:[s.editor]}]}]}))}createRowRenderer(e){let{instance:t,data:i}=this.props,{widget:n,isRecordSelectable:s,visibleColumns:o}=t,{CSS:a,baseClass:l}=n,{dragSource:u}=i,{dragged:c,cursor:m,cursorCellIndex:y,cellEdit:E,dropInsertionIndex:z,dropTarget:X}=this.state,{colWidth:$,dimensionsVersion:Z}=t.state;return(ee,Q,ie,ve)=>{let{store:se,key:de,row:xe}=ee,ye=c&&(xe.selected||ee==c),Ae={selected:xe.selected,dragged:ye,draggable:u&&(!xe.dragHandles||xe.dragHandles.length==0),cursor:n.selectable&&Q==m,over:X=="row"&&z===Q};if(s){let Xe=s(ee.data,{});Ae.selectable=Xe,Ae["non-selectable"]=!Xe}let Ct=Xe=>A.createElement(ng,{key:de,className:a.state(Ae),store:se,dragSource:u,instance:xe,grid:t,record:ee,parent:this,cursorIndex:Q,selected:xe.selected,isBeingDragged:c,isDraggedOver:Ae.over,cursor:Ae.cursor,cursorCellIndex:Q==m&&y,cellEdit:Q==m&&y&&E,shouldUpdate:xe.shouldUpdate,dimensionsVersion:Z,fixed:ve},Xe.content.map(({key:Sr,data:ur,content:Jt},Wn)=>A.createElement("tr",{key:Sr,className:ur.classNames,style:ur.style},Jt.map(({key:vt,data:Be,content:tt,uniqueColumnId:xi},Lu)=>{if(Boolean(Be.fixed)!==ve)return null;let xr=Q==m&&Lu==y&&n.cellEditable&&Wn==0,zn=xr?a.expand(Be.classNames,a.state("cellected")):Be.classNames;if(xr&&E){let gt=o[y];if(gt&&gt.editor&&Be.editable)return this.renderCellEditor(vt,a,l,xe,gt)}let Kn=$[xi],Qt=Be.style;return Kn&&(Qt=qt(ct({},Qt),{maxWidth:`${Kn}px`})),e&&(tt=e(tt)),A.createElement("td",{key:vt,className:zn,style:Qt,colSpan:Be.colSpan,rowSpan:Be.rowSpan},tt)}))));return ie?A.createElement(ri,{key:de,instance:ee.row,parentInstance:t,options:{name:"grid-row"},contentFactory:Xe=>Ct({content:Array.isArray(Xe.children)?Xe.children:Xe.children!=null?[Xe.children]:[],data:{}}),params:qt(ct({},Ae),{dimensionsVersion:Z,cursorIndex:Q,data:ee.data,cursorCellIndex:Q==m&&y,cellEdit:Q==m&&y&&E})}):Ct(ee.vdom)}}render(){let{instance:e,data:t,fixedFooter:i,fixedColumnsFixedFooter:n}=this.props,{widget:s,hasFixedColumns:o}=e,{CSS:a,baseClass:l}=s,{start:u,end:c}=this.getBufferStartEnd(),m=!1;s.cellEditable&&(s.hasResizableColumns||o)&&(m=Q=>A.createElement("div",{className:"cxe-grid-cell-clip"},Q));let y=[],E=[],z=this.createRowRenderer(m),X=(Q,ie,ve)=>{y.push(z(Q,ie,ve,!1)),o&&E.push(z(Q,ie,ve,!0)),Q.row.shouldUpdate=!1};if(s.buffered){let Q=new _o,ie=a.element(l,"data",{dummy:!0});e.recordInstanceCache||(e.recordInstanceCache=new Oo(e)),e.recordInstanceCache.mark(),this.getRecordsSlice(u,c).forEach((ve,se)=>{if(ve==null)X({key:"dummy-"+u+se,row:{data:{classNames:ie},widget:e.row},vdom:{content:[{key:0,data:{},content:[{key:0,data:{colSpan:1e3,style:{height:`${this.rowHeight}px`}}}]}]}},u+se);else{let de=e.records?ve:s.mapRecord(Q,e,ve,s.infinite?u+se-t.offset:u+se),xe=de.row=e.recordInstanceCache.getChild(e.row,de.store,de.key);if(e.recordInstanceCache.addChild(xe),xe.detached=!0,xe.selected=e.isSelected(de.data,de.index),de.type=="data")X(de,u+se,!0);else if(de.type=="group-header"){let ye=de.grouping;(ye.caption||ye.showCaption)&&(y.push(s.renderGroupHeader(null,e,ye,de.level,de.group,de.key+"-caption",de.store,!1)),o&&E.push(s.renderGroupHeader(null,e,ye,de.level,de.group,de.key+"-caption",de.store,!0)))}else if(de.type=="group-footer"){let ye=de.grouping;ye.showFooter&&(!s.fixedFooter||u+se!=e.records.length-1)&&(y.push(s.renderGroupFooter(null,e,ye,de.level,de.group,de.key+"-footer",de.store,!1,!1)),o&&E.push(s.renderGroupFooter(null,e,ye,de.level,de.group,de.key+"-footer",de.store,!1,!0)))}}}),e.recordInstanceCache.sweep()}else e.records.forEach((Q,ie)=>{Q.type=="data"?X(Q,ie):(y.push(Q.vdom),o&&E.push(Q.fixedVdom))});if(this.state.dropTarget=="grid"&&this.state.dropInsertionIndex!=null){let Q=A.createElement("tbody",{key:"dropzone"},A.createElement("tr",null,A.createElement("td",{className:a.element(l,"dropzone"),colSpan:1e3,style:{height:t.dropMode=="insertion"?0:this.state.dropItemHeight}})));y.splice(this.state.dropInsertionIndex,0,Q)}let $=[],Z=[];t.emptyText&&t.empty&&(y=[A.createElement("tbody",{key:"empty",className:a.element(l,"empty-text")},A.createElement("tr",null,A.createElement("td",{colSpan:1e3},t.emptyText)))]),o&&Z.push(A.createElement("div",{key:"fixedscroller",ref:this.fixedScrollerRef,className:a.element(l,"fixed-scroll-area",{"fixed-header":!!this.props.header})},A.createElement("div",{className:a.element(l,"fixed-table-wrapper")},A.createElement("table",{ref:Q=>{this.dom.fixedTable=Q}},this.props.fixedColumnsHeader,E)))),$.push(A.createElement("div",{key:"scroller",ref:this.scrollerRef,onScroll:this.onScroll.bind(this),className:a.element(l,"scroll-area",{"fixed-header":!!this.props.header})},A.createElement("div",{className:a.element(l,"table-wrapper")},A.createElement("table",{ref:Q=>{this.dom.table=Q}},this.props.header,y)))),this.props.fixedHeader&&$.push(A.createElement("div",{key:"fh",ref:Q=>{this.dom.fixedHeader=Q},className:a.element(l,"fixed-header"),style:{display:this.scrollWidth>0?"block":"none"}},A.createElement("table",null,this.props.fixedHeader))),this.props.fixedColumnsFixedHeader&&Z.push(A.createElement("div",{key:"fcfh",ref:Q=>{this.dom.fixedColumnsFixedHeader=Q},className:a.element(l,"fixed-fixed-header"),style:{display:this.scrollWidth>0?"block":"none"}},A.createElement("table",null,this.props.fixedColumnsFixedHeader))),(i||n)&&($.push(A.createElement("div",{key:"ff",ref:Q=>{this.dom.fixedFooter=Q},className:a.element(l,"fixed-footer"),style:{display:this.scrollWidth>0?"block":"none"}},A.createElement("table",null,i))),o&&Z.push(A.createElement("div",{key:"fcff",ref:Q=>{this.dom.fixedColumnsFixedFooter=Q},className:a.element(l,"fixed-fixed-footer"),style:{display:this.scrollWidth>0?"block":"none"}},A.createElement("table",null,n))));let ee=null;return this.state.dropTarget=="column"&&(ee=A.createElement("div",{className:a.element(l,"col-insertion-marker"),style:{left:this.state.colDropInsertionLeft}})),A.createElement("div",{className:t.classNames,style:qt(ct({},t.style),{counterReset:`cx-row-number ${u}`}),tabIndex:s.focusable?t.tabIndex||0:null,ref:this.gridRef,onKeyDown:this.handleKeyDown.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onDragEnter:this.onFileDragEnter.bind(this),onDragOver:this.onFileDragOver.bind(this),onDragLeave:this.onFileDragLeave.bind(this),onDrop:this.onFileDrop.bind(this)},Z,$,ee)}getRecordsSlice(e,t){let{data:i,instance:n}=this.props,{widget:s}=n;if(!s.infinite)return(n.records||i.records).slice(e,t);let{offset:o,records:a}=i,l=[];for(let u=e;u<Math.min(t,i.totalRecordCount);u++)u>=o&&u<o+a.length?l.push(a[u-o]):l.push(null);return l}ensureData(e,t){if(this.loading)return;let{instance:i}=this.props,{widget:n}=i,{pageSize:s}=n,o=Math.trunc(e/s)+1,a=Math.trunc((t-1)/s)+1;this.loadPageRange||(this.loadPageRange=sg((l,u)=>{let{data:c}=this.props,{records:m,offset:y}=c,E=[];for(let z=l;z<=u;z++){let X=(z-1)*s,$=X+s;if(X>=y&&$<=y+m.length)E.push(Promise.resolve(m.slice(X-y,$-y)));else{let Z=i.invoke("onFetchRecords",{page:z,pageSize:s,sorters:c.sorters,sortField:c.sortField,sortDirection:c.sortDirection,filterParams:c.filterParams,state:this.prevFetchRecordsState},i);E.push(Promise.resolve(Z))}}this.loading=!0,Promise.all(E).then(z=>{this.loading=!1;let X=[],$,Z;z.forEach(ie=>{if(Array.isArray(ie))X.push(...ie);else{if(!Array.isArray(ie.records))throw new Error("onFetchRecords should return an array of records or an object with results inside records property.");$=ie.totalRecordCount,Z=ie.lastPage,this.prevFetchRecordsState=ie.state,X.push(...ie.records)}});let{data:ee}=this.props;at($)||($=(l-1)*s+X.length,!Z&&X.length==(u-l+1)*s&&$++,ee.totalRecordCount>$&&($=ee.totalRecordCount)),i.buffer.totalRecordCount=ee.totalRecordCount=$,i.buffer.records=ee.records=X,i.buffer.page=ee.page=l,ee.offset=(l-1)*s,i.store.silently(()=>{i.set("records",X),i.set("page",l),i.set("totalRecordCount",$)});let Q={startPage:l,endPage:u};this.state.end==0&&(Q.end=Math.min(n.bufferSize,$)),this.setState(Q,()=>{this.loadingStartPage=l,this.loadingEndPage=u,this.onScroll()})}).catch(z=>{this.loading=!1,n.onLoadingError&&i.invoke(z,"onLoadingError",i)})},30)),(o<this.loadingStartPage||a>this.loadingEndPage)&&(this.loadingStartPage=o,this.loadingEndPage=a,this.loadPageRange(o,a))}onScroll(){if(!this.dom.scroller)return;this.dom.fixedHeader&&(this.dom.fixedHeader.scrollLeft=this.dom.scroller.scrollLeft),this.dom.fixedFooter&&(this.dom.fixedFooter.scrollLeft=this.dom.scroller.scrollLeft),this.dom.fixedScroller&&(this.dom.fixedScroller.scrollTop=this.dom.scroller.scrollTop);let{instance:e,data:t}=this.props,{widget:i}=e;if(i.buffered&&!this.pending){let n=0;i.measureRowHeights&&e.records?n=Math.max(0,this.estimateStart(e.records,this.dom.scroller.scrollTop)-i.bufferStep):this.rowHeight>0&&(n=Math.round(this.dom.scroller.scrollTop/this.rowHeight-i.bufferStep)),n=Math.round(n/i.bufferStep)*i.bufferStep,n=Math.max(0,Math.min(n,t.totalRecordCount-i.bufferSize));let s=Math.min(t.totalRecordCount,n+i.bufferSize);i.infinite&&this.ensureData(n,s),this.syncBuffering?(this.start=n,this.end=s):this.state.end!=s&&(this.pending=!0,this.setState({start:n,end:s},()=>{this.pending=!1}))}}onFixedColumnsWheel(e){this.dom.scroller.scrollTop+=e.deltaY,e.preventDefault()}shouldComponentUpdate(e,t){return e.shouldUpdate!==!1||t!==this.state}componentDidMount(){this.componentDidUpdate();let{instance:e}=this.props,{widget:t}=e;t.scrollable&&(this.offResize=Pn.trackElement(this.dom.scroller,()=>{this.componentDidUpdate(),e.setState({dimensionsVersion:e.state.dimensionsVersion+1,lockedColWidth:{}})})),t.pipeKeyDown&&e.invoke("pipeKeyDown",this.handleKeyDown.bind(this),e),this.unregisterDropZone=tg(this),t.infinite&&this.ensureData(0,0),this.dom.fixedScroller&&(this.onFixedColumnsWheel=this.onFixedColumnsWheel.bind(this),this.dom.fixedScroller.addEventListener("wheel",this.onFixedColumnsWheel,{passive:!1}))}onDragStart(e){let{instance:t}=this.props,{widget:i}=t;i.onDragStart&&t.invoke("onDragStart",e,t)}onDrop(e){let{instance:t}=this.props,{widget:i}=t,{start:n}=this.getBufferStartEnd(),{dropInsertionIndex:s,dropTarget:o}=this.state;o=="grid"&&i.onDrop&&s!=null?(e.target={insertionIndex:n+s,recordBefore:this.getRecordAt(n+s-1),recordAfter:this.getRecordAt(n+s)},t.invoke("onDrop",e,t)):o=="row"?(e.target={index:n+s,record:this.getRecordAt(n+s)},t.invoke("onRowDrop",e,t)):o=="column"&&i.onColumnDrop&&(e.target={index:this.state.colDropInsertionIndex,grid:i,instance:t},t.invoke("onColumnDrop",e,t))}onDropTest(e){let{instance:t}=this.props,{widget:i}=t,n=i.onDropTest&&t.invoke("onDropTest",e,t),s=i.onRowDropTest&&t.invoke("onRowDropTest",e,t),o=i.onColumnDropTest&&t.invoke("onColumnDropTest",e,t);return(n||s||o)&&{grid:n,row:s,column:o}}onDragEnd(e){this.setState({dropTarget:null,dropInsertionIndex:null,colDropInsertionIndex:null,colDropInsertionLeft:null});let{instance:t}=this.props,{widget:i}=t;i.onDragEnd&&t.invoke("onDragEnd",e,t)}onDragMeasure(e,{test:{grid:t,row:i,column:n}}){let s=Er(n?this.dom.el:this.dom.scroller),{clientX:o,clientY:a}=e.cursor;return o<s.left||o>=s.right||a<s.top||a>=s.bottom?!1:{over:1e3}}onColumnDragOver(e){let t=this.dom.table.firstChild,i=[],n,s={};for(let l=0;l<t.children.length;l++){let u=t.children[l].children;for(let c=0;c<u.length;c++){n=u[c].getBoundingClientRect();let m=n.left.toFixed(0);s[m]||(i.push(n.left),s[m]=!0)}l==0&&i.push(n.right)}i.sort((l,u)=>l-u);let o=0;for(;o+1<i.length&&e.cursor.clientX>i[o+1];)o++;let{fixedColumnCount:a}=this.props.instance;this.setState({colDropInsertionIndex:a+o,colDropInsertionLeft:i[o]-i[0]-this.dom.scroller.scrollLeft+this.dom.scroller.offsetLeft,dropTarget:"column"})}onDragOver(e,{test:{grid:t,row:i,column:n}}){if(n&&this.onColumnDragOver(e),!t&&!i)return;let{instance:s}=this.props,{widget:o,data:a}=s,{CSS:l,baseClass:u}=o,c=l.element(u,"data"),m=Array.from(this.dom.table.children).filter(ve=>ve.className&&ve.className.indexOf(c)!=-1),{start:y}=this.getBufferStartEnd(),E=0,z=m.length,X,$,Z=Tn(this.dom.scroller),ee=e.cursor.clientY-Z.top,Q=null;for(;E<z;){if(X=Math.floor((E+z)/2),$=m[X].getBoundingClientRect(),$.top==0&&$.bottom==0){for(;X>E&&$.top==0&&$.bottom==0;)X--,$=m[X].getBoundingClientRect();for(;X+1<z&&$.top==0&&$.bottom==0;)X=X+1,$=m[X].getBoundingClientRect();if($.top==0&&$.bottom==0){E=z=X;break}}if(ee<$.top)z=X;else if(ee>$.bottom)E=X+1;else{if(i){let ve=!t;if(!ve){let se=($.bottom-$.top)/4;ve=ee>$.top+se&&ee<$.bottom-se}if(ve){Q=X;break}}ee>($.bottom+$.top)/2?E=z=X+1:E=z=X}}let ie=!1;if(Q!=null){let ve=qt(ct({},e),{target:{record:this.getRecordAt(Q),index:y+Q}});o.onRowDragOver&&s.invoke("onRowDragOver",ve,s)===!1?ie=!0:(Q!=this.state.dropInsertionIndex||this.state.dropTarget!="row")&&this.setState({dropInsertionIndex:Q,dropItemHeight:e.source.height-1,dropTarget:"row"})}else if(t){let ve=qt(ct({},e),{target:{recordBefore:this.getRecordAt(E-1),recordAfter:this.getRecordAt(E),insertionIndex:y+E,totalRecordCount:a.totalRecordCount}});o.onDragOver&&s.invoke("onDragOver",ve,s)===!1?ie=!0:(E!=this.state.dropInsertionIndex||this.state.dropTarget!="grid")&&this.setState({dropInsertionIndex:E,dropItemHeight:e.source.height-1,dropTarget:"grid"})}ie&&this.setState({dropInsertionIndex:null,dropTarget:null})}onDragLeave(e){this.setState({dropInsertionIndex:null,dropTarget:null})}onGetHScrollParent(){let{widget:e}=this.props.instance;return e.scrollable?this.dom.scroller:Dn(this.dom.table,!0)}onGetVScrollParent({test:{grid:e,row:t,column:i}}){if(i&&!e&&!t)return null;let{widget:n}=this.props.instance;return n.scrollable?this.dom.scroller:Dn(this.dom.table)}UNSAFE_componentWillReceiveProps(e){let{data:t,widget:i}=e.instance;this.state.cursor>=t.totalRecordCount?this.setState({cursor:t.totalRecordCount-1}):i.selectable&&this.state.focused&&this.state.cursor<0&&this.setState({cursor:0})}componentWillUnmount(){let{instance:e}=this.props,{widget:t}=e;this.offResize&&this.offResize(),Us(this),this.unregisterDropZone&&this.unregisterDropZone(),t.pipeKeyDown&&e.invoke("pipeKeyDown",null,e),this.dom.fixedScroller&&this.dom.fixedScroller.removeEventListener("wheel",this.onFixedColumnsWheel)}estimateHeight(e,t,i,n){let s=this.heightStats.estimate("data"),o=0;for(let a=t;a<i;a++){let l=e[a];switch(l.type){case"data":l.key in this.rowHeights?o+=this.rowHeights[l.key]:o+=s;break;case"group-header":if(l.grouping.showCaption){let u="group-caption-"+l.level;`${u}-${l.group.$key}`in this.rowHeights?o+=this.rowHeights[`${u}-${l.group.$key}`]:o+=this.heightStats.estimate(u)||s}break;case"group-footer":if(l.grouping.showFooter){let u="group-footer-"+l.level;`${u}-${l.group.$key}`in this.rowHeights?o+=this.rowHeights[`${u}-${l.group.$key}`]:o+=this.heightStats.estimate(u)||s}break;default:ue.warn("UNPROCESSED RECORD TYPE",l);break}if(n&&n(a,o)===!1)break}return o}estimateStart(e,t){let i=0;return t==0?0:(this.estimateHeight(e,0,e.length,(n,s)=>(i=n,s<t)),i)}componentDidUpdate(){let{instance:e,data:t}=this.props,{widget:i,fixedFooterOverlap:n}=e;if(i.lockColumnWidths&&p(t.records)&&t.records.length>=i.lockColumnWidthsRequiredRowCount){let s=this.dom.table.firstChild;for(let o=0;o<s.children.length;o++){let a=s.children[o];for(let l=0;l<a.children.length;l++){let u=a.children[l];u.style.width=u.style.minWidth=u.style.maxWidth=`${a.children[l].offsetWidth}px`,u.style.boxSizing="border-box",u.dataset.uniqueColId&&(e.state.lockedColWidth[u.dataset.uniqueColId]=a.children[l].offsetWidth)}}}if(i.scrollable){this.scrollWidth=this.dom.scroller.offsetWidth-this.dom.scroller.clientWidth;let s=!1,o=0,a=0,l=0;if(this.dom.fixedTable&&pg(this.dom.table.firstChild,this.dom.fixedTable.firstChild),this.dom.fixedHeader){let m=this.dom.fixedHeader.firstChild.firstChild;s=i.preciseMeasurements?fg(this.dom.table.firstChild,m):Hn(this.dom.table.firstChild,m);let y=m.firstChild.lastChild;y&&(y.style.minWidth=y.style.maxWidth=this.scrollWidth+"px"),this.dom.fixedHeader.style.display="block",o=this.dom.fixedHeader.offsetHeight,this.dom.scroller.style.marginTop=`${o}px`,this.dom.fixedScroller&&(this.dom.fixedScroller.style.marginTop=`${o}px`)}else this.dom.scroller.style.marginTop=0,this.dom.fixedScroller&&(this.dom.fixedScroller.style.marginTop=0);if(this.dom.fixedColumnsFixedHeader){let m=`${this.dom.fixedScroller.offsetWidth}px`;this.dom.fixedColumnsFixedHeader.style.right="auto",this.dom.fixedColumnsFixedHeader.style.width=m,this.dom.fixedHeader&&(this.dom.fixedHeader.style.left=m),this.dom.fixedColumnsFixedHeader.style.display="block";let y=this.dom.fixedColumnsFixedHeader.firstChild.firstChild;this.dom.fixedTable.firstChild&&(s=Hn(this.dom.fixedTable.firstChild,y))}if(this.dom.fixedFooter||this.dom.fixedColumnsFixedFooter){if(this.dom.fixedColumnsFixedFooter){let m=`${this.dom.fixedScroller.offsetWidth}px`;this.dom.fixedColumnsFixedFooter.style.right="auto",this.dom.fixedColumnsFixedFooter.style.width=m;let y=this.dom.fixedColumnsFixedFooter.firstChild.firstChild;if(y){let E=this.dom.fixedTable.lastChild;Hn(E,y,n),this.dom.fixedColumnsFixedFooter.style.display="block",a=this.dom.fixedFooter.offsetHeight}}if(this.dom.fixedFooter){let m=this.dom.fixedFooter.firstChild.firstChild;if(m){let y=this.dom.table.lastChild;Hn(y,m,n);let E=m.firstChild.lastChild;E&&(E.style.minWidth=E.style.maxWidth=this.scrollWidth+"px"),this.dom.fixedFooter.style.display="block",a=this.dom.fixedFooter.offsetHeight}this.dom.fixedScroller&&(this.dom.fixedFooter.style.left=`${this.dom.fixedScroller.offsetWidth}px`)}this.dom.scroller.style.marginBottom=`${a}px`,this.dom.fixedScroller&&(this.dom.fixedScroller.style.marginBottom=`${a}px`),(!ir(e.dataAdapter.groupings)||i.buffered)&&(a=0)}else this.dom.scroller.style.marginBottom=0,this.dom.fixedScroller&&(this.dom.fixedScroller.style.marginBottom=0);let u=n?a:0;if(i.buffered){let{start:m,end:y}=this.getBufferStartEnd(),E=0,z=Math.min(t.totalRecordCount,y-m);if(i.measureRowHeights){this.rowHeights||(this.rowHeights={}),this.heightStats||(this.heightStats=new mg);for(let Z=0;Z<this.dom.table.children.length;Z++){let ee=this.dom.table.children[Z];if(ee.dataset.recordKey!=null)ee.dataset.recordKey in this.rowHeights||this.heightStats.add("data",ee.offsetHeight),this.rowHeights[ee.dataset.recordKey]=ee.offsetHeight;else if(ee.dataset.groupKey){let Q=ee.dataset.groupElement+"-"+ee.dataset.groupKey;this.rowHeights[Q]=ee.offsetHeight,ee.dataset.recordKey in this.rowHeights||this.heightStats.add(ee.dataset.groupElement,ee.offsetHeight)}}}z>0&&(l=this.state.dragged?this.rowHeight:Math.round((this.dom.table.offsetHeight-o)/z),E=Math.max(0,t.totalRecordCount-y));let X=0,$=0;i.measureRowHeights&&e.records?(X=this.estimateHeight(e.records,0,m),$=this.estimateHeight(e.records,y,e.records.length)):(X=m*l,$=E*l),this.dom.table.style.marginTop=`${(-o+X).toFixed(0)}px`,this.dom.table.style.marginBottom=`${($-u).toFixed(0)}px`}else this.dom.table.style.marginTop=`${-o}px`,this.dom.table.style.marginBottom=`${-u}px`;this.dom.fixedTable&&(this.dom.fixedTable.style.marginTop=this.dom.table.style.marginTop,this.dom.fixedTable.style.marginBottom=this.dom.table.style.marginBottom),this.rowHeight=l;let c=i.infinite&&!Fr(t.sorters,this.lastSorters);if(t.empty&&!i.infinite&&(this.dom.scroller.scrollTop=0),(c||t.filterParams!==this.lastScrollFilterParams||t.scrollResetParams!==this.lastScrollResetParams)&&(this.dom.scroller.scrollTop=0,this.lastScrollFilterParams=t.filterParams,this.lastScrollResetParams=t.scrollResetParams,this.lastSorters=t.sorters,i.infinite&&(this.loadingStartPage=0,this.loadingEndPage=0,e.buffer.records=t.records=[],e.buffer.totalRecordCount=0,e.buffer.page=1,this.prevFetchRecordsState=null)),i.scrollSelectionIntoView&&!i.buffered){let{CSS:m,baseClass:y}=i,E=`.${m.element(y,"data")}.${m.state("selected")}`,z=this.dom.table.querySelector(E);z!=this.selectedEl&&(z&&Js(z),this.selectedEl=z)}setTimeout(this.onScroll.bind(this),0),s&&e.fixedHeaderResizeEvent.notify()}}moveCursor(e,{focused:t,hover:i,scrollIntoView:n,select:s,selectRange:o,selectOptions:a,cellIndex:l,cellEdit:u,cancelEdit:c}={}){let{widget:m,visibleColumns:y}=this.props.instance;if(!m.selectable&&!m.cellEditable)return;let E={};u!=null&&u!=this.state.cellEdit&&(E.cellEdit=u,u&&(!y[this.state.cursorCellIndex]||!y[this.state.cursorCellIndex].editor)&&(E.cellEdit=!1)),l!=null&&l!=this.state.cursorCellIndex&&(E.cursorCellIndex=l,E.cellEdit=!1),m.focused&&(t=!0),t!=null&&this.state.focused!=t&&(E.focused=t,E.cellEdit=!1),e!=this.state.cursor&&(E.cursor=e,E.cellEdit=!1),Rt(()=>{if(s){let z=o&&this.state.selectionStart>=0?this.state.selectionStart:e;z<0&&(z=e),this.selectRange(z,e,a),o||(E.selectionStart=e)}if(Object.keys(E).length>0){let z=this.state,X=z.focused&&z.cellEdit,$=ct(ct({},this.state),E);if(!$.cellEdit&&X){wt().blur();let Z=this.getRecordAt(z.cursor);if((!this.cellEditorValid||c)&&this.cellEditUndoData)Z.store.set(m.recordName,this.cellEditUndoData);else{let ee=Z.store.get(m.recordName);m.onCellEdited&&ee!=this.cellEditUndoData&&this.props.instance.invoke("onCellEdited",{column:y[z.cursorCellIndex],newData:ee,oldData:this.cellEditUndoData,field:y[z.cursorCellIndex].field},Z)}}$.cellEdit&&!X&&(this.cellEditUndoData=this.getRecordAt($.cursor).data),this.setState(E,()=>{if(this.state.focused&&!this.state.cellEdit&&X&&Se.focus(this.dom.el),n){let Z=this.getRecordAt(e),ee=Z&&this.dom.table.querySelector(`tbody[data-record-key="${Z.key}"]`),Q=!1;if(ee){if(m.cellEditable)if(this.state.cursorCellIndex>=this.props.instance.fixedColumnCount)Q=!0,ee=ee.firstChild.children[this.state.cursorCellIndex-this.props.instance.fixedColumnCount];else{let ie=this.dom.fixedTable.querySelector(`tbody[data-record-key="${Z.key}"]`),ve=ie&&ie.firstChild.children[this.state.cursorCellIndex];ve&&Js(ve,!1,!0,10)}Js(ee,!0,Q,m.cellEditable?10:0)}}})}})}showCursor(e){let{records:t,isSelected:i}=this.props.instance,n=this.state.cursor;n==-1&&(t?(n=t.findIndex(s=>i(s.data,s.index)),n==-1&&(n=t.findIndex(s=>s.type=="data"))):n=0),this.moveCursor(n,{focused:!0,scrollIntoView:!1})}onFocus(){if(Se.nudge(),this.state.focused){this.state.cellEdit&&this.dom.el==wt()&&this.moveCursor(this.state.cursor,{cellEdit:!1});return}let{widget:e}=this.props.instance;setTimeout(()=>{this.showCursor(!0)},0),e.focused||this.dom.el&&On(this,this.dom.el,()=>{this.moveCursor(-1,{focused:!1})}),this.setState({focused:!0})}onBlur(){Se.nudge()}selectRange(e,t,i){let{instance:n,data:s}=this.props,{records:o,widget:a}=n;if(e>t){let c=e;e=t,t=c}i=qt(ct({},i),{range:e<t});let l=[],u=[];for(let c=e;c<=t;c++){let m;if(o)m=o[c];else{let y=a.infinite?s.offset:0,E=s.records[c-y];E&&(m=a.mapRecord(null,n,E,c-y))}if(m&&m.type=="data"){if(n.isRecordSelectable&&!n.isRecordSelectable(m.data,i))continue;l.push(m.data),u.push(m.index)}}a.selection.selectMultiple(n.store,l,u,i)}getRecordAt(e){let{instance:t,data:i}=this.props,{records:n,widget:s}=t;if(n)return n[e];let o=s.infinite?i.offset:0,a=i.records[e-o];return a?s.mapRecord(null,t,a,e-o):null}getRecordInstanceAt(e){let t=this.getRecordAt(e);if(!t)return null;let{instance:i}=this.props;return i.recordInstanceCache?i.recordInstanceCache.getChild(i.row,t.store,t.key):i.getChild(null,i.row,t.key,t.store)}handleKeyDown(e){let{instance:t,data:i}=this.props,{widget:n}=t;if(n.onKeyDown&&t.invoke("onKeyDown",e,t)===!1)return;let s=this.getRecordInstanceAt(this.state.cursor);if(!(s&&n.onRowKeyDown&&t.invoke("onRowKeyDown",e,s)===!1))switch(e.keyCode){case be.enter:this.moveCursor(this.state.cursor,{select:!0,selectOptions:{toggle:e.ctrlKey&&!e.shiftKey,add:e.ctrlKey&&e.shiftKey},selectRange:e.shiftKey,cellEdit:n.cellEditable&&!this.state.cellEdit,focused:!0}),e.stopPropagation(),e.preventDefault();break;case be.esc:this.state.cellEdit&&(this.moveCursor(this.state.cursor,{cellEdit:!1,focused:!0,cancelEdit:!0}),e.stopPropagation(),e.preventDefault());break;case be.tab:if(n.cellEditable){e.stopPropagation(),e.preventDefault();let o=e.shiftKey?-1:1,a=this.state.cursor,l=(this.state.cursorCellIndex+o)%t.row.line1.columns.length;for(l==-1?(l+=t.row.line1.columns.length,a--):l==0&&o>0&&a++;;a+=o){let u=this.getRecordAt(a);if(!u)break;if(u.type=="data"){this.moveCursor(a,{focused:!0,cellIndex:l,scrollIntoView:!0,cellEdit:!1});break}}}break;case be.down:for(let o=this.state.cursor+1;;o++){let a=this.getRecordAt(o);if(!a)break;if(a.type=="data"){this.moveCursor(o,{focused:!0,scrollIntoView:!0,select:e.shiftKey,selectRange:e.shiftKey});break}}e.stopPropagation(),e.preventDefault();break;case be.up:for(let o=this.state.cursor-1;o>=0;o--){let a=this.getRecordAt(o);if(!a)break;if(a.type=="data"){this.moveCursor(o,{focused:!0,scrollIntoView:!0,select:e.shiftKey,selectRange:e.shiftKey});break}}e.stopPropagation(),e.preventDefault();break;case be.right:n.cellEditable&&(this.state.cursorCellIndex+1<t.row.line1.columns.length&&this.moveCursor(this.state.cursor,{focused:!0,cellIndex:this.state.cursorCellIndex+1,scrollIntoView:!0}),e.stopPropagation(),e.preventDefault());break;case be.left:n.cellEditable&&(this.state.cursorCellIndex>0&&this.moveCursor(this.state.cursor,{focused:!0,cellIndex:this.state.cursorCellIndex-1,scrollIntoView:!0}),e.stopPropagation(),e.preventDefault());break;case be.a:if(!e.ctrlKey||!n.selection.multiple||e.target.nodeName=="INPUT"||e.target.nodeName=="TEXTAREA")return;this.selectRange(0,i.totalRecordCount),e.stopPropagation(),e.preventDefault();break}}beginDragDrop(e,t){let{instance:i,data:n}=this.props,{widget:s,store:o}=i,a=s.selection.getIsSelectedDelegate(o),l=[],u=(y,E,z,X)=>{if(!E||!(X||a(E,z)))return;let $=y?ct({},y):s.mapRecord(null,i,E,z),Z=$.row=i.getDetachedChild(i.row,"DD:"+$.key,$.store);Z.selected=!0,l.push($)};t.selected||(i.records?i.records.forEach(y=>u(y,y.data,y.index)):this.getRecordsSlice(0,n.totalRecordCount).forEach((y,E)=>u(null,y,E))),l.length==0&&u(t,t.data,t.index,!0);let c=this.createRowRenderer(!1),m=l.map((y,E)=>({type:Zn,text:c(y,E,!0,!1)}));nu(e,{sourceEl:br(e.currentTarget,y=>y.tagName=="TBODY"),source:{data:n.dragSource.data,store:o,record:t,records:l},clone:{store:t.store,matchCursorOffset:!0,matchWidth:!0,widget:{$type:Ie,tag:"div",className:n.classNames,jsxAttributes:["className"],children:[{$type:Ie,tag:"table",children:[m]}]}}},()=>{this.setState({dragged:!1})}),this.setState({dragged:t})}onFileDragEnter(e){if(!this.props.instance.widget.allowsFileDrops)return;let t=Un(e);var i=this.onDropTest(t);i&&(e.preventDefault(),e.stopPropagation(),this.onDragStart(e))}onFileDragOver(e){if(!this.props.instance.widget.allowsFileDrops)return;let t=Un(e);var i=this.onDropTest(t);i&&(e.preventDefault(),e.stopPropagation(),this.onDragOver(t,{test:i}))}onFileDragLeave(e){if(!this.props.instance.widget.allowsFileDrops)return;let t=Un(e);var i=this.onDropTest(t);i&&this.onDragLeave(t)}onFileDrop(e){if(!this.props.instance.widget.allowsFileDrops)return;let t=Un(e);var i=this.onDropTest(t);i&&(e.preventDefault(),e.stopPropagation(),this.onDrop(t))}}class Ci extends nt{declareData(){return super.declareData(...arguments,{showHeader:void 0})}init(){this.items=ce.create(fu,this.columns||[]),this.visible=this.showHeader,this.style=this.headerStyle,this.className=this.headerClass,this.class=null,super.init()}render(e,t,i){let{data:n}=t;return A.createElement("tr",{key:i,className:n.classNames,style:n.style},this.renderChildren(e,t))}}Ci.prototype.isPureContainer=!1,Ci.prototype.styled=!0,Ci.prototype.showHeader=!0,Ci.autoInit=!0;class fu extends ce{declareData(){return super.declareData(...arguments,{format:void 0,width:void 0,defaultWidth:void 0,fixed:void 0})}init(){if(delete this.style,delete this.className,delete this.class,this.header&&(this.header1=this.header),(this.header1||this.resizable||this.width||this.defaultWidth||this.sortable||this.draggable)&&(M(this.header1)||(this.header1={text:this.header1||""}),this.resizable&&(this.header1.resizable=this.resizable),this.width&&(this.header1.width=this.width),this.defaultWidth&&(this.header1.defaultWidth=this.defaultWidth),this.draggable&&(this.header1.draggable=this.draggable)),this.header2&&K(this.header2)&&(this.header2={text:this.header2}),this.header3&&K(this.header3)&&(this.header3={text:this.header3}),!this.aggregateField&&this.field&&(this.aggregateField=this.field),this.aggregateAlias||(this.aggregateAlias=this.aggregateField),this.footer&&K(this.footer)&&(this.footer={value:this.footer,pad:this.pad}),this.footer&&(this.footer.value=Ce(this.footer.value),this.footer.class=Ce(this.footer.class),this.footer.style=Ce(this.footer.style),this.footer.format=Ce(this.footer.format)),this.caption&&K(this.caption)&&(this.caption={value:this.caption,pad:this.pad,format:this.format}),this.caption){let e=this.caption.children||this.caption.items;e?(delete this.caption.items,this.caption.children=ce.create(e)):this.caption.value=Ce(this.caption.value)}super.init()}initComponents(){return super.initComponents({header1:this.header1&&lr.create(this.header1),header2:this.header2&&lr.create(this.header2),header3:this.header3&&lr.create(this.header3)})}render(){return null}}fu.autoInit=!0;class lr extends nt{declareData(){return super.declareData(...arguments,{text:void 0,colSpan:void 0,rowSpan:void 0,width:void 0,defaultWidth:void 0,resizable:void 0,fixed:void 0,draggable:void 0})}initComponents(){return super.initComponents(...arguments,{tool:this.tool&&ce.create(this.tool)})}render(e,t,i){let{data:n}=t;return n.text||super.render(e,t,i)}}lr.prototype.colSpan=1,lr.prototype.rowSpan=1,lr.prototype.allowSorting=!0,lr.prototype.styled=!0,lr.prototype.fixed=!1;function Hn(r,e,t=!0){if(!r||!e)return!1;let i=!1;for(let n=0;n<e.children.length&&n<r.children.length;n++){let s=r.children[n],o=e.children[n];for(let a=0;a<o.children.length&&a<s.children.length;a++){let l=o.children[a],u=`${s.children[a].offsetWidth}px`;!i&&l.style.width!=u&&(i=!0),l.style.width=l.style.minWidth=l.style.maxWidth=u,t&&(l.style.height=`${s.children[a].offsetHeight}px`)}}return i}function fg(r,e,t=!0){if(!r||!e)return!1;let i=!1;for(let n=0;n<e.children.length&&n<r.children.length;n++){let s=r.children[n],o=e.children[n];for(let a=0;a<o.children.length&&a<s.children.length;a++){let l=o.children[a],u=s.children[a].getBoundingClientRect(),c=`${u.width}px`;!i&&l.style.width!=c&&(i=!0),l.style.width=l.style.minWidth=l.style.maxWidth=c,t&&(l.style.height=`${u.height}px`)}}return i}function pg(r,e){if(!r||!e)return;const t=Math.max(r.children.length,e.children.length);let i=[];for(let n=0;n<t;n++){i.push(0);let s=r.children[n],o=e.children[n];if(s)for(let a=0;a<s.children.length;a++){let l=s.children[a],u=l.getBoundingClientRect().height;if(l.rowSpan==1&&u>i[n]){i[n]=u;break}}if(o)for(let a=0;a<o.children.length;a++){let l=o.children[a],u=l.getBoundingClientRect().height;if(l.rowSpan==1&&u>i[n]){i[n]=u;break}}}for(let n=0;n<t;n++){let s=r.children[n],o=e.children[n];if(s)for(let a=0;a<s.children.length;a++){let l=s.children[a],u=0;for(let c=0;c<l.rowSpan;c++)u+=i[n+c];l.style.height=`${u}px`}if(o)for(let a=0;a<o.children.length;a++){let l=o.children[a],u=0;for(let c=0;c<l.rowSpan;c++)u+=i[n+c];l.style.height=`${u}px`}}}class mg{constructor(){this.groups={}}add(e,t){let i=this.groups[e];i||(i=this.groups[e]={sum:0,count:0}),i.sum+=t,i.count++}estimate(e){let t=this.groups[e];return!t||t.count==0?null:Math.round(t.sum/t.count)}}function Un(r){return{event:r,cursor:Gt(r),dataTransfer:r.dataTransfer,source:{width:32,height:32,margin:[]}}}function vg(r,e,t,i){let n=Ms()?i:i.capture===!0;return r.addEventListener(e,t,n),()=>{r.removeEventListener(e,t,n)}}var gg=Object.defineProperty,yg=Object.defineProperties,bg=Object.getOwnPropertyDescriptors,pu=Object.getOwnPropertySymbols,wg=Object.prototype.hasOwnProperty,Eg=Object.prototype.propertyIsEnumerable,mu=(r,e,t)=>e in r?gg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Or=(r,e)=>{for(var t in e||(e={}))wg.call(e,t)&&mu(r,t,e[t]);if(pu)for(var t of pu(e))Eg.call(e,t)&&mu(r,t,e[t]);return r},Vn=(r,e)=>yg(r,bg(e));class Ue extends zt{init(){this.center&&(this.centerX=this.centerY=this.center),super.init()}declareData(){return super.declareData(...arguments,{shadowStyle:{structured:!0},resizable:void 0,draggable:void 0,zIndex:void 0})}prepareData(e,t){let{data:i}=t;i.stateMods=Vn(Or({},i.stateMods),{inline:this.inline,modal:this.modal,pad:this.pad,resizable:i.resizable,draggable:i.draggable,animate:this.animate,shadow:this.modal||this.backdrop}),super.prepareData(e,t)}initInstance(e,t){t.positionChangeSubcribers=new N,super.initInstance(e,t)}explore(e,t){_(this.visible)?t.dismiss||(t.dismiss=()=>{t.onBeforeDismiss&&t.onBeforeDismiss()===!1||t.set("visible",!1)}):e.options.dismiss&&(t.dismiss=e.options.dismiss),t.dismiss&&e.push("parentOptions",Vn(Or({},e.parentOptions),{dismiss:t.dismiss})),t.cache("dismiss",t.dismiss)&&t.markShouldUpdate(e),e.push("parentPositionChangeEvent",t.positionChangeSubcribers),super.explore(e,t)}exploreCleanup(e,t){t.dismiss&&e.pop("parentOptions"),e.pop("parentPositionChangeEvent")}render(e,t,i){return A.createElement(vu,{key:i,instance:t,subscribeToBeforeDismiss:e.options.subscribeToBeforeDismiss,parentEl:e.options.parentEl},this.renderContents(e,t))}renderContents(e,t){return this.renderChildren(e,t)}overlayDidMount(e,t){let{el:i}=t;this.centerX&&(i.style.left||(i.style.left=`${(window.innerWidth-i.offsetWidth)/2}px`)),this.centerY&&(i.style.top||(i.style.top=`${Math.max(0,(window.innerHeight-i.offsetHeight)/2)}px`))}overlayDidUpdate(e,t){}overlayWillUnmount(e,t){}handleFocusOut(e,t){this.onFocusOut&&e.invoke("onFocusOut",e,t),this.dismissOnFocusOut&&e.dismiss&&e.dismiss()}handleKeyDown(e,t,i){if(this.onKeyDown&&t.invoke("onKeyDown",e,t,i)===!1)return!1;this.closeOnEscape&&e.keyCode==be.esc&&t.dismiss&&(t.dismiss(),e.stopPropagation())}handleMouseLeave(e,t){this.onMouseLeave&&e.invoke("onMouseLeave",e,t)}handleMouseEnter(e,t){this.onMouseEnter&&e.invoke("onMouseEnter",e,t)}containerFactory(){let e=document.createElement("div");return document.body.appendChild(e),e.style.position="absolute",this.containerStyle&&Object.assign(e.style,oe(this.containerStyle)),e}open(e,t){this.initialized||this.init();let i=this.containerFactory();i.style.display="hidden";let n,s;return t=Vn(Or({destroyDelay:this.destroyDelay,removeParentDOMElement:!0},t),{parentEl:i,dismiss:()=>{n&&n()===!1||(s(),n=null)},subscribeToBeforeDismiss:o=>{n=o}}),t.name=t.name||"overlay",s=es(i,e,this,t),t.dismiss}handleMove(e,t,i){let{widget:n}=t;(!n.onMove||t.invoke("onMove",e,t,i)!==!1)&&t.store.silently(()=>{M(this.style)&&M(this.style.top)&&this.style.top.bind&&t.store.set(this.style.top.bind,i.el.style.top),M(this.style)&&M(this.style.left)&&this.style.left.bind&&t.store.set(this.style.left.bind,i.el.style.left)}),t.positionChangeSubcribers.notify()}handleResize(e,t,i){let{widget:n}=t;(!n.onResize||t.invoke("onResize",e,t,i)!==!1)&&t.store.silently(()=>{M(this.style)&&M(this.style.width)&&this.style.width.bind&&t.store.set(this.style.width.bind,i.el.style.width),M(this.style)&&M(this.style.height)&&this.style.height.bind&&t.store.set(this.style.height.bind,i.el.style.height)}),t.positionChangeSubcribers.notify()}}Ue.prototype.styled=!0,Ue.prototype.baseClass="overlay",Ue.prototype.resizable=!1,Ue.prototype.resizeWidth=7,Ue.prototype.center=!1,Ue.prototype.centerX=!1,Ue.prototype.centerY=!1,Ue.prototype.modal=!1,Ue.prototype.backdrop=!1,Ue.prototype.inline=!1,Ue.prototype.autoFocus=!1,Ue.prototype.autoFocusFirstChild=!1,Ue.prototype.animate=!1,Ue.prototype.draggable=!1,Ue.prototype.destroyDelay=0,Ue.prototype.dismissOnFocusOut=!1,Ue.prototype.focusable=!1,Ue.prototype.containerStyle=null,Ue.prototype.dismissOnPopState=!1,Ue.prototype.closeOnEscape=!1,ce.alias("overlay",Ue);class Cg extends A.Component{render(){return A.createElement("div",{ref:this.props.onRef,className:this.props.className,style:this.props.style,tabIndex:this.props.tabIndex,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this.props.onKeyDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onTouchStart,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.props.onClick},this.props.children)}componentDidUpdate(){this.props.onDidUpdate()}}class vu extends A.Component{constructor(e){super(e);this.state={},this.customStyle={}}render(){let{instance:e,parentEl:t}=this.props,{widget:i}=e;return i.inline||t?this.renderOverlay():(this.containerEl||(this.ownedEl=i.containerFactory(),this.ownedEl.style.display="hidden",this.containerEl=this.ownedEl),A.DOM.createPortal?A.DOM.createPortal(this.renderOverlay(),this.containerEl):null)}renderOverlay(){let{widget:e,data:t}=this.props.instance,{CSS:i,baseClass:n}=e;this.onOverlayRef||(this.onOverlayRef=a=>{this.el=a});let s=A.createElement(Cg,{onRef:this.onOverlayRef,className:t.classNames,style:t.style,tabIndex:e.focusable?0:null,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onMouseMove:this.onMouseMove.bind(this),onTouchStart:this.onMouseDown.bind(this),onTouchEnd:this.onMouseUp.bind(this),onTouchMove:this.onMouseMove.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onClick:this.onClick.bind(this),onDidUpdate:this.overlayDidUpdate.bind(this)},e.modal||e.backdrop&&A.createElement("div",{key:"backdrop",className:i.element(n,"modal-backdrop"),onClick:this.onBackdropClick.bind(this)}),this.renderOverlayBody()),o=s;return(e.modal||e.backdrop)&&(o=A.createElement("div",{key:"shadow",ref:a=>{this.shadowEl=a},className:i.element(n,"shadow",{animated:this.state.animated,"animate-enter":this.state.animated&&!this.dismissed,animate:e.animate}),style:oe(t.shadowStyle)},s)),o}renderOverlayBody(){return this.props.children}onFocus(){Se.nudge(),this.onFocusIn(),this.el&&On(this,this.el,this.onFocusOut.bind(this))}onBlur(){Se.nudge()}onFocusIn(){}onFocusOut(){let{widget:e}=this.props.instance;e.handleFocusOut(this.props.instance,this)}onMouseEnter(e){let{widget:t}=this.props.instance;t.handleMouseEnter(this.props.instance,this)}onMouseLeave(e){let{widget:t}=this.props.instance;t.handleMouseLeave(this.props.instance,this)}onClick(e){let{instance:t}=this.props,{widget:i}=t;i.onClick&&t.invoke("onClick",e,t,this)}onKeyDown(e){let{widget:t}=this.props.instance;t.handleKeyDown(e,this.props.instance,this)}getResizePrefix(e){let{widget:t,data:i}=this.props.instance;if(!i.resizable)return"";let n=this.getCursorPos(e),s=Er(this.el),o=n.clientX-s.left,a=s.right-n.clientX,l=n.clientY-s.top,u=s.bottom-n.clientY,c="";return l>=0&&l<t.resizeWidth?c+="n":u>=0&&u<t.resizeWidth&&(c+="s"),o>=0&&o<t.resizeWidth?c+="w":a>=0&&a<t.resizeWidth&&(c+="e"),c}onMouseDown(e){let{data:t}=this.props.instance,i=this.getResizePrefix(e);if(i){let n=Er(this.el),s=this.getCursorPos(e),o={prefix:i,dl:s.clientX-n.left,dt:s.clientY-n.top,dr:s.clientX-n.right,db:s.clientY-n.bottom,rect:n};Zs(e,this.onMouseMove.bind(this),null,o,i+"-resize")}else t.draggable&&Rn(e);e.stopPropagation()}onBackdropClick(e){e.stopPropagation();let{instance:t}=this.props,{widget:i}=t;i.onBackdropClick&&t.invoke("onBackdropClick",e,t),i.backdrop&&t.dismiss&&t.dismiss()}onMouseUp(e){An(),e.stopPropagation()}onMouseMove(e,t){let{instance:i}=this.props,{data:n,widget:s}=i,o=Mn(e);if(n.draggable&&o){this.startMoveOperation(e);return}if(t&&t.prefix){let{prefix:a,rect:l,dl:u,dt:c,dr:m,db:y}=t,E=this.getCursorPos(e);a.indexOf("w")!=-1&&this.setCustomStyle({left:E.clientX-u+"px",width:l.right-E.clientX+u+"px",right:"auto"}),a.indexOf("n")!=-1&&this.setCustomStyle({top:E.clientY-c+"px",height:l.bottom-E.clientY+c+"px",bottom:"auto"}),a.indexOf("e")!=-1&&this.setCustomStyle({width:E.clientX-m-l.left+"px",left:`${l.left}px`,right:"auto"}),a.indexOf("s")!=-1&&this.setCustomStyle({height:E.clientY-y-l.top+"px",top:`${l.top}px`,bottom:"auto"}),(a.indexOf("w")>=0||a.indexOf("n")>=0)&&s.handleMove(e,i,this),s.handleResize(e,i,this)}else{let a=this.getResizePrefix(e);this.setCustomStyle({cursor:a?a+"-resize":null})}}getCursorPos(e){let t=e.touches&&e.touches[0]||e;return{clientX:t.clientX,clientY:t.clientY}}startMoveOperation(e){if(this.el&&!this.getResizePrefix(e)){e.stopPropagation();let t=Er(this.el),i=this.getCursorPos(e),n={dx:i.clientX-t.left,dy:i.clientY-t.top};Zs(e,this.onMove.bind(this),null,n,getComputedStyle(e.target).cursor)}}onMove(e,t){if(t){let i=this.getCursorPos(e);e.preventDefault(),this.setCustomStyle({left:i.clientX-t.dx+"px",top:i.clientY-t.dy+"px",right:"auto",bottom:"auto"});let{instance:n}=this.props,{widget:s}=n;s.handleMove(e,n,this)}}onBeforeDismiss(){let{instance:e}=this.props,{widget:t}=e;return t.overlayWillDismiss&&t.overlayWillDismiss(e,this)===!1?!1:(this.dismissed=!0,this.el&&(this.el.className=this.getOverlayCssClass()),!0)}componentDidMount(){let{instance:e,subscribeToBeforeDismiss:t,parentEl:i}=this.props,{widget:n,data:s}=e;this.setZIndex(at(s.zIndex)?s.zIndex:eo.next()),this.componentDidUpdate(),n.overlayDidMount(e,this),this.containerEl?this.containerEl.style.display=null:i&&(i.style.display=null),wr(this.el,document.activeElement)?On(this,this.el,this.onFocusOut.bind(this)):(!n.autoFocusFirstChild||!Se.focusFirstChild(this.el))&&n.focusable&&n.autoFocus&&Se.focus(this.el),e.onBeforeDismiss=this.onBeforeDismiss.bind(this),t&&t(e.onBeforeDismiss),n.animate&&setTimeout(()=>{this.unmounting||this.setState({animated:!0})},0),n.dismissOnPopState&&(this.onPopState=()=>{this.props.instance.dismiss()},window.addEventListener("popstate",this.onPopState)),this.shadowEl&&(this.unsubscribeWheelBlock=vg(this.shadowEl,"wheel",a=>{if(a.shiftKey)return;let l=!1;br(a.target,u=>{if(a.deltaY>0&&u.scrollTop<u.scrollHeight-u.clientHeight||a.deltaY<0&&u.scrollTop>0)return l=!0,!0;if(u==a.currentTarget)return!0}),l||a.preventDefault()},{passive:!1}))}componentWillUnmount(){this.onPopState&&window.removeEventListener("popstate",this.onPopState),this.unsubscribeWheelBlock&&this.unsubscribeWheelBlock(),Us(this),this.unmounting=!0;let{widget:e}=this.props.instance,{baseClass:t,CSS:i}=e;this.state.animated&&this.el&&(this.el.className=this.getOverlayCssClass(),this.shadowEl&&(this.shadowEl.className=i.element(t,"shadow",{animate:e.animate,"animate-leave":!0}))),e.overlayWillUnmount(this.props.instance,this),this.ownedEl&&setTimeout(()=>{this.ownedEl.parentNode&&this.ownedEl.parentNode.removeChild(this.ownedEl),this.ownedEl=null},e.destroyDelay),delete this.containerEl}setZIndex(e){this.shadowEl&&(this.shadowEl.style.zIndex=e),this.setCustomStyle({zIndex:e})}setCustomStyle(e){Object.assign(this.customStyle,e),this.el&&Object.assign(this.el.style,this.customStyle)}getOverlayStyle(){let{data:e}=this.props.instance;return Or(Or({},e.style),this.customStyle)}setCSSState(e){let t=Or({},this.state.mods),i=!1;for(let n in e)t[n]!==e[n]&&(t[n]=e[n],i=!0);i&&this.setState({mods:e})}getOverlayCssClass(){let{data:e,widget:t}=this.props.instance,{CSS:i}=t;return i.expand(e.classNames,i.state(Vn(Or({},this.state.mods),{animated:this.state.animated&&!this.unmounting&&!this.dismissed,"animate-enter":this.state.animated&&!this.dismissed,"animate-leave":t.animate&&this.dismissed})))}overlayDidUpdate(){if(this.el&&!this.dismissed){let{widget:e}=this.props.instance;e.overlayDidUpdate(this.props.instance,this),this.el.className=this.getOverlayCssClass(),Object.assign(this.el.style,this.getOverlayStyle())}}componentDidUpdate(){this.containerEl&&!A.DOM.createPortal&&A.DOM.render(this.renderOverlay(),this.containerEl),this.overlayDidUpdate()}}function Og(r){if(r.scrollHeight>r.clientHeight)return gu(r);let e=r.offsetHeight;for(let t=0;t<r.children.length;t++){let i=r.children[t];i.scrollHeight>i.clientHeight&&(e-=i.offsetHeight,e+=gu(i))}return e}function gu(r){let e=r.offsetHeight,t=r.scrollHeight-r.clientHeight;if(t<=0)return e;let i=getComputedStyle(r),n=parseFloat(i.getPropertyValue("max-height"));return isNaN(n)?e+t:Math.min(parseFloat(n),e+t)}var _g=Object.defineProperty,Sg=Object.defineProperties,xg=Object.getOwnPropertyDescriptors,yu=Object.getOwnPropertySymbols,Pg=Object.prototype.hasOwnProperty,Dg=Object.prototype.propertyIsEnumerable,bu=(r,e,t)=>e in r?_g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tg=(r,e)=>{for(var t in e||(e={}))Pg.call(e,t)&&bu(r,t,e[t]);if(yu)for(var t of yu(e))Dg.call(e,t)&&bu(r,t,e[t]);return r},Ig=(r,e)=>Sg(r,xg(e));class Ge extends Ue{init(){this.trackMouse&&(this.trackMouseX=!0,this.trackMouseY=!0),this.autoFocus&&!this.hasOwnProperty(this.focusable)&&(this.focusable=!0),super.init()}declareData(){return super.declareData(...arguments,{placement:void 0})}initInstance(e,t){t.mousePosition=this.mousePosition,t.parentPositionChangeEvent=e.parentPositionChangeEvent,super.initInstance(e,t)}explore(e,t){e.push("lastDropdown",t),super.explore(e,t)}exploreCleanup(e,t){e.pop("lastDropdown"),super.exploreCleanup(e,t)}overlayDidMount(e,t){super.overlayDidMount(e,t);var i=t.scrollableParents=[window];t.updateDropdownPosition=s=>this.updateDropdownPosition(e,t);for(var n=e.relatedElement.parentElement;n;)i.push(n),n=n.parentElement;i.forEach(s=>{s.addEventListener("scroll",t.updateDropdownPosition)}),t.offResize=Pn.subscribe(t.updateDropdownPosition),this.onDropdownDidMount&&e.invoke("onDropdownDidMount",e,t),this.pipeValidateDropdownPosition&&e.invoke("pipeValidateDropdownPosition",t.updateDropdownPosition,e),e.parentPositionChangeEvent&&(t.offParentPositionChange=e.parentPositionChangeEvent.subscribe(t.updateDropdownPosition))}overlayDidUpdate(e,t){this.updateDropdownPosition(e,t)}overlayWillUnmount(e,t){var{scrollableParents:i}=t;i&&(i.forEach(n=>{n.removeEventListener("scroll",t.updateDropdownPosition)}),delete t.scrollableParents,delete t.updateDropdownPosition),t.offResize&&t.offResize(),this.pipeValidateDropdownPosition&&e.invoke("pipeValidateDropdownPosition",null,e),t.offParentPositionChange&&t.offParentPositionChange(),delete t.parentBounds}updateDropdownPosition(e,t){var{el:i}=t,{data:n,relatedElement:s}=e,o=t.parentBounds=Er(s);if(o.left==0&&o.top==0&&o.bottom==0&&o.right==0)return;this.trackMouseX&&e.mousePosition&&(o={top:o.top,bottom:o.bottom,left:e.mousePosition.x,right:e.mousePosition.x}),this.trackMouseY&&e.mousePosition&&(o={left:o.left,right:o.right,top:e.mousePosition.y,bottom:e.mousePosition.y});let a=this.pad&&typeof this.elementExplode=="number"?this.elementExplode:0;a&&(o={left:Math.round(o.left-a),right:Math.round(o.right+a),top:Math.round(o.top-a),bottom:Math.round(o.bottom+a)});var l={};this.matchWidth&&(l.minWidth=`${o.right-o.left}px`),this.matchMaxWidth&&(l.maxWidth=`${o.right-o.left}px`);var u=this.measureNaturalDropdownSize(e,t),c=this.findOptimalPlacement(u,o,n.placement,t.lastPlacement);if(this.applyPositioningPlacementStyles(l,c,u,o,i,!1),t.setCustomStyle(l),this.setDirectionClass(t,c),this.constrain){let y=this.measureNaturalDropdownSize(e,t);if(y.width!=u.width||y.height!=u.height){let E={};this.applyPositioningPlacementStyles(E,c,y,o,i,!0),t.setCustomStyle(E)}}let m={style:l,placement:c,parentBounds:o};this.onDropdownPositionDidUpdate&&e.invoke("onDropdownPositionDidUpdate",m,e,t),e.positionChangeSubcribers.notify()}applyFixedPositioningPlacementStyles(e,t,i,n,s,o){let a=no(this.screenPadding);if(e.position="fixed",t.startsWith("down")){e.top=`${(this.cover?n.top:n.bottom)+this.offset}px`;let l=a.bottom-(n.bottom+this.offset+i.height);e.bottom=this.constrain&&(o||l<this.screenPadding+10)?Math.max(this.screenPadding,l)+"px":"auto"}else if(t.startsWith("up")){let l=n.top-this.offset-i.height-a.top;e.top=this.constrain&&(o||l<this.screenPadding+10)?Math.max(this.screenPadding,l)+"px":"auto",e.bottom=document.documentElement.offsetHeight-(this.cover?n.bottom:n.top)+this.offset+"px"}switch(t){case"down":case"down-center":e.right="auto",e.left=`${Math.round((n.left+n.right-s.offsetWidth)/2)}px`;break;case"down-right":e.right="auto",e.left=`${n.left}px`;break;case"down-left":e.right=`${document.documentElement.offsetWidth-n.right}px`,e.left="auto";break;case"up":case"up-center":e.right="auto",e.left=`${Math.round((n.left+n.right-s.offsetWidth)/2)}px`;break;case"up-right":e.right="auto",e.left=`${n.left}px`;break;case"up-left":e.right=`${document.documentElement.offsetWidth-n.right}px`,e.left="auto";break;case"right":case"right-center":e.top=`${Math.round((n.top+n.bottom-s.offsetHeight)/2)}px`,e.right="auto",e.bottom="auto",e.left=`${n.right+this.offset}px`;break;case"right-down":e.top=`${n.top}px`,e.right="auto",e.bottom="auto",e.left=`${n.right+this.offset}px`;break;case"right-up":e.top="auto",e.right="auto",e.bottom=`${document.documentElement.offsetHeight-n.bottom}px`,e.left=`${n.right+this.offset}px`;break;case"left":case"left-center":e.top=`${Math.round((n.top+n.bottom-s.offsetHeight)/2)}px`,e.right=`${document.documentElement.offsetWidth-n.left+this.offset}px`,e.bottom="auto",e.left="auto";break;case"left-down":e.top=`${n.top}px`,e.right=`${document.documentElement.offsetWidth-n.left+this.offset}px`,e.bottom="auto",e.left="auto";break;case"left-up":e.top="auto",e.right=`${document.documentElement.offsetWidth-n.left+this.offset}px`,e.bottom=`${document.documentElement.offsetHeight-n.bottom}px`,e.left="auto";break;case"screen-center":let l=Math.min(i.width,document.documentElement.offsetWidth-2*this.screenPadding),u=Math.min(i.height,document.documentElement.offsetHeight-2*this.screenPadding);e.top=`${Math.round((document.documentElement.offsetHeight-u)/2)}px`,e.right=`${Math.round((document.documentElement.offsetWidth-l)/2)}px`,e.bottom=`${Math.round((document.documentElement.offsetHeight-u)/2)}px`,e.left=`${Math.round((document.documentElement.offsetWidth-l)/2)}px`;break}}applyAbsolutePositioningPlacementStyles(e,t,i,n,s,o){var a=no(this.screenPadding);if(e.position="absolute",t.startsWith("down")){e.top=`${n.bottom-n.top+this.offset}px`;let l=a.bottom-n.bottom+this.offset;e.bottom=this.constrain&&(o||i.height>=l-10)?`${-Math.min(l,i.height)}px`:"auto"}else if(t.startsWith("up")){let l=n.top-this.offset-a.top;e.top=this.constrain&&(o||i.height>=l-10)?`${-Math.min(l,i.height)}px`:"auto",e.bottom=`${n.bottom-n.top-this.offset}px`}switch(t){case"down":case"down-center":e.right="auto",e.left=`${Math.round((n.right-n.left-s.offsetWidth)/2)}px`;break;case"down-right":e.right="auto",e.left="0";break;case"down-left":e.right="0",e.left="auto";break;case"up":case"up-center":e.right="auto",e.left=`${Math.round((n.right-n.left-s.offsetWidth)/2)}px`;break;case"up-right":e.right="auto",e.left="0";break;case"up-left":e.right="0",e.left="auto";break;case"right":case"right-center":e.top=`${Math.round((n.bottom-n.top-s.offsetHeight)/2)}px`,e.right="auto",e.bottom="auto",e.left=`${n.right-n.left+this.offset}px`;break;case"right-down":e.top="0",e.right="auto",e.bottom="auto",e.left=`${n.right-n.left+this.offset}px`;break;case"right-up":e.top="auto",e.right="auto",e.bottom="0",e.left=`${n.right-n.left+this.offset}px`;break;case"left":case"left-center":e.top=`${Math.round((n.bottom-n.top-s.offsetHeight)/2)}px`,e.right=`${n.right-n.left+this.offset}px`,e.bottom="auto",e.left="auto";break;case"left-down":e.top="0",e.right=`${n.right-n.left+this.offset}px`,e.bottom="auto",e.left="auto";break;case"left-up":e.top="auto",e.right=`${n.right-n.left+this.offset}px`,e.bottom="0",e.left="auto";break}}applyPositioningPlacementStyles(e,t,i,n,s,o){switch(this.positioning){case"absolute":this.applyAbsolutePositioningPlacementStyles(e,t,i,n,s,o);break;case"auto":vi()?this.applyAbsolutePositioningPlacementStyles(e,t,i,n,s,o):this.applyFixedPositioningPlacementStyles(e,t,i,n,s,o);break;default:this.applyFixedPositioningPlacementStyles(e,t,i,n,s,o);break}}setDirectionClass(e,t){var i={"place-left":!1,"place-right":!1,"place-up":!1,"place-down":!1};e.lastPlacement=t,e.setCSSState(Ig(Tg({},i),{["place-"+t]:!0}))}measureNaturalDropdownSize(e,t){var{el:i}=t,n={width:i.offsetWidth,height:this.constrain?Og(i):i.offsetHeight-i.clientHeight+i.scrollHeight};if(this.firstChildDefinesHeight&&i.firstChild&&(n.height=i.firstChild.offsetHeight),this.firstChildDefinesWidth&&i.firstChild&&(n.width=i.firstChild.offsetWidth),this.onMeasureNaturalContentSize){var s=e.invoke("onMeasureNaturalContentSize",i,e,t);Object.assign(n,s)}return n}findOptimalPlacement(e,t,i,n){for(var s=this.placementOrder.split(" "),o=n||i,a,l={},u=no(),c=0;c<s.length;c++){var m=s[c];a||(a=m);var y=m.split("-"),E=y[0],z=y[1]||"center";l[m]=0;var X=!0;switch(E){case"down":l[m]+=3*Math.min(1,(u.bottom-t.bottom-this.offset)/e.height);break;case"up":l[m]+=3*Math.min(1,(t.top-u.top-this.offset)/e.height);break;case"right":l[m]+=t.right+e.width+this.offset<u.right?3:0,X=!1;break;case"left":l[m]+=t.left-e.width-this.offset>=u.left?3:0,X=!1;break}switch(z){case"center":X?(l[m]+=(t.right+t.left-e.width)/2>=u.left?1:0,l[m]+=(t.right+t.left+e.width)/2<u.right?1:0):(l[m]+=(t.bottom+t.top-e.height)/2>=u.top?1:0,l[m]+=(t.bottom+t.top+e.height)/2<u.bottom?1:0);break;case"right":l[m]+=t.left+e.width<u.right?2:0;break;case"left":l[m]+=t.right-e.width>=u.left?2:0;break;case"up":l[m]+=t.bottom-e.height>=u.top?2:0;break;case"down":l[m]+=t.top+e.height<u.bottom?2:0;break}}o in l||(o=a);for(var $ in l)l[$]>l[o]&&(o=$);return this.touchFriendly&&vi()&&l[o]<5?"screen-center":o}handleKeyDown(e,t){switch(e.keyCode){case 27:var i=mi(t.relatedElement,or);i&&i.focus(),e.stopPropagation(),e.preventDefault();break}this.onKeyDown&&t.invoke("onKeyDown",e,t)}renderContents(e,t){let{CSS:i,baseClass:n}=this,s=[super.renderContents(e,t)];return this.arrow&&s.push(A.createElement("div",{key:"arrow-border",className:i.element(n,"arrow-border")}),A.createElement("div",{key:"arrow-back",className:i.element(n,"arrow-fill")})),s}render(e,t,i){let{CSS:n,baseClass:s}=this,o=null;return this.relatedElement&&(t.relatedElement=this.relatedElement),(!this.relatedElement||t.needsBeacon)&&(o=A.createElement("div",{key:`${i}-beacon`,className:n.element(s,"beacon"),ref:a=>{if(t.relatedElement)return;let l=a;this.onResolveRelatedElement?l=t.invoke("onResolveRelatedElement",a,t):l=a.previousElementSibling,l||(l=a),l==a&&(t.needsBeacon=!0),t.relatedElement=l,t.setState({dummy:{}})}})),[o,t.relatedElement&&super.render(e,t,i)]}}Ge.prototype.offset=0,Ge.prototype.baseClass="dropdown",Ge.prototype.matchWidth=!0,Ge.prototype.matchMaxWidth=!1,Ge.prototype.placementOrder="up down right left",Ge.prototype.placement=null,Ge.prototype.constrain=!1,Ge.prototype.positioning="fixed",Ge.prototype.touchFriendly=!1,Ge.prototype.arrow=!1,Ge.prototype.pad=!1,Ge.prototype.elementExplode=0,Ge.prototype.screenPadding=5,Ge.prototype.firstChildDefinesHeight=!1,Ge.prototype.firstChildDefinesWidth=!1,Ge.prototype.cover=!1,ce.alias("dropdown",Ge),mr.registerPrototype("cx/widgets/Dropdown",Ge);function no(r=0){return{left:r,top:r,right:document.documentElement.offsetWidth-r,bottom:document.documentElement.offsetHeight-r}}let Oi,wu=0;function Ng(r){Date.now()<wu||(wu=Date.now()+5,Oi&&Oi.notify(r))}function kg(r,e){const t=M(r)?r.keyCode:r,i=M(r)?r.shiftKey:!1,n=M(r)?r.ctrlKey:!1,s=M(r)?r.altKey:!1;return Oi||(Oi=new N,document.addEventListener("keydown",o=>{o.target==document.body&&Ng(o)})),Oi.subscribe(o=>{o.keyCode==t&&(!i||o.shiftKey)&&(!n||o.ctrlKey)&&(!s||o.altKey)&&e(o)})}var Rg=Object.defineProperty,Ag=Object.defineProperties,Mg=Object.getOwnPropertyDescriptors,Eu=Object.getOwnPropertySymbols,Lg=Object.prototype.hasOwnProperty,Fg=Object.prototype.propertyIsEnumerable,Cu=(r,e,t)=>e in r?Rg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ou=(r,e)=>{for(var t in e||(e={}))Lg.call(e,t)&&Cu(r,t,e[t]);if(Eu)for(var t of Eu(e))Fg.call(e,t)&&Cu(r,t,e[t]);return r},jg=(r,e)=>Ag(r,Mg(e));class Le extends Ie{init(){this.hideCursor&&(this.showCursor=!1),super.init()}declareData(){super.declareData(...arguments,{icon:void 0,disabled:void 0,checked:!1,arrow:void 0,confirm:void 0})}explore(e,t){t.horizontal=this.horizontal;let{lastMenu:i}=e;i&&(t.horizontal=i.horizontal,t.padding=i.itemPadding,t.icons=i.icons),t.parentPositionChangeEvent=e.parentPositionChangeEvent,!t.padding&&this.pad==!0&&(t.padding="medium"),this.padding&&(t.padding=this.padding),e.push("lastMenuItem",this),super.explore(e,t)}exploreCleanup(e,t){e.pop("lastMenuItem")}render(e,t,i){return A.createElement(Hg,{key:i,instance:t,data:t.data},t.data.text?A.createElement("span",null,t.data.text):this.renderChildren(e,t))}add(e){e&&typeof e=="object"&&e.putInto=="dropdown"?(this.dropdown=Ou({},e),delete this.dropdown.putInto):super.add(...arguments)}addText(e){this.add({type:Ie,tag:"span",text:e})}}Le.prototype.baseClass="menuitem",Le.prototype.hoverFocusTimeout=500,Le.prototype.hoverToOpen=!1,Le.prototype.clickToOpen=!1,Le.prototype.horizontal=!0,Le.prototype.arrow=!1,Le.prototype.dropdownOptions=null,Le.prototype.showCursor=!0,Le.prototype.pad=!0,Le.prototype.placement=null,Le.prototype.placementOrder=null,Le.prototype.autoClose=!1,Le.prototype.checkedIcon="check",Le.prototype.uncheckedIcon="dummy",Le.prototype.keyboardShortcut=!1,Le.prototype.openOnFocus=!0,Le.prototype.closeDropdownOnScrollDistance=100,ce.alias("submenu",Le),mr.registerPrototype("cx/widgets/MenuItem",Le);class Hg extends A.Component{constructor(e){super(e);this.state={dropdownOpen:!1}}getDefaultPlacementOrder(e){return e?"down-right down down-left up-right up up-left":"right-down right right-up left-down left left-up"}getDropdown(){let{horizontal:e,widget:t,parentPositionChangeEvent:i}=this.props.instance;return!this.dropdown&&t.dropdown&&(this.dropdown=ce.create(Ge,jg(Ou({matchWidth:!1,placementOrder:t.placementOrder||this.getDefaultPlacementOrder(e),trackScroll:!0,inline:!0},t.dropdownOptions),{relatedElement:this.el.parentElement,placement:t.placement,onKeyDown:this.onDropdownKeyDown.bind(this),items:t.dropdown,parentPositionChangeEvent:i,pipeValidateDropdownPosition:n=>{this.validateDropdownPosition=n},onDropdownPositionDidUpdate:n=>{let{parentBounds:s}=n,{initialScreenPosition:o}=this;o||(o=this.initialScreenPosition=n.parentBounds),(Math.abs(s.top-o.top)>t.closeDropdownOnScrollDistance||Math.abs(s.left-o.left)>t.closeDropdownOnScrollDistance)&&this.closeDropdown()}}))),this.dropdown}render(){let{instance:e,data:t,children:i}=this.props,{widget:n}=e,{CSS:s,baseClass:o}=n,a=this.state.dropdownOpen&&A.createElement(ri,{widget:this.getDropdown(),options:{name:"submenu"},parentInstance:e,subscribe:!0}),l=t.arrow&&A.createElement(Dm,{className:s.element(o,"arrow")}),u=null,c=n.checked!=null;c&&(t.icon=t.checked?n.checkedIcon:n.uncheckedIcon),t.icon&&(u=A.createElement("div",{className:s.element(o,"button"),onClick:E=>{E.preventDefault(),e.set("checked",!t.checked)||this.onClick(E)},onMouseDown:E=>{c&&E.stopPropagation()}},Gr.render(t.icon,{className:s.element(o,"icon")})));let m=!i||Array.isArray(i)&&i.length==0,y=s.expand(t.classNames,s.state({open:this.state.dropdownOpen,horizontal:e.horizontal,vertical:!e.horizontal,arrow:t.arrow,cursor:n.showCursor,[e.padding+"-padding"]:e.padding,icon:!!u||e.icons,disabled:t.disabled,empty:m}));return m&&(i=A.createElement("span",{className:s.element(o,"baseline")},"\xA0")),A.createElement("div",{className:y,style:t.style,tabIndex:!t.disabled&&(n.dropdown||n.onClick||n.checked)?0:null,ref:E=>{this.el=E},onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onFocus:this.onFocus.bind(this),onClick:this.onClick.bind(this),onBlur:this.onBlur.bind(this)},i,u,l,a)}componentDidUpdate(){this.state.dropdownOpen&&this.validateDropdownPosition&&this.validateDropdownPosition()}componentDidMount(){let{widget:e}=this.props.instance;e.keyboardShortcut&&(this.unregisterKeyboardShortcut=kg(e.keyboardShortcut,t=>{this.el.focus(),this.onClick(t)})),gn(this.el,this.props.instance,e.tooltip)}onDropdownKeyDown(e){let{horizontal:t}=this.props.instance;(e.keyCode==be.esc||!Kl(e.target)&&(t?e.keyCode==be.up:e.keyCode==be.left))&&(Se.focus(this.el),e.preventDefault(),e.stopPropagation())}clearAutoFocusTimer(){this.autoFocusTimerId&&(clearTimeout(this.autoFocusTimerId),delete this.autoFocusTimerId)}onMouseEnter(e){this.el;let{widget:t}=this.props.instance;t.dropdown&&!this.state.dropdownOpen&&(this.clearAutoFocusTimer(),t.hoverToOpen?Se.focus(this.el):t.clickToOpen||br(this.el,n=>n.tagName=="UL"&&n.contains(wt()))&&(this.autoFocusTimerId=setTimeout(()=>{delete this.autoFocusTimerId,this.state.dropdownOpen||(this.el,Se.focus(this.el),this.el,wt(),void 0)},t.hoverFocusTimeout)),e.stopPropagation(),e.preventDefault()),pi(e,this.props.instance,t.tooltip)}onMouseLeave(e){let{widget:t}=this.props.instance;t.dropdown&&(this.el,this.clearAutoFocusTimer(),t.hoverToOpen&&document.activeElement==this.el&&this.el.blur()),Wr(e,this.props.instance,t.tooltip)}onKeyDown(e){this.el;let{horizontal:t,widget:i}=this.props.instance;i.dropdown?(e.target==this.el&&(e.keyCode==be.enter||(t?e.keyCode==be.down:e.keyCode==be.right))&&(this.openDropdown(()=>{let n=As(this.el,or);n&&Se.focus(n)}),e.preventDefault(),e.stopPropagation()),e.keyCode==be.esc&&(Sp(this.el)||(Se.focus(this.el),e.preventDefault(),e.stopPropagation()),this.closeDropdown())):e.keyCode==be.enter&&i.onClick&&this.onClick(e)}onMouseDown(e){let{widget:t}=this.props.instance;t.dropdown&&(e.stopPropagation(),this.state.dropdownOpen&&!t.hoverToOpen?this.closeDropdown():(bn(this.el)||Se.focus(this.el),this.openDropdown(),bn(this.el)&&e.preventDefault()))}openDropdown(e){let{widget:t}=this.props.instance;t.dropdown&&(this.state.dropdownOpen?e&&e(this.state):(this.setState({dropdownOpen:!0},e),Wr(null,this.props.instance,t.tooltip)))}onClick(e){e.stopPropagation();let{instance:t}=this.props,{data:i}=t;if(i.disabled){e.preventDefault();return}let{widget:n}=t;n.dropdown?e.preventDefault():(t.set("checked",!t.data.checked),n.onClick&&(i.confirm?ul(i.confirm).then(s=>{s=="yes"&&t.invoke("onClick",null,t)}):t.invoke("onClick",e,t))),n.autoClose&&wt().blur()}onFocus(){let{widget:e}=this.props.instance;e.dropdown&&(On(this,this.el,this.onFocusOut.bind(this)),this.el,document.activeElement,this.clearAutoFocusTimer(),e.openOnFocus&&this.openDropdown())}onBlur(){Se.nudge()}closeDropdown(){this.setState({dropdownOpen:!1}),delete this.initialScreenPosition}onFocusOut(e){this.el,this.clearAutoFocusTimer(),this.el&&!wr(this.el,e)&&(this.el,this.closeDropdown())}componentWillUnmount(){this.clearAutoFocusTimer(),Us(this),this.offParentPositionChange&&this.offParentPositionChange(),this.unregisterKeyboardShortcut&&this.unregisterKeyboardShortcut(),yn(this.props.instance)}}class _u extends ce{render(e,t,i){return{key:!0,atomic:!0,spacer:!0}}}_u.prototype.isMenuSpacer=!0;var Ug=Object.defineProperty,Vg=Object.defineProperties,$g=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,Bg=Object.prototype.hasOwnProperty,Wg=Object.prototype.propertyIsEnumerable,xu=(r,e,t)=>e in r?Ug(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zg=(r,e)=>{for(var t in e||(e={}))Bg.call(e,t)&&xu(r,t,e[t]);if(Su)for(var t of Su(e))Wg.call(e,t)&&xu(r,t,e[t]);return r},Kg=(r,e)=>Vg(r,$g(e));class et extends Ie{init(){if(this.itemPadding===!0&&(this.itemPadding="medium"),this.horizontal&&qe(this.itemPadding)&&(this.itemPadding=this.defaultHorizontalItemPadding),!this.horizontal&&qe(this.itemPadding)&&(this.itemPadding=this.defaultVerticalItemPadding),super.init(),this.overflow){if(!this.horizontal)throw new Error("Overflow works only on horizontal menus.");this.items.push(Le.create({icon:this.overflowIcon,mod:"overflow",items:[{type:et,putInto:"dropdown",items:[...this.items],showOnlyOverflowItems:!0}]}))}}prepareData(e,t){let{data:i}=t;i.stateMods=Kg(zg({},i.stateMods),{horizontal:this.horizontal,vertical:!this.horizontal,overflow:this.overflow,[this.itemPadding+"-item-padding"]:this.itemPadding}),super.prepareData(e,t)}explore(e,t){e.push("lastMenu",this),super.explore(e,t)}exploreCleanup(e,t){e.pop("lastMenu")}render(e,t,i){return A.createElement(Gg,{key:i,instance:t},this.renderChildren(e,t))}add(e){if(e&&e.tag=="a"){let t={type:Le,items:e,autoClose:!0};g(e.if)&&(t.if=e.if),g(e.visible)&&(t.visible=e.visible),super.add(t)}else super.add(...arguments)}}et.prototype.horizontal=!1,et.prototype.defaultVerticalItemPadding="medium",et.prototype.defaultHorizontalItemPadding="small",et.prototype.icons=!1,et.prototype.overflow=!1,et.prototype.overflowIcon="drop-down",et.Item=Le,et.Spacer=_u;class Gg extends A.Component{constructor(e){super(e);this.state={cursor:null,nonOverflownItemCount:1/0},this.ref=t=>{this.el=t}}render(){let{instance:e,children:t}=this.props,{data:i,widget:n}=e,{CSS:s,baseClass:o}=n;this.itemInfo=Array.from({length:t.length});let a=0;if(n.showOnlyOverflowItems){let{parent:l}=e;for(;l!=null;){if(l.widget instanceof et){a=l.nonOverflownItemCount||0;break}l=l.parent}}return A.createElement("ul",{ref:this.ref,className:s.expand(i.classNames,s.state({pack:this.state.nonOverflownItemCount<t.length-1})),style:i.style,onBlur:Se.nudge(),onKeyDown:this.onKeyDown.bind(this)},t.map((l,u)=>{let c=l&&typeof l=="object"&&l.key?l.key:u;return l&&l.spacer?n.horizontal&&A.createElement("li",{className:s.element(o,"spacer"),key:c}):A.createElement(Xg,{key:c,cursor:c===this.state.cursor,hidden:u<a||u>=this.state.nonOverflownItemCount&&u+1!=t.length,instance:e,itemInfo:this.itemInfo,itemKey:c,itemIndex:u,moveCursor:this.moveCursor.bind(this)},l)}))}moveCursor(e){e!=this.state.cursor&&this.setState({cursor:e})}onKeyDown(e){if(Kl(e.target))return;let{instance:t}=this.props,{widget:i}=t,n=e.keyCode;this.el;let{horizontal:s}=i;if(n==be.tab&&(s?n=e.shiftKey?be.left:be.up:n=e.shiftKey?be.right:be.down),this.state.cursor!=null){let o=this.itemInfo.findIndex(a=>a.key==this.state.cursor);if(s?n==be.left:n==be.up){for(let a=o-1;a>=0;a--)if(this.itemInfo[a].focusable){Se.focusFirst(this.itemInfo[a].el),e.stopPropagation(),e.preventDefault();return}}if(s?n==be.right:n==be.down){for(let a=o+1;a<this.itemInfo.length;a++)if(this.itemInfo[a].focusable){Se.focusFirst(this.itemInfo[a].el),e.stopPropagation(),e.preventDefault();return}}}switch(n){case be.home:this.itemInfo[0].focusable&&(Se.focusFirst(this.itemInfo[0].el),e.stopPropagation(),e.preventDefault());break;case be.end:this.itemInfo[this.itemInfo.length-1].focusable&&(Se.focusFirst(this.itemInfo[this.itemInfo.length-1].el),e.stopPropagation(),e.preventDefault());break}}onFocusOut(e){this.el,this.el&&!wr(this.el,e)&&this.moveCursor(null)}componentDidMount(){let{widget:e}=this.props.instance;e.autoFocus&&this.itemInfo.length>0&&!bn(this.el)&&Se.focusFirst(this.itemInfo[0].el),e.overflow&&(this.measureOverflow(),this.unsubscribeResize=Pn.trackElement(this.el,this.measureOverflow.bind(this))),this.unsubscribeFocusOut=Se.onFocusOut(this.el,this.onFocusOut.bind(this))}componentDidUpdate(){this.measureOverflow()}measureOverflow(){let{instance:e}=this.props,{widget:t}=e,{CSS:i,baseClass:n}=t;if(!t.overflow)return;let s=i.element(n,"spacer"),o=0,a=0,u=Array.from(this.el.children).map(y=>{if(y.classList.contains(s))return 0;let E=y.offsetWidth,z=getComputedStyle(y),X=z.getPropertyValue("margin-left");P(X)&&X.endsWith("px")&&(E+=parseFloat(X));let $=z.getPropertyValue("margin-right");return P($)&&$.endsWith("px")&&(E+=parseFloat($)),E}),c=this.el.clientWidth,m=u[u.length-1];for(let y=0;y<u.length-1;y++){let E=y==u.length-2?0:m;if(u[y]+a>c-E)break;o++,a+=u[y]}e.nonOverflownItemCount=o,!this.isMeasureOverflowDisabled&&this.state.nonOverflownItemCount!=o&&(this.isMeasureOverflowDisabled=!0,this.setState({nonOverflownItemCount:o},()=>{this.isMeasureOverflowDisabled=!1}))}componentWillUnmount(){this.unsubscribeFocusOut&&this.unsubscribeFocusOut(),this.unsubscribeResize&&this.unsubscribeResize()}}et.prototype.baseClass="menu",et.prototype.tag="ul",ce.alias("menu",et);class Xg extends A.Component{constructor(e){super(e);this.state={focusable:!0}}render(){let{itemInfo:e,itemIndex:t,itemKey:i,instance:n,cursor:s,hidden:o}=this.props,{widget:a}=n,{CSS:l,baseClass:u}=a,c={cursor:s,focusable:this.state.focusable,hidden:o};return A.createElement("li",{ref:m=>{this.el=m,e[t]={el:m,focusable:this.state.focusable,key:i}},className:l.element(u,"item",c),onFocus:this.onFocus.bind(this),onMouseDown:this.onMouseDown.bind(this),onKeyDown:this.onKeyDown.bind(this)},this.props.children)}onFocus(e){Se.nudge(),this.el,e.target,this.props.moveCursor(this.props.itemKey)}onKeyDown(e){let{instance:t}=this.props,{widget:i}=t;i.onKeyDown&&t.invoke("onKeyDown",e,t)}onMouseDown(e){if(e.stopPropagation(),this.el,this.state.focusable){let{itemInfo:t,itemIndex:i}=this.props,n=t[i].el;if(br(e.target,o=>o===n||or(o))==n){let o=Pp(),a=Se.focusFirst(n);a!==o&&void 0}}}componentDidMount(){this.componentDidUpdate()}componentDidUpdate(){let{itemInfo:e,itemIndex:t,hidden:i}=this.props,n=!i&&!!mi(this.el,or);n!==this.state.focusable&&(e[t].focusable=n,this.setState({focusable:n}))}}class Lt extends Ge{}Lt.prototype.trackMouse=!0,Lt.prototype.dismissOnFocusOut=!0,Lt.prototype.firstChildDefinesWidth=!0,Lt.prototype.matchWidth=!1,Lt.prototype.placementOrder="down-right right up-right down-left left up-left",Lt.prototype.offset=0,Lt.prototype.autoFocus=!0,Lt.prototype.autoFocusFirstChild=!1,Lt.prototype.focusable=!0;const so=(r,e,t,i)=>{r.preventDefault(),r.stopPropagation();let n=Gt(r);Lt.create({relatedElement:r.currentTarget,mousePosition:{x:n.clientX,y:n.clientY},trackMouse:!0,items:e}).open(t,i)};class _i extends ce{checkVisible(e,t,i){if(i.visible&&e.lastFieldId&&e.validation&&e.validation.errors&&e.validation.errors.length>0){var n=t.lastError=e.validation.errors[e.validation.errors.length-1];return n.fieldId==e.lastFieldId&&n.visited}return!1}explore(e,t){var{data:i,lastError:n}=t;let s=t.cache("lastErrorMessage",n.message),o=t.cache("lastErrorFieldId",n.fieldId);(s||o)&&(i.errorMessage=n.message,i.fieldId=n.fieldId,t.markShouldUpdate(e)),super.explore(e,t)}render(e,t,i){var{data:n}=t;return A.createElement("label",{key:i,className:n.classNames,htmlFor:n.fieldId},n.errorMessage)}}_i.prototype.baseClass="validationerror",_i.prototype.styled=!0,ce.alias("validation-error",_i);class $n extends Ie{}$n.prototype.tag="span",$n.prototype.baseClass="helptext",ce.alias("help-text",$n);var Yg=Object.defineProperty,qg=Object.defineProperties,Jg=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,Qg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,Du=(r,e,t)=>e in r?Yg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ey=(r,e)=>{for(var t in e||(e={}))Qg.call(e,t)&&Du(r,t,e[t]);if(Pu)for(var t of Pu(e))Zg.call(e,t)&&Du(r,t,e[t]);return r},ty=(r,e)=>qg(r,Jg(e));class Bn extends Ie{declareData(){super.declareData(...arguments,{required:void 0,disabled:void 0,htmlFor:void 0})}prepareData(e,t){let{data:i}=t;i.stateMods=ty(ey({},i.stateMods),{disabled:i.disabled}),i._disabled=i.disabled,super.prepareData(e,t)}explore(e,t){let{data:i}=t;i.htmlFor||(i.htmlFor=e.lastFieldId),i.disabled=i.stateMods.disabled=mt(e.parentStrict?e.parentDisabled:null,i._disabled,e.parentDisabled),t.cache("disabled",i.disabled)&&(t.markShouldUpdate(e),this.prepareCSS(e,t)),super.explore(e,t)}isValidHtmlAttribute(e){switch(e){case"asterisk":case"required":return!1}return super.isValidHtmlAttribute(e)}attachProps(e,t,i){super.attachProps(e,t,i);let{data:n}=t;n.htmlFor&&(i.htmlFor=n.htmlFor,i.onClick||(i.onClick=()=>{let s=document.getElementById(t.data.htmlFor);s&&Se.focusFirst(s)})),!i.id&&n.htmlFor&&(i.id=`${n.htmlFor}-label`),this.asterisk&&n.required&&(p(i.children)||(i.children=[i.children]),i.children.push(" "),i.children.push(A.createElement("span",{key:"asterisk",className:this.CSS.element(this.baseClass,"asterisk")},"*")))}}Bn.prototype.baseClass="label",Bn.prototype.tag="label",Bn.prototype.asterisk=!1;const Ft=r=>r.stopPropagation(),ry=r=>r.preventDefault();function iy(r){return M(r)&&C(r.then)}var ny=Object.defineProperty,sy=Object.defineProperties,oy=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,ay=Object.prototype.hasOwnProperty,ly=Object.prototype.propertyIsEnumerable,Iu=(r,e,t)=>e in r?ny(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Nu=(r,e)=>{for(var t in e||(e={}))ay.call(e,t)&&Iu(r,t,e[t]);if(Tu)for(var t of Tu(e))ly.call(e,t)&&Iu(r,t,e[t]);return r},uy=(r,e)=>sy(r,oy(e));class ot extends nt{declareData(){super.declareData({label:void 0,labelWidth:void 0,mode:void 0,viewMode:void 0,id:void 0,error:void 0,inputStyle:{structured:!0},inputClass:{structured:!0},inputAttrs:{structured:!0},emptyText:void 0,visited:void 0,autoFocus:void 0,tabOnEnterKey:void 0,tabIndex:void 0,validationParams:{structured:!0}},...arguments)}init(){if(this.validationMode=="tooltip"&&qe(this.errorTooltip)&&(this.errorTooltip=Nu({text:{bind:"$error"},mod:"error"},this.errorTooltip)),qe(this.help))switch(this.validationMode){case"help":case"help-inline":this.help=_i;break;case"help-block":this.help={type:_i,mod:"block"};break}if(this.help!=null){let e={};this.help.isComponentType?e=this.help:K(this.help)?e.text=this.help:Object.assign(e,this.help),this.help=$n.create(e)}if(this.label!=null){let e={mod:this.mod,disabled:this.disabled,required:this.required,asterisk:this.asterisk,style:this.labelStyle,class:this.labelClass};this.label.isComponentType?e=this.label:K(this.label)?e.text=this.label:Object.assign(e,this.label),this.label=Bn.create(e)}this.inputStyle=oe(this.inputStyle),super.init()}initComponents(e,t){return super.initComponents(...arguments,{label:this.label,help:this.help})}initState(e,t){t.state={inputError:!1,visited:this.visited===!0}}prepareData(e,t){let{data:i,state:n}=t;i.id||(i.id="fld-"+t.id),i._disabled=i.disabled,i._readOnly=i.readOnly,i._viewMode=i.mode==="view"||i.viewMode,i._tabOnEnterKey=i.tabOnEnterKey,t.parentDisabled=e.parentDisabled,t.parentReadOnly=e.parentReadOnly,t.parentViewMode=e.parentViewMode,t.parentTabOnEnterKey=e.parentTabOnEnterKey,t.parentVisited=e.parentVisited,typeof i.enabled!="undefined"&&(i._disabled=!i.enabled),this.disableOrValidate(e,t),i.inputStyle=oe(i.inputStyle),this.labelPlacement&&this.label&&(i.mod=[i.mod,"label-placement-"+this.labelPlacement]),this.helpPlacement&&this.help&&(i.mod=[i.mod,"help-placement-"+this.helpPlacement]),i.empty=this.isEmpty(i),super.prepareData(...arguments)}disableOrValidate(e,t){let{data:i,state:n}=t;i.disabled=mt(e.parentStrict?e.parentDisabled:null,i._disabled,e.parentDisabled),i.readOnly=mt(e.parentStrict?e.parentReadOnly:null,i._readOnly,e.parentReadOnly),i.viewMode=mt(e.parentStrict?e.parentViewMode:null,i._viewMode,e.parentViewMode),i.tabOnEnterKey=mt(e.parentStrict?e.parentTabOnEnterKey:null,i._tabOnEnterKey,e.parentTabOnEnterKey),i.visited=mt(e.parentStrict?e.parentVisited:null,i.visited,e.parentVisited),!i.error&&!i.disabled&&!i.viewMode&&this.validate(e,t),i.visited&&!n.visited&&(n.visited=!0),i.stateMods=uy(Nu({},i.stateMods),{disabled:i.disabled,"edit-mode":!i.viewMode,"view-mode":i.viewMode})}explore(e,t){let{data:i,state:n}=t;t.parentDisabled=e.parentDisabled,t.parentReadOnly=e.parentReadOnly,t.parentViewMode=e.parentViewMode,t.parentTabOnEnterKey=e.parentTabOnEnterKey,t.parentVisited=e.parentVisited,(t.cache("parentDisabled",e.parentDisabled)||t.cache("parentReadOnly",e.parentReadOnly)||t.cache("parentViewMode",e.parentViewMode)||t.cache("parentTabOnEnterKey",e.parentTabOnEnterKey)||t.cache("parentVisited",e.parentVisited))&&(t.markShouldUpdate(e),this.disableOrValidate(e,t),this.prepareCSS(e,t)),e.validation||(e.validation={errors:[]}),i.error&&e.validation.errors.push({fieldId:i.id,message:i.error,visited:n.visited,type:"error"}),e.push("lastFieldId",i.id),super.explore(e,t)}exploreCleanup(e,t){e.pop("lastFieldId")}isEmpty(e){return e.value==null||e.value===this.emptyValue}validateRequired(e,t){let{data:i}=t;if(this.isEmpty(i))return this.requiredText}validate(e,t){let{data:i,state:n}=t;n=n||{};let s=this.isEmpty(i);if(i.error||(n.inputError?i.error=n.inputError:n.validating&&!s?i.error=this.validatingText:n.validationError&&i.value===n.lastValidatedValue&&Fr(i.validationParams,n.lastValidationParams)?i.error=n.validationError:i.required&&(i.error=this.validateRequired(e,t))),!s&&!n.validating&&!i.error&&this.onValidate&&(!n.previouslyValidated||i.value!=n.lastValidatedValue||i.validationParams!=n.lastValidationParams)){let o=t.invoke("onValidate",i.value,t,i.validationParams);iy(o)?(i.error=this.validatingText,t.setState({validating:!0,lastValidatedValue:i.value,previouslyValidated:!0,lastValidationParams:i.validationParams}),o.then(a=>{let{data:l,state:u}=t,c=l.value==u.lastValidatedValue&&Fr(l.validationParams,u.lastValidationParams)?a:this.validatingText;t.setState({validating:!1,validationError:c})}).catch(a=>{t.setState({validating:!1,validationError:this.validationExceptionText}),this.onValidationException?t.invoke("onValidationException",a,t):ue.warn("Unhandled validation exception:",a)})):i.error=o}}renderLabel(e,t,i){if(t.components.label)return ft(t.components.label.vdom)}renderInput(e,t,i){throw new Error("Not implemented.")}renderHelp(e,t,i){if(t.components.help)return ft(t.components.help.render(e,i))}formatValue(e,{data:t}){return t.text||t.value}renderValue(e,t,i){let n=this.formatValue(e,t);if(n)return A.createElement("span",{key:i,onMouseMove:s=>pi(s,...jt(t)),onMouseLeave:s=>Wr(s,...jt(t))},n)}renderContent(e,t,i){let n=this.renderValue(...arguments)||this.renderEmptyText(...arguments);return this.renderWrap(e,t,i,n)}renderWrap(e,t,i,n){let{data:s}=t,o=!s.viewMode&&!s.disabled;return A.createElement("div",{key:i,className:s.classNames,style:s.style,onMouseDown:o?Ft:null,onTouchStart:o?Ft:null},n,this.labelPlacement&&this.renderLabel(e,t,"label"))}renderEmptyText(e,{data:t},i){return A.createElement("span",{key:i,className:this.CSS.element(this.baseClass,"empty-text")},t.emptyText||A.createElement("span",null,"\xA0"))}render(e,t,i){let{data:n}=t,s=n.viewMode?this.renderContent(e,t,i):this.renderInput(e,t,i);return{label:!this.labelPlacement&&this.renderLabel(e,t,i),content:s,helpSpacer:this.helpSpacer&&t.components.help?" ":null,help:!this.helpPlacement&&this.renderHelp(e,t,i)}}handleKeyDown(e,t){if(this.onKeyDown&&t.invoke("onKeyDown",e,t)===!1)return!1;if(t.data.tabOnEnterKey&&e.keyCode===13){let i=e.target;setTimeout(()=>{t.state.inputError||Se.focusNext(i)},10)}}}ot.prototype.validationMode="tooltip",ot.prototype.suppressErrorsUntilVisited=!1,ot.prototype.requiredText="This field is required.",ot.prototype.autoFocus=!1,ot.prototype.asterisk=!1,ot.prototype.validatingText="Validation is in progress...",ot.prototype.validationExceptionText="Something went wrong during input validation. Check log for more details.",ot.prototype.helpSpacer=!0,ot.prototype.trackFocus=!1,ot.prototype.labelPlacement=!1,ot.prototype.helpPlacement=!1,ot.prototype.emptyValue=null,ot.prototype.styled=!0,mr.registerPrototype("cx/widgets/Field",ot);function jt(r){let{widget:e,data:t,state:i}=r;return e.errorTooltip&&t.error&&(!i||i.visited||!e.suppressErrorsUntilVisited)?[r,e.errorTooltip,{data:{$error:t.error}}]:[r,e.tooltip]}var cy=Object.defineProperty,dy=Object.defineProperties,hy=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,fy=Object.prototype.hasOwnProperty,py=Object.prototype.propertyIsEnumerable,Ru=(r,e,t)=>e in r?cy(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,my=(r,e)=>{for(var t in e||(e={}))fy.call(e,t)&&Ru(r,t,e[t]);if(ku)for(var t of ku(e))py.call(e,t)&&Ru(r,t,e[t]);return r},vy=(r,e)=>dy(r,hy(e));class Ve extends ot{init(){typeof this.hideClear!="undefined"&&(this.showClear=!this.hideClear),this.alwaysShowClear&&(this.showClear=!0),super.init()}declareData(){super.declareData({value:this.emptyValue,disabled:void 0,readOnly:void 0,enabled:void 0,placeholder:void 0,required:void 0,minLength:void 0,maxLength:void 0,icon:void 0},...arguments)}renderInput(e,t,i){return A.createElement(gy,{key:i,instance:t,data:t.data,label:this.labelPlacement&&ft(this.renderLabel(e,t,"label")),help:this.helpPlacement&&ft(this.renderHelp(e,t,"help"))})}validate(e,t){super.validate(e,t);let{data:i}=t;!i.error&&i.value&&(this.validationRegExp&&(this.validationRegExp.lastIndex=0),this.validationRegExp&&!this.validationRegExp.test(i.value)?i.error=this.validationErrorText:typeof i.value=="string"&&i.minLength!=null&&i.value.length<i.minLength?i.error=d.format(this.minLengthValidationErrorText,i.minLength,i.value.length):typeof i.value=="string"&&i.maxLength!=null&&i.value.length>i.maxLength&&(i.error=d.format(this.maxLengthValidationErrorText,i.maxLength,i.value.length)))}}Ve.prototype.baseClass="textfield",Ve.prototype.reactOn="change input blur enter",Ve.prototype.inputType="text",Ve.prototype.validationErrorText="The entered value is not valid.",Ve.prototype.minLengthValidationErrorText="Enter {[{0}-{1}]} more character(s).",Ve.prototype.maxLengthValidationErrorText="Use {0} characters or fewer.",Ve.prototype.suppressErrorsUntilVisited=!0,Ve.prototype.icon=null,Ve.prototype.showClear=!1,Ve.prototype.alwaysShowClear=!1,Ve.prototype.keyboardShortcut=!1,mr.registerPrototype("cx/widgets/TextField",Ve);class gy extends A.Component{constructor(e){super(e);this.state={focus:!1}}render(){let{instance:e,data:t,label:i,help:n}=this.props,{widget:s,state:o}=e,{CSS:a,baseClass:l,suppressErrorsUntilVisited:u}=s,c=t.icon&&A.createElement("div",{className:a.element(l,"left-icon"),onMouseDown:ry,onClick:E=>this.onChange(E,"enter")},Gr.render(t.icon,{className:a.element(l,"icon")})),m;s.showClear&&!t.empty&&!t.readOnly&&!t.disabled&&(s.alwaysShowClear||!t.required)&&(m=A.createElement("div",{className:a.element(l,"clear"),onMouseDown:E=>E.preventDefault(),onClick:E=>this.onClearClick(E)},A.createElement(fm,{className:a.element(l,"icon")})));let y=this.input?!this.input.value:t.empty;return A.createElement("div",{className:a.expand(t.classNames,a.state({visited:o.visited,focus:this.state.focus,icon:!!c,clear:m!=null,empty:y&&!t.placeholder,error:t.error&&(o.visited||!u||!y)})),style:t.style,onMouseDown:Ft,onTouchStart:Ft},A.createElement("input",vy(my({ref:E=>{this.input=E},className:a.expand(a.element(l,"input"),t.inputClass),defaultValue:t.value,id:t.id,style:t.inputStyle,type:s.inputType,disabled:t.disabled,readOnly:t.readOnly,tabIndex:t.tabIndex,placeholder:t.placeholder},t.inputAttrs),{onMouseMove:this.onMouseMove.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onInput:E=>this.onChange(E,"input"),onChange:E=>this.onChange(E,"change"),onKeyDown:this.onKeyDown.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onClick:Ft})),m,c,i,n)}onFocus(){let{instance:e,data:t}=this.props,{widget:i}=e;i.trackFocus&&(this.setState({focus:!0}),e.set("focused",!0)),t.error&&t.value&&e.setState({visited:!0})}onBlur(e){this.state.focus&&(this.setState({focus:!1}),this.props.instance.set("focused",!1)),this.onChange(e,"blur")}onClearClick(e){this.props.instance.set("value",this.props.instance.widget.emptyValue,{immediate:!0})}onMouseMove(e){pi(e,...jt(this.props.instance))}onMouseLeave(e){Wr(e,...jt(this.props.instance))}componentDidMount(){gn(this.input,...jt(this.props.instance)),zr(this.input,this)}componentDidUpdate(){zr(this.input,this)}componentWillUnmount(){yn(this.props.instance)}onKeyDown(e){let{instance:t}=this.props;if(t.widget.handleKeyDown(e,t)!==!1)switch(e.keyCode){case be.enter:this.onChange(e,"enter");break;case be.left:case be.right:e.stopPropagation();break}}UNSAFE_componentWillReceiveProps(e){let{data:t}=e;t.value!=this.input.value&&t.value!=this.props.data.value&&(this.input.value=t.value||""),Rs(this.input,...jt(e.instance))}onChange(e,t){let{instance:i,data:n}=this.props,s=t=="blur"||t=="enter";s&&i.setState({visited:!0});let{widget:o}=i;if(o.reactOn.indexOf(t)!=-1){let a=e.target.value;n.maxLength!=null&&a.length>n.maxLength&&(a=a.substring(0,n.maxLength),this.input.value=a);let l=a||o.emptyValue;i.set("value",l,{immediate:s})?l&&i.setState({visited:!0}):a!=this.input.value&&(this.input.value=a)}}}ce.alias("textfield",Ve);var yy=Object.defineProperty,by=Object.defineProperties,wy=Object.getOwnPropertyDescriptors,Au=Object.getOwnPropertySymbols,Ey=Object.prototype.hasOwnProperty,Cy=Object.prototype.propertyIsEnumerable,Mu=(r,e,t)=>e in r?yy(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Oy=(r,e)=>{for(var t in e||(e={}))Ey.call(e,t)&&Mu(r,t,e[t]);if(Au)for(var t of Au(e))Cy.call(e,t)&&Mu(r,t,e[t]);return r},_y=(r,e)=>by(r,wy(e));class _r extends Ve{declareData(){super.declareData({rows:void 0},...arguments)}prepareData(e,t){let{state:i,data:n,cached:s}=t;(!s.data||n.value!=s.data.value)&&(i.empty=!n.value),super.prepareData(e,t)}renderInput(e,t,i){return A.createElement(Sy,{key:i,data:t.data,instance:t,label:this.labelPlacement&&ft(this.renderLabel(e,t,"label")),help:this.helpPlacement&&ft(this.renderHelp(e,t,"help"))})}validateRequired(e,t){return t.state.empty&&this.requiredText}}_r.prototype.baseClass="textarea",_r.prototype.reactOn="blur",_r.prototype.suppressErrorsUntilVisited=!0;class Sy extends A.Component{constructor(e){super(e);this.state={focus:!1}}render(){let{instance:e,label:t,help:i}=this.props,{widget:n,data:s,state:o}=e,{CSS:a,baseClass:l,suppressErrorsUntilVisited:u}=n,c=this.input?!this.input.value:s.empty;return A.createElement("div",{className:a.expand(s.classNames,a.state({visited:o.visited,focus:this.state.focus,empty:c&&!s.placeholder,error:s.error&&(o.visited||!u||!c)})),style:s.style,onMouseDown:Ft,onTouchStart:Ft},A.createElement("textarea",_y(Oy({className:a.element(l,"input"),ref:m=>{this.input=m},id:s.id,rows:s.rows,style:s.inputStyle,defaultValue:s.value,disabled:s.disabled,readOnly:s.readOnly,tabIndex:s.tabIndex,placeholder:s.placeholder},s.inputAttrs),{onInput:m=>this.onChange(m,"input"),onChange:m=>this.onChange(m,"change"),onBlur:m=>{this.onChange(m,"blur")},onFocus:m=>this.onFocus(),onClick:Ft,onKeyDown:m=>this.onKeyDown(m),onMouseMove:m=>pi(m,...jt(e)),onMouseLeave:m=>Wr(m,...jt(e))})),t,i)}componentWillUnmount(){yn(this.props.instance)}componentDidMount(){gn(this.input,...jt(this.props.instance)),zr(this.input,this)}componentDidUpdate(){zr(this.input,this)}onKeyDown(e){let{instance:t}=this.props;if(t.widget.handleKeyDown(e,t)!==!1)switch(e.keyCode){case be.down:case be.up:case be.left:case be.right:e.stopPropagation();break}}UNSAFE_componentWillReceiveProps({data:e,instance:t}){e.value!=this.props.data.value&&(this.input.value=e.value||""),Rs(this.input,...jt(t))}onChange(e,t){let{instance:i,data:n}=this.props,{widget:s}=i;if(t=="blur"&&(i.setState({visited:!0}),this.state.focus&&this.setState({focus:!1})),n.required&&i.setState({empty:!e.target.value}),i.widget.reactOn.indexOf(t)!=-1){let o=e.target.value||s.emptyValue;i.set("value",o)}}onFocus(){let{instance:e}=this.props,{widget:t}=e;t.trackFocus&&this.setState({focus:!0})}}ce.alias("textarea",_r);class Si extends nt{declareData(){super.declareData(...arguments,{name:void 0})}explore(e,t){t.content=null;let{data:i}=t;const n=e.content&&e.content[i.name];n&&!this.scoped?this.setContent(e,t,n):e.pushNamedValue("contentPlaceholder",i.name,s=>{this.setContent(e,t,s)}),this.scoped&&(t.unregisterContentPlaceholder=()=>{e.popNamedValue("contentPlaceholder",i.name)}),super.explore(e,t)}prepare(e,t){let{content:i}=t;(t.cache("content",i)||i&&i.shouldUpdate)&&t.markShouldUpdate(e)}setContent(e,t,i){t.content=i,i.contentPlaceholder=t}render(e,t,i){const{content:n}=t;return n?n.contentVDOM:super.render(e,t,i)}}Si.prototype.name="body",Si.prototype.scoped=!1,ce.alias("content-placeholder",Si);class cb extends null{init(){super.init(),isString(this.name)&&(this.name=[this.name])}explore(e,t){this.name.forEach(i=>{e.pushNamedValue("contentPlaceholder",i,null),e.pushNamedValue("content",i,null)}),super.explore(e,t)}exploreCleanup(e,t){this.name.forEach(i=>{e.popNamedValue("contentPlaceholder",i),e.popNamedValue("content",i)})}}class Ht extends Ue{init(){g(this.closeable)&&(this.closable=this.closeable),P(this.headerStyle)&&(this.headerStyle=oe(this.headerStyle)),P(this.footerStyle)&&(this.footerStyle=oe(this.footerStyle)),P(this.bodyStyle)&&(this.bodyStyle=oe(this.bodyStyle)),super.init()}declareData(){return super.declareData(...arguments,{title:void 0,closable:void 0,bodyStyle:{structured:!0},bodyClass:{structured:!0},headerStyle:{structured:!0},footerStyle:{structured:!0}})}initHelpers(){return super.initHelpers(...arguments,{header:ce.create(this.header||{type:Si,name:"header",scoped:!0}),footer:ce.create(this.footer||{type:Si,name:"footer",scoped:!0}),close:this.closable&&Et.create({mod:"hollow",dismiss:!0,icon:"close",style:"margin-left: auto",onTouchStart:Ft,onMouseDown:Ft})})}exploreCleanup(e,t){super.exploreCleanup(e,t);let{helpers:i}=t,n=i.header&&i.header.unregisterContentPlaceholder;n&&n();let s=i.footer&&i.footer.unregisterContentPlaceholder;s&&s()}renderHeader(e,t,i){let{data:n}=t,s=[];if(n.title&&s.push(n.title),t.helpers){let o=ft(t.helpers.header&&t.helpers.header.render(e,i));o&&s.push(o),n.closable&&t.helpers.close&&s.push(ft(t.helpers.close.render(e)))}return s}renderFooter(e,t,i){return ft(t.helpers&&t.helpers.footer&&t.helpers.footer.render(e,i))}render(e,t,i){var n=this.renderHeader(e,t,"header"),s=this.renderFooter(e,t,"footer");return A.createElement(xy,{key:i,instance:t,header:n,footer:s},this.renderContents(e,t))}}Ht.prototype.baseClass="window",Ht.prototype.closable=!0,Ht.prototype.resizable=!1,Ht.prototype.fixed=!1,Ht.prototype.autoFocus=!0,Ht.prototype.focusable=!0,ce.alias("window",Ht),mr.registerPrototype("cx/widgets/Window",Ht);class xy extends vu{renderOverlayBody(){var{widget:e,data:t}=this.props.instance,{CSS:i,baseClass:n}=e;let s,o;this.props.header.length>0&&(s=A.createElement("header",{key:"header",ref:l=>{this.headerEl=l},className:i.element(n,"header"),style:t.headerStyle,onMouseDown:this.onHeaderMouseDown.bind(this),onMouseUp:An,onMouseMove:this.onHeaderMouseMove.bind(this),onTouchStart:this.onHeaderMouseDown.bind(this),onTouchEnd:An,onTouchMove:this.onHeaderMouseMove.bind(this)},this.props.header)),this.props.footer&&(o=A.createElement("footer",{key:"footer",ref:l=>{this.footerEl=l},className:i.element(n,"footer"),style:t.footerStyle},this.props.footer));var a=A.createElement("div",{key:"body",ref:l=>{this.bodyEl=l},className:i.expand(i.element(e.baseClass,"body"),t.bodyClass),style:t.bodyStyle},this.props.children);return[s,a,o]}getOverlayCssClass(){var e=super.getOverlayCssClass();return this.state.active&&(e+=" cxs-active"),e}onFocusIn(){super.onFocusIn(),this.state.active||(this.containerEl.contains(document.activeElement)&&this.setZIndex(eo.next()),this.setState({active:!0}))}onFocusOut(){super.onFocusOut(),this.state.active&&this.setState({active:!1})}onHeaderMouseDown(e){e.stopPropagation(),Rn(e)}onHeaderMouseMove(e){e.stopPropagation(),!this.props.instance.widget.fixed&&Mn(e)&&this.startMoveOperation(e)}}function Py(r){return new Promise(e=>{Ht.create({$type:Ht,title:"JSON",modal:!0,center:!0,bodyClass:"flex flex-col",style:"width: 800px; height: 800px;",onDestroy:()=>e(!1),closeOnEscape:!0,jsxAttributes:["title","modal","center","bodyClass","style","onDestroy","closeOnEscape"],children:[{$type:_r,readonly:!0,class:"p-8 w-full h-full",value:r,jsxAttributes:["readonly","class","value"],children:[r]}]}).open()})}const Dy={onInit(){this.store.init("data.discount",0),this.store.init("showJSON",!1)},deletedProduct(){var r;const e=store.get("$record"),i=((r=this.store.get("deleted"))!=null?r:[]).filter(n=>n.EAN!=e.EAN);this.store.set("deleted",i)},validateJSON(){var r;const e=(r=this.store.get("oldJSON"))!=null?r:"";if(e.length>0)try{let t=JSON.parse(e);if(t.PRODUCT_PRICE){const i=Object.keys(t.PRODUCT_PRICE).map(n=>({EAN:n,Price:t.PRODUCT_PRICE[n]}));this.store.set("records",i)}if(t.DELETED_PRODUCTS){const i=Ny(t.DELETED_PRODUCTS);this.store.set("deleted",i)}if(t.CUSTOM_PRODUCTS){let i=t.CUSTOM_PRODUCTS;i=i.map(n=>({Number:n.Number,Brand:n.Brand,Description:n.Description,Quantity:n.Quantity,newEAN:n.EAN,newPrice:n.Price})),this.store.set("products",i)}t.DISCOUNT_ON_ALL_ARTICLES&&this.store.set("data.discount",t.DISCOUNT_ON_ALL_ARTICLES)}catch(t){alert("Invalid JSON.")}this.store.set("showJSON",!0)},deleteRecordFromContextMenu(r,{store:e}){var t;const i=e.get("$record"),s=((t=this.store.get("records"))!=null?t:[]).filter(o=>o.EAN!=i.EAN);this.store.set("records",s)},deleteProductFromContextMenu(r,{store:e}){var t;const i=e.get("$record"),s=((t=this.store.get("products"))!=null?t:[]).filter(o=>o.EAN!=i.EAN);this.store.set("products",s)},deleteProduct(r,{store:e}){var t;const i=this.store.get("deletePr"),n=(t=this.store.get("deleted"))!=null?t:[];let s=!1;n.forEach(o=>{if(o.EAN==i){alert("item is alreday in list"),s=!0;return}}),!s&&this.store.set("deleted",[...n,{EAN:i}])},addNewProduct(r,{store:e}){var t;const i=(t=this.store.get("products"))!=null?t:[],n=this.store.get("data.Number"),s=this.store.get("data.Brand"),o=this.store.get("data.newEAN"),a=this.store.get("data.newPrice"),l=this.store.get("data.Quantity"),u=this.store.get("data.Description");let c=!1;i.forEach(m=>{if(m.newEAN==o){alert("item is alreday in list"),c=!0;return}}),!c&&this.store.set("products",[...i,{Number:n,Brand:s,Description:u,Quantity:l,newEAN:o,newPrice:a}])},addNewEntry(r,{store:e}){var t;const i=(t=this.store.get("records"))!=null?t:[],n=this.store.get("data.EAN");let s=!1;if(i.forEach(a=>{if(a.EAN==n){alert("item is alreday in list"),s=!0;return}}),s)return;const o=this.store.get("data.Price");this.store.set("records",[...i,{EAN:n,Price:o}])},showJSON(){var r,e,t,i;const n=(r=this.store.get("records"))!=null?r:[],s=(e=this.store.get("data.discount"))!=null?e:0,o=(t=this.store.get("deleted"))!=null?t:[];let a=(i=this.store.get("products"))!=null?i:[];a=a.map(u=>({Number:u.Number,Brand:u.Brand,Description:u.Description,Quantity:u.Quantity,EAN:u.newEAN,Price:u.newPrice}));const l={DISCOUNT_ON_ALL_ARTICLES:s,PRODUCT_PRICE:Ty(n),DELETED_PRODUCTS:Iy(o),CUSTOM_PRODUCTS:a};Py(JSON.stringify(l,null,4))}};function Ty(r){const e={};return r.forEach(t=>{e[t.EAN]=t.Price}),e}function Iy(r){let e=[];return r.forEach(t=>{e.push(t.EAN)}),e}function Ny(r){const e=[];return r.forEach(t=>{e.push({EAN:t})}),e}const ky=qa(()=>({$type:Ie,tag:"div",class:"overflow-auto mt-8 ml-32 p-8",controller:Dy,jsxAttributes:["class","controller"],children:[{$type:Ie,tag:"div",visible:{expr:"!{showJSON}"},class:"flex flex-col w-12/12",jsxAttributes:["visible","class"],children:[{$type:_r,label:"JSON",class:"h-96 w-full",value:{bind:"oldJSON"},jsxAttributes:["label","class","value"]},{$type:Ie,tag:"br"},{$type:Et,class:"w-32",mod:"primary",text:"Enter",onClick:"validateJSON",jsxAttributes:["class","mod","text","onClick"]}]},{$type:Ie,tag:"div",visible:{expr:"{showJSON}"},jsxAttributes:["visible"],children:[{$type:Ve,placeholder:"Discount",inputClass:"border-transparent rounded-none bg-white border",focused:{bind:"search.visible",debounce:300},trackFocus:!0,label:"Discount",inputAttrs:{autoComplete:"off"},value:{bind:"data.discount"},jsxAttributes:["placeholder","inputClass","focused","trackFocus","label","inputAttrs","value"]},{$type:Ie,tag:"div",class:"flex justify-center",jsxAttributes:["class"],children:[{$type:Ie,tag:"div",class:"mt-8 bg-gray-50 p-4 w-1/2",jsxAttributes:["class"],children:[{$type:Ie,tag:"h4",class:"text-center",jsxAttributes:["class"],children:["Change Product Price"]},{$type:Ie,tag:"div",class:"w-96 flex flex-col mt-4",layout:bi,jsxAttributes:["class","layout"],children:[{$type:Ve,placeholder:"EAN",inputClass:"border-transparent rounded-none bg-white border",label:"EAN",inputAttrs:{autoComplete:"off"},value:{bind:"data.EAN"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Ve,placeholder:"Price",inputClass:"border-transparent rounded-none bg-white border",label:"Price",inputAttrs:{autoComplete:"off"},value:{bind:"data.Price"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Et,mod:"primary",onClick:"addNewEntry",text:"Change Price",jsxAttributes:["mod","onClick","text"]}]},{$type:Oe,emptyText:"No data...",records:{bind:"records"},style:{width:"80%",height:400,border:"1px solid #eee",marginTop:30},scrollable:!0,columns:[{header:"EAN",field:"EAN",sortable:!0},{header:"Price",field:"Price",sortable:!0}],onRowContextMenu:(r,e)=>{so(r,{$type:et,children:[{$type:Le,onClick:"deleteRecordFromContextMenu",autoClose:!0,jsxAttributes:["onClick","autoClose"],children:[" Delete "]}]},e)},jsxAttributes:["emptyText","records","style","scrollable","columns","onRowContextMenu"]}]},{$type:Ie,tag:"div",class:"mt-8 bg-gray-50 p-4 w-1/2",jsxAttributes:["class"],children:[{$type:Ie,tag:"h4",class:"text-center",jsxAttributes:["class"],children:["Add Custom Products"]},{$type:Ie,tag:"div",class:"w-96 flex flex-col mt-4",layout:bi,jsxAttributes:["class","layout"],children:[{$type:Ve,placeholder:"Number",inputClass:"border-transparent rounded-none bg-white border",label:"Number",inputAttrs:{autoComplete:"off"},value:{bind:"data.Number"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Ve,placeholder:"Brand",inputClass:"border-transparent rounded-none bg-white border",label:"Brand",inputAttrs:{autoComplete:"off"},value:{bind:"data.Brand"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Ve,placeholder:"EAN",inputClass:"border-transparent rounded-none bg-white border",label:"EAN",inputAttrs:{autoComplete:"off"},value:{bind:"data.newEAN"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Ve,placeholder:"Price",inputClass:"border-transparent rounded-none bg-white border",label:"Price",inputAttrs:{autoComplete:"off"},value:{bind:"data.newPrice"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Ve,placeholder:"Quantity",inputClass:"border-transparent rounded-none bg-white border",label:"Quantity",inputAttrs:{autoComplete:"off"},value:{bind:"data.Quantity"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:_r,inputClass:"border-transparent rounded-none bg-white border",value:{bind:"data.Description"},label:"Description/Name",inputAttrs:{autoComplete:"off"},jsxAttributes:["inputClass","value","label","inputAttrs"]},{$type:Et,mod:"primary",onClick:"addNewProduct",text:"Add New Product",jsxAttributes:["mod","onClick","text"]}]},{$type:Oe,emptyText:"No data...",records:{bind:"products"},style:{width:"100%",height:400,border:"1px solid #eee",marginTop:30},scrollable:!0,columns:[{header:"Number",field:"Number",sortable:!0},{header:"Brand",field:"Brand",sortable:!0},{header:"EAN",field:"newEAN",sortable:!0},{header:"Price",field:"newPrice",sortable:!0},{header:"Quantity",field:"Quantity",sortable:!0},{header:"Description",field:"Description",sortable:!0}],onRowContextMenu:(r,e)=>{so(r,{$type:et,children:[{$type:Le,onClick:"deleteProductFromContextMenu",autoClose:!0,jsxAttributes:["onClick","autoClose"],children:[" Delete "]}]},e)},jsxAttributes:["emptyText","records","style","scrollable","columns","onRowContextMenu"]}]}]},{$type:Ie,tag:"div",class:"mt-8 bg-gray-50 p-4 ",jsxAttributes:["class"],children:[{$type:Ie,tag:"h4",class:"text-center",jsxAttributes:["class"],children:["Delete Products"]},{$type:Ie,tag:"div",class:"w-96 flex flex-col mt-4",layout:bi,jsxAttributes:["class","layout"],children:[{$type:Ve,placeholder:"EAN",inputClass:"border-transparent rounded-none bg-white border",label:"EAN",inputAttrs:{autoComplete:"off"},value:{bind:"deletePr"},showClear:!0,jsxAttributes:["placeholder","inputClass","label","inputAttrs","value","showClear"]},{$type:Et,mod:"danger",onClick:"deleteProduct",text:"Delete Product",jsxAttributes:["mod","onClick","text"]}]},{$type:Oe,emptyText:"No data...",records:{bind:"deleted"},style:{width:"100%",height:400,border:"1px solid #eee",marginTop:30},scrollable:!0,columns:[{header:"EAN",field:"EAN",sortable:!0}],onRowContextMenu:(r,e)=>{so(r,{$type:et,children:[{$type:Le,onClick:"deletedProduct",autoClose:!0,jsxAttributes:["onClick","autoClose"],children:[" Delete "]}]},e)},jsxAttributes:["emptyText","records","style","scrollable","columns","onRowContextMenu"]}]},{$type:Et,class:"mt-8",mod:"danger",text:"Export",onClick:"showJSON",jsxAttributes:["class","mod","text","onClick"]}]}]})),Ry=qa(()=>[{$type:ky},{$type:pn,append:!0,text:"Demo App",separator:" | ",jsxAttributes:["append","text","separator"]}]);q=k.hmd(q),Mc();const oo=new B({data:{user:{firstName:"Test",lastName:"User",initials:"TU",pictureUrl:"https://source.unsplash.com/d-MfHM-jHwc/100x100/?face",email:"test@example.com"}}});window.store=oo,Qn.connect(oo,"url"),ce.resetCounter(),uc.enable("app-loop"),He.enable("app-data"),Ec(q,document.getElementById("app"),oo,Ry)},6982:(q,v,k)=>{var P=k(7363),M=k(1533),L=P;L.DOM=M,q.exports={VDOM:L}},9094:function(q,v,k){"use strict";var P=this&&this.__generator||function(g,C){var O={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},R,V,w,I;return I={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function F(G){return function(x){return U([G,x])}}function U(G){if(R)throw new TypeError("Generator is already executing.");for(;O;)try{if(R=1,V&&(w=G[0]&2?V.return:G[0]?V.throw||((w=V.return)&&w.call(V),0):V.next)&&!(w=w.call(V,G[1])).done)return w;switch(V=0,w&&(G=[G[0]&2,w.value]),G[0]){case 0:case 1:w=G;break;case 4:return O.label++,{value:G[1],done:!1};case 5:O.label++,V=G[1],G=[0];continue;case 7:G=O.ops.pop(),O.trys.pop();continue;default:if(w=O.trys,!(w=w.length>0&&w[w.length-1])&&(G[0]===6||G[0]===2)){O=0;continue}if(G[0]===3&&(!w||G[1]>w[0]&&G[1]<w[3])){O.label=G[1];break}if(G[0]===6&&O.label<w[1]){O.label=w[1],w=G;break}if(w&&O.label<w[2]){O.label=w[2],O.ops.push(G);break}w[2]&&O.ops.pop(),O.trys.pop();continue}G=C.call(g,O)}catch(x){G=[6,x],V=0}finally{R=w=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},M=this&&this.__read||function(g,C){var O=typeof Symbol=="function"&&g[Symbol.iterator];if(!O)return g;var R=O.call(g),V,w=[],I;try{for(;(C===void 0||C-- >0)&&!(V=R.next()).done;)w.push(V.value)}catch(F){I={error:F}}finally{try{V&&!V.done&&(O=R.return)&&O.call(R)}finally{if(I)throw I.error}}return w},L=this&&this.__values||function(g){var C=typeof Symbol=="function"&&Symbol.iterator,O=C&&g[C],R=0;if(O)return O.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&R>=g.length&&(g=void 0),{value:g&&g[R++],done:!g}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(v,"__esModule",{value:!0});var h=k(1038),_=k(8223),p=function(){function g(C){var O=this;if(this._headers={},this._names=new Map,["Headers","HeadersPolyfill"].includes(C==null?void 0:C.constructor.name)||C instanceof g){var R=C;R.forEach(function(V,w){O.append(w,V)},this)}else Array.isArray(C)?C.forEach(function(V){var w=M(V,2),I=w[0],F=w[1];O.append(I,Array.isArray(F)?F.join(", "):F)}):C&&Object.getOwnPropertyNames(C).forEach(function(V){var w=C[V];O.append(V,Array.isArray(w)?w.join(", "):w)})}return g.prototype[Symbol.iterator]=function(){return this.entries()},g.prototype.keys=function(){var C,O,R,V,w,I;return P(this,function(F){switch(F.label){case 0:F.trys.push([0,5,6,7]),C=L(Object.keys(this._headers)),O=C.next(),F.label=1;case 1:return O.done?[3,4]:(R=O.value,[4,R]);case 2:F.sent(),F.label=3;case 3:return O=C.next(),[3,1];case 4:return[3,7];case 5:return V=F.sent(),w={error:V},[3,7];case 6:try{O&&!O.done&&(I=C.return)&&I.call(C)}finally{if(w)throw w.error}return[7];case 7:return[2]}})},g.prototype.values=function(){var C,O,R,V,w,I;return P(this,function(F){switch(F.label){case 0:F.trys.push([0,5,6,7]),C=L(Object.values(this._headers)),O=C.next(),F.label=1;case 1:return O.done?[3,4]:(R=O.value,[4,R]);case 2:F.sent(),F.label=3;case 3:return O=C.next(),[3,1];case 4:return[3,7];case 5:return V=F.sent(),w={error:V},[3,7];case 6:try{O&&!O.done&&(I=C.return)&&I.call(C)}finally{if(w)throw w.error}return[7];case 7:return[2]}})},g.prototype.entries=function(){var C,O,R,V,w,I;return P(this,function(F){switch(F.label){case 0:F.trys.push([0,5,6,7]),C=L(Object.keys(this._headers)),O=C.next(),F.label=1;case 1:return O.done?[3,4]:(R=O.value,[4,[R,this.get(R)]]);case 2:F.sent(),F.label=3;case 3:return O=C.next(),[3,1];case 4:return[3,7];case 5:return V=F.sent(),w={error:V},[3,7];case 6:try{O&&!O.done&&(I=C.return)&&I.call(C)}finally{if(w)throw w.error}return[7];case 7:return[2]}})},g.prototype.get=function(C){return this._headers[h.normalizeHeaderName(C)]||null},g.prototype.set=function(C,O){var R=h.normalizeHeaderName(C);this._headers[R]=_.normalizeHeaderValue(O),this._names.set(R,C)},g.prototype.append=function(C,O){var R=this.has(C)?this.get(C)+", "+O:O;this.set(C,R)},g.prototype.delete=function(C){if(!this.has(C))return this;var O=h.normalizeHeaderName(C);return delete this._headers[O],this._names.delete(O),this},g.prototype.all=function(){return this._headers},g.prototype.raw=function(){var C=this;return Object.entries(this._headers).reduce(function(O,R){var V=M(R,2),w=V[0],I=V[1];return O[C._names.get(w)]=I,O},{})},g.prototype.has=function(C){return this._headers.hasOwnProperty(h.normalizeHeaderName(C))},g.prototype.forEach=function(C,O){for(var R in this._headers)this._headers.hasOwnProperty(R)&&C.call(O,this._headers[R],R,this)},g}();v.default=p},6142:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.flattenHeadersObject=v.flattenHeadersList=v.reduceHeadersObject=v.objectToHeaders=v.listToHeaders=v.stringToHeaders=v.headersToObject=v.headersToList=v.headersToString=v.Headers=void 0;var P=k(9094);Object.defineProperty(v,"Headers",{enumerable:!0,get:function(){return P.default}});var M=k(577);Object.defineProperty(v,"headersToString",{enumerable:!0,get:function(){return M.headersToString}});var L=k(379);Object.defineProperty(v,"headersToList",{enumerable:!0,get:function(){return L.headersToList}});var h=k(6935);Object.defineProperty(v,"headersToObject",{enumerable:!0,get:function(){return h.headersToObject}});var _=k(3342);Object.defineProperty(v,"stringToHeaders",{enumerable:!0,get:function(){return _.stringToHeaders}});var p=k(7350);Object.defineProperty(v,"listToHeaders",{enumerable:!0,get:function(){return p.listToHeaders}});var g=k(1431);Object.defineProperty(v,"objectToHeaders",{enumerable:!0,get:function(){return g.objectToHeaders}});var C=k(6691);Object.defineProperty(v,"reduceHeadersObject",{enumerable:!0,get:function(){return C.reduceHeadersObject}});var O=k(3224);Object.defineProperty(v,"flattenHeadersList",{enumerable:!0,get:function(){return O.flattenHeadersList}});var R=k(3577);Object.defineProperty(v,"flattenHeadersObject",{enumerable:!0,get:function(){return R.flattenHeadersObject}})},3224:function(q,v){"use strict";var k=this&&this.__read||function(M,L){var h=typeof Symbol=="function"&&M[Symbol.iterator];if(!h)return M;var _=h.call(M),p,g=[],C;try{for(;(L===void 0||L-- >0)&&!(p=_.next()).done;)g.push(p.value)}catch(O){C={error:O}}finally{try{p&&!p.done&&(h=_.return)&&h.call(_)}finally{if(C)throw C.error}}return g};Object.defineProperty(v,"__esModule",{value:!0}),v.flattenHeadersList=void 0;function P(M){return M.map(function(L){var h=k(L,2),_=h[0],p=h[1];return[_,[].concat(p).join("; ")]})}v.flattenHeadersList=P},3577:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.flattenHeadersObject=void 0;var P=k(6691);function M(L){return P.reduceHeadersObject(L,function(h,_,p){return h[_]=[].concat(p).join("; "),h},{})}v.flattenHeadersObject=M},379:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.headersToList=void 0;function k(P){var M=[];return P.forEach(function(L,h){var _=L.includes(",")?L.split(",").map(function(p){return p.trim()}):L;M.push([h,_])}),M}v.headersToList=k},6935:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.headersToObject=void 0;var k=["user-agent"];function P(M){var L={};return M.forEach(function(h,_){var p=!k.includes(_.toLowerCase())&&h.includes(",");L[_]=p?h.split(",").map(function(g){return g.trim()}):h}),L}v.headersToObject=P},577:function(q,v,k){"use strict";var P=this&&this.__read||function(h,_){var p=typeof Symbol=="function"&&h[Symbol.iterator];if(!p)return h;var g=p.call(h),C,O=[],R;try{for(;(_===void 0||_-- >0)&&!(C=g.next()).done;)O.push(C.value)}catch(V){R={error:V}}finally{try{C&&!C.done&&(p=g.return)&&p.call(g)}finally{if(R)throw R.error}}return O};Object.defineProperty(v,"__esModule",{value:!0}),v.headersToString=void 0;var M=k(379);function L(h){var _=M.headersToList(h),p=_.map(function(g){var C=P(g,2),O=C[0],R=C[1],V=[].concat(R);return O+": "+V.join(", ")});return p.join(`\r
`)}v.headersToString=L},7350:function(q,v,k){"use strict";var P=this&&this.__read||function(h,_){var p=typeof Symbol=="function"&&h[Symbol.iterator];if(!p)return h;var g=p.call(h),C,O=[],R;try{for(;(_===void 0||_-- >0)&&!(C=g.next()).done;)O.push(C.value)}catch(V){R={error:V}}finally{try{C&&!C.done&&(p=g.return)&&p.call(g)}finally{if(R)throw R.error}}return O};Object.defineProperty(v,"__esModule",{value:!0}),v.listToHeaders=void 0;var M=k(9094);function L(h){var _=new M.default;return h.forEach(function(p){var g=P(p,2),C=g[0],O=g[1],R=[].concat(O);R.forEach(function(V){_.append(C,V)})}),_}v.listToHeaders=L},1431:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.objectToHeaders=void 0;var P=k(9094),M=k(6691);function L(h){return M.reduceHeadersObject(h,function(_,p,g){var C=[].concat(g).filter(Boolean);return C.forEach(function(O){_.append(p,O)}),_},new P.default)}v.objectToHeaders=L},6691:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.reduceHeadersObject=void 0;function k(P,M,L){return Object.keys(P).reduce(function(h,_){return M(h,_,P[_])},L)}v.reduceHeadersObject=k},3342:(q,v,k)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.stringToHeaders=void 0;var P=k(9094);function M(L){var h=L.trim().split(/[\r\n]+/);return h.reduce(function(_,p){var g=p.split(": "),C=g.shift(),O=g.join(": ");return _.append(C,O),_},new P.default)}v.stringToHeaders=M},1038:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.normalizeHeaderName=void 0;var k=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function P(M){if(typeof M!="string"&&(M=String(M)),k.test(M)||M.trim()==="")throw new TypeError("Invalid character in header field name");return M.toLowerCase()}v.normalizeHeaderName=P},8223:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.normalizeHeaderValue=void 0;function k(P){return typeof P!="string"&&(P=String(P)),P}v.normalizeHeaderValue=k},9893:()=>{"use strict"},5119:()=>{"use strict"},7824:q=>{var v=1e3,k=v*60,P=k*60,M=P*24,L=M*7,h=M*365.25;q.exports=function(O,R){R=R||{};var V=typeof O;if(V==="string"&&O.length>0)return _(O);if(V==="number"&&isFinite(O))return R.long?g(O):p(O);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(O))};function _(O){if(O=String(O),!(O.length>100)){var R=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(O);if(!!R){var V=parseFloat(R[1]),w=(R[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return V*h;case"weeks":case"week":case"w":return V*L;case"days":case"day":case"d":return V*M;case"hours":case"hour":case"hrs":case"hr":case"h":return V*P;case"minutes":case"minute":case"mins":case"min":case"m":return V*k;case"seconds":case"second":case"secs":case"sec":case"s":return V*v;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return V;default:return}}}}function p(O){var R=Math.abs(O);return R>=M?Math.round(O/M)+"d":R>=P?Math.round(O/P)+"h":R>=k?Math.round(O/k)+"m":R>=v?Math.round(O/v)+"s":O+"ms"}function g(O){var R=Math.abs(O);return R>=M?C(O,R,M,"day"):R>=P?C(O,R,P,"hour"):R>=k?C(O,R,k,"minute"):R>=v?C(O,R,v,"second"):O+" ms"}function C(O,R,V,w){var I=R>=V*1.5;return Math.round(O/V)+" "+w+(I?"s":"")}},3300:(q,v)=>{"use strict";var k=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof P!="undefined")return P;throw new Error("unable to locate global object")},P=k();q.exports=v=P.fetch,P.fetch&&(v.default=P.fetch.bind(P)),v.Headers=P.Headers,v.Request=P.Request,v.Response=P.Response},8602:(q,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.format=void 0;var k=/(%?)(%([sdjo]))/g;function P(L,h){switch(h){case"s":return L;case"d":case"i":return Number(L);case"j":return JSON.stringify(L);case"o":{if(typeof L=="string")return L;var _=JSON.stringify(L);return _==="{}"||_==="[]"||/^\[object .+?\]$/.test(_)?L:_}}}function M(L){for(var h=[],_=1;_<arguments.length;_++)h[_-1]=arguments[_];if(h.length===0)return L;var p=0,g=L.replace(k,function(C,O,R,V){var w=h[p],I=P(w,V);return O?C:(p++,I)});return p<h.length&&(g+=" "+h.slice(p).join(" ")),g=g.replace(/%{2,2}/g,"%"),g}v.format=M},8987:function(q,v,k){"use strict";var P=this&&this.__createBinding||(Object.create?function(L,h,_,p){p===void 0&&(p=_),Object.defineProperty(L,p,{enumerable:!0,get:function(){return h[_]}})}:function(L,h,_,p){p===void 0&&(p=_),L[p]=h[_]}),M=this&&this.__exportStar||function(L,h){for(var _ in L)_!=="default"&&!Object.prototype.hasOwnProperty.call(h,_)&&P(h,L,_)};Object.defineProperty(v,"__esModule",{value:!0}),M(k(2413),v),M(k(8602),v)},2413:function(q,v,k){"use strict";var P=this&&this.__extends||function(){var g=function(C,O){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,V){R.__proto__=V}||function(R,V){for(var w in V)Object.prototype.hasOwnProperty.call(V,w)&&(R[w]=V[w])},g(C,O)};return function(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");g(C,O);function R(){this.constructor=C}C.prototype=O===null?Object.create(O):(R.prototype=O.prototype,new R)}}(),M=this&&this.__spreadArray||function(g,C){for(var O=0,R=C.length,V=g.length;O<R;O++,V++)g[V]=C[O];return g};Object.defineProperty(v,"__esModule",{value:!0}),v.invariant=v.InvariantError=void 0;var L=k(8602),h=2,_=function(g){P(C,g);function C(O){for(var R=[],V=1;V<arguments.length;V++)R[V-1]=arguments[V];var w=g.call(this,O)||this;if(w.name="Invariant Violation",w.message=L.format.apply(void 0,M([O],R)),w.stack){var I=w.stack.split(`
`);I.splice(1,h),w.stack=I.join(`
`)}return w}return C}(Error);v.InvariantError=_;function p(g,C){for(var O=[],R=2;R<arguments.length;R++)O[R-2]=arguments[R];if(!g)throw new(_.bind.apply(_,M([void 0,C],O)))}v.invariant=p},962:(q,v,k)=>{"use strict";var P=k(8152);q.exports=P},8152:(q,v,k)=>{"use strict";var P=k(8100),M=k(5636),L=k(4964);h.prototype=Object.create(null),h.prototype.match=function(_){var p=M.visit(this.ast),g=p.match(_);return g||!1},h.prototype.reverse=function(_){return L.visit(this.ast,_)};function h(_){var p;if(this?p=this:p=Object.create(h.prototype),typeof _=="undefined")throw new Error("A route spec is required");return p.spec=_,p.ast=P.parse(_),p}q.exports=h},3390:(q,v)=>{var k,P=function(){var M=function(V,w,I,F){for(I=I||{},F=V.length;F--;I[V[F]]=w);return I},L=[1,9],h=[1,10],_=[1,11],p=[1,12],g=[5,11,12,13,14,15],C={trace:function(){},yy:{},symbols_:{error:2,root:3,expressions:4,EOF:5,expression:6,optional:7,literal:8,splat:9,param:10,"(":11,")":12,LITERAL:13,SPLAT:14,PARAM:15,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"(",12:")",13:"LITERAL",14:"SPLAT",15:"PARAM"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[6,1],[7,3],[8,1],[9,1],[10,1]],performAction:function(w,I,F,U,G,x,W){var S=x.length-1;switch(G){case 1:return new U.Root({},[x[S-1]]);case 2:return new U.Root({},[new U.Literal({value:""})]);case 3:this.$=new U.Concat({},[x[S-1],x[S]]);break;case 4:case 5:this.$=x[S];break;case 6:this.$=new U.Literal({value:x[S]});break;case 7:this.$=new U.Splat({name:x[S]});break;case 8:this.$=new U.Param({name:x[S]});break;case 9:this.$=new U.Optional({},[x[S-1]]);break;case 10:this.$=w;break;case 11:case 12:this.$=w.slice(1);break}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:8,11:L,13:h,14:_,15:p},{1:[3]},{5:[1,13],6:14,7:5,8:6,9:7,10:8,11:L,13:h,14:_,15:p},{1:[2,2]},M(g,[2,4]),M(g,[2,5]),M(g,[2,6]),M(g,[2,7]),M(g,[2,8]),{4:15,6:4,7:5,8:6,9:7,10:8,11:L,13:h,14:_,15:p},M(g,[2,10]),M(g,[2,11]),M(g,[2,12]),{1:[2,1]},M(g,[2,3]),{6:14,7:5,8:6,9:7,10:8,11:L,12:[1,16],13:h,14:_,15:p},M(g,[2,9])],defaultActions:{3:[2,2],13:[2,1]},parseError:function(w,I){if(I.recoverable)this.trace(w);else{let U=function(G,x){this.message=G,this.hash=x};var F=U;throw U.prototype=Error,new U(w,I)}},parse:function(w){var I=this,F=[0],U=[],G=[null],x=[],W=this.table,S="",b=0,j=0,N=0,T=2,B=1,te=x.slice.call(arguments,1),H=Object.create(this.lexer),J={yy:{}};for(var ne in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ne)&&(J.yy[ne]=this.yy[ne]);H.setInput(w,J.yy),J.yy.lexer=H,J.yy.parser=this,typeof H.yylloc=="undefined"&&(H.yylloc={});var oe=H.yylloc;x.push(oe);var ae=H.options&&H.options.ranges;typeof J.yy.parseError=="function"?this.parseError=J.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(Ne){F.length=F.length-2*Ne,G.length=G.length-Ne,x.length=x.length-Ne}e:var le=function(){var Ne;return Ne=H.lex()||B,typeof Ne!="number"&&(Ne=I.symbols_[Ne]||Ne),Ne};for(var he,fe,pe,ue,ze,Re,He={},Je,we,Pe,yt;;){if(pe=F[F.length-1],this.defaultActions[pe]?ue=this.defaultActions[pe]:((he===null||typeof he=="undefined")&&(he=le()),ue=W[pe]&&W[pe][he]),typeof ue=="undefined"||!ue.length||!ue[0]){var De="";yt=[];for(Je in W[pe])this.terminals_[Je]&&Je>T&&yt.push("'"+this.terminals_[Je]+"'");H.showPosition?De="Parse error on line "+(b+1)+`:
`+H.showPosition()+`
Expecting `+yt.join(", ")+", got '"+(this.terminals_[he]||he)+"'":De="Parse error on line "+(b+1)+": Unexpected "+(he==B?"end of input":"'"+(this.terminals_[he]||he)+"'"),this.parseError(De,{text:H.match,token:this.terminals_[he]||he,line:H.yylineno,loc:oe,expected:yt})}if(ue[0]instanceof Array&&ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+he);switch(ue[0]){case 1:F.push(he),G.push(H.yytext),x.push(H.yylloc),F.push(ue[1]),he=null,fe?(he=fe,fe=null):(j=H.yyleng,S=H.yytext,b=H.yylineno,oe=H.yylloc,N>0&&N--);break;case 2:if(we=this.productions_[ue[1]][1],He.$=G[G.length-we],He._$={first_line:x[x.length-(we||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(we||1)].first_column,last_column:x[x.length-1].last_column},ae&&(He._$.range=[x[x.length-(we||1)].range[0],x[x.length-1].range[1]]),Re=this.performAction.apply(He,[S,j,b,J.yy,ue[1],G,x].concat(te)),typeof Re!="undefined")return Re;we&&(F=F.slice(0,-1*we*2),G=G.slice(0,-1*we),x=x.slice(0,-1*we)),F.push(this.productions_[ue[1]][0]),G.push(He.$),x.push(He._$),Pe=W[F[F.length-2]][F[F.length-1]],F.push(Pe);break;case 3:return!0}}return!0}},O=function(){var V={EOF:1,parseError:function(I,F){if(this.yy.parser)this.yy.parser.parseError(I,F);else throw new Error(I)},setInput:function(w,I){return this.yy=I||this.yy||{},this._input=w,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var I=w.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),w},unput:function(w){var I=w.length,F=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var U=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===U.length?this.yylloc.first_column:0)+U[U.length-F.length].length-F[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(w){this.unput(this.match.slice(w))},pastInput:function(){var w=this.matched.substr(0,this.matched.length-this.match.length);return(w.length>20?"...":"")+w.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var w=this.match;return w.length<20&&(w+=this._input.substr(0,20-w.length)),(w.substr(0,20)+(w.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var w=this.pastInput(),I=new Array(w.length+1).join("-");return w+this.upcomingInput()+`
`+I+"^"},test_match:function(w,I){var F,U,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),U=w[0].match(/(?:\r\n?|\n).*/g),U&&(this.yylineno+=U.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:U?U[U.length-1].length-U[U.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+w[0].length},this.yytext+=w[0],this.match+=w[0],this.matches=w,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(w[0].length),this.matched+=w[0],F=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var x in G)this[x]=G[x];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var w,I,F,U;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),x=0;x<G.length;x++)if(F=this._input.match(this.rules[G[x]]),F&&(!I||F[0].length>I[0].length)){if(I=F,U=x,this.options.backtrack_lexer){if(w=this.test_match(F,G[x]),w!==!1)return w;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(w=this.test_match(I,G[U]),w!==!1?w:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var I=this.next();return I||this.lex()},begin:function(I){this.conditionStack.push(I)},popState:function(){var I=this.conditionStack.length-1;return I>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(I){return I=this.conditionStack.length-1-Math.abs(I||0),I>=0?this.conditionStack[I]:"INITIAL"},pushState:function(I){this.begin(I)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(I,F,U,G){var x=G;switch(U){case 0:return"(";case 1:return")";case 2:return"SPLAT";case 3:return"PARAM";case 4:return"LITERAL";case 5:return"LITERAL";case 6:return"EOF"}},rules:[/^(?:\()/,/^(?:\))/,/^(?:\*+\w+)/,/^(?::+\w+)/,/^(?:[\w%\-~\n]+)/,/^(?:.)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}};return V}();C.lexer=O;function R(){this.yy={}}return R.prototype=C,C.Parser=R,new R}();v.E2=P,k=P.Parser,k=function(){return P.parse.apply(P,arguments)}},6197:q=>{"use strict";function v(k){return function(P,M){return{displayName:k,props:P,children:M||[]}}}q.exports={Root:v("Root"),Concat:v("Concat"),Literal:v("Literal"),Splat:v("Splat"),Param:v("Param"),Optional:v("Optional")}},8100:(q,v,k)=>{"use strict";var P=k(3390).E2;P.yy=k(6197),q.exports=P},8771:(q,v,k)=>{"use strict";var P=Object.keys(k(6197));function M(L){return P.forEach(function(h){if(typeof L[h]=="undefined")throw new Error("No handler defined for "+h.displayName)}),{visit:function(h,_){return this.handlers[h.displayName].call(this,h,_)},handlers:L}}q.exports=M},5636:(q,v,k)=>{"use strict";var P=k(8771),M=/[\-{}\[\]+?.,\\\^$|#\s]/g;function L(_){this.captures=_.captures,this.re=_.re}L.prototype.match=function(_){var p=this.re.exec(_),g={};if(!!p)return this.captures.forEach(function(C,O){typeof p[O+1]=="undefined"?g[C]=void 0:g[C]=decodeURIComponent(p[O+1])}),g};var h=P({Concat:function(_){return _.children.reduce(function(p,g){var C=this.visit(g);return{re:p.re+C.re,captures:p.captures.concat(C.captures)}}.bind(this),{re:"",captures:[]})},Literal:function(_){return{re:_.props.value.replace(M,"\\$&"),captures:[]}},Splat:function(_){return{re:"([^?]*?)",captures:[_.props.name]}},Param:function(_){return{re:"([^\\/\\?]+)",captures:[_.props.name]}},Optional:function(_){var p=this.visit(_.children[0]);return{re:"(?:"+p.re+")?",captures:p.captures}},Root:function(_){var p=this.visit(_.children[0]);return new L({re:new RegExp("^"+p.re+"(?=\\?|$)"),captures:p.captures})}});q.exports=h},4964:(q,v,k)=>{"use strict";var P=k(8771),M=P({Concat:function(L,h){var _=L.children.map(function(p){return this.visit(p,h)}.bind(this));return _.some(function(p){return p===!1})?!1:_.join("")},Literal:function(L){return decodeURI(L.props.value)},Splat:function(L,h){return h[L.props.name]?h[L.props.name]:!1},Param:function(L,h){return h[L.props.name]?h[L.props.name]:!1},Optional:function(L,h){var _=this.visit(L.children[0],h);return _||""},Root:function(L,h){h=h||{};var _=this.visit(L.children[0],h);return _?encodeURI(_):!1}});q.exports=M},9328:q=>{"use strict";var v={decodeValues:!0,map:!1,silent:!1};function k(h){return typeof h=="string"&&!!h.trim()}function P(h,_){var p=h.split(";").filter(k),g=p.shift().split("="),C=g.shift(),O=g.join("=");_=_?Object.assign({},v,_):v;try{O=_.decodeValues?decodeURIComponent(O):O}catch(V){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+O+"'. Set options.decodeValues to false to disable this feature.",V)}var R={name:C,value:O};return p.forEach(function(V){var w=V.split("="),I=w.shift().trimLeft().toLowerCase(),F=w.join("=");I==="expires"?R.expires=new Date(F):I==="max-age"?R.maxAge=parseInt(F,10):I==="secure"?R.secure=!0:I==="httponly"?R.httpOnly=!0:I==="samesite"?R.sameSite=F:R[I]=F}),R}function M(h,_){if(_=_?Object.assign({},v,_):v,!h)return _.map?{}:[];if(h.headers&&h.headers["set-cookie"])h=h.headers["set-cookie"];else if(h.headers){var p=h.headers[Object.keys(h.headers).find(function(C){return C.toLowerCase()==="set-cookie"})];!p&&h.headers.cookie&&!_.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),h=p}if(Array.isArray(h)||(h=[h]),_=_?Object.assign({},v,_):v,_.map){var g={};return h.filter(k).reduce(function(C,O){var R=P(O,_);return C[R.name]=R,C},g)}else return h.filter(k).map(function(C){return P(C,_)})}function L(h){if(Array.isArray(h))return h;if(typeof h!="string")return[];var _=[],p=0,g,C,O,R,V;function w(){for(;p<h.length&&/\s/.test(h.charAt(p));)p+=1;return p<h.length}function I(){return C=h.charAt(p),C!=="="&&C!==";"&&C!==","}for(;p<h.length;){for(g=p,V=!1;w();)if(C=h.charAt(p),C===","){for(O=p,p+=1,w(),R=p;p<h.length&&I();)p+=1;p<h.length&&h.charAt(p)==="="?(V=!0,p=R,_.push(h.substring(g,O)),g=p):p=O+1}else p+=1;(!V||p>=h.length)&&_.push(h.substring(g,h.length))}return _}q.exports=M,q.exports.parse=M,q.exports.parseString=P,q.exports.splitCookiesString=L},9585:function(q,v,k){"use strict";var P=this&&this.__extends||function(){var _=function(p,g){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&(C[R]=O[R])},_(p,g)};return function(p,g){_(p,g);function C(){this.constructor=p}p.prototype=g===null?Object.create(g):(C.prototype=g.prototype,new C)}}(),M=this&&this.__spreadArrays||function(){for(var _=0,p=0,g=arguments.length;p<g;p++)_+=arguments[p].length;for(var C=Array(_),O=0,p=0;p<g;p++)for(var R=arguments[p],V=0,w=R.length;V<w;V++,O++)C[O]=R[V];return C};v.__esModule=!0,v.StrictEventEmitter=void 0;var L=k(7664),h=function(_){P(p,_);function p(){return _.call(this)||this}return p.prototype.on=function(g,C){return _.prototype.on.call(this,g.toString(),C)},p.prototype.once=function(g,C){return _.prototype.on.call(this,g.toString(),C)},p.prototype.off=function(g,C){return _.prototype.off.call(this,g.toString(),C)},p.prototype.emit=function(g){for(var C=[],O=1;O<arguments.length;O++)C[O-1]=arguments[O];return _.prototype.emit.apply(this,M([g.toString()],C))},p.prototype.addListener=function(g,C){return _.prototype.addListener.call(this,g.toString(),C)},p.prototype.removeListener=function(g,C){return _.prototype.removeListener.call(this,g.toString(),C)},p}(L.EventEmitter);v.StrictEventEmitter=h},8533:function(q,v,k){"use strict";var P=this&&this.__createBinding||(Object.create?function(L,h,_,p){p===void 0&&(p=_),Object.defineProperty(L,p,{enumerable:!0,get:function(){return h[_]}})}:function(L,h,_,p){p===void 0&&(p=_),L[p]=h[_]});v.__esModule=!0,v.StrictEventEmitter=void 0;var M=k(9585);P(v,M,"StrictEventEmitter")},7664:q=>{"use strict";var v=typeof Reflect=="object"?Reflect:null,k=v&&typeof v.apply=="function"?v.apply:function(b,j,N){return Function.prototype.apply.call(b,j,N)},P;v&&typeof v.ownKeys=="function"?P=v.ownKeys:Object.getOwnPropertySymbols?P=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:P=function(b){return Object.getOwnPropertyNames(b)};function M(S){console&&console.warn&&console.warn(S)}var L=Number.isNaN||function(b){return b!==b};function h(){h.init.call(this)}q.exports=h,q.exports.once=G,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var _=10;function p(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(S){if(typeof S!="number"||S<0||L(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");_=S}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||L(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function g(S){return S._maxListeners===void 0?h.defaultMaxListeners:S._maxListeners}h.prototype.getMaxListeners=function(){return g(this)},h.prototype.emit=function(b){for(var j=[],N=1;N<arguments.length;N++)j.push(arguments[N]);var T=b==="error",B=this._events;if(B!==void 0)T=T&&B.error===void 0;else if(!T)return!1;if(T){var te;if(j.length>0&&(te=j[0]),te instanceof Error)throw te;var H=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw H.context=te,H}var J=B[b];if(J===void 0)return!1;if(typeof J=="function")k(J,this,j);else for(var ne=J.length,oe=I(J,ne),N=0;N<ne;++N)k(oe[N],this,j);return!0};function C(S,b,j,N){var T,B,te;if(p(j),B=S._events,B===void 0?(B=S._events=Object.create(null),S._eventsCount=0):(B.newListener!==void 0&&(S.emit("newListener",b,j.listener?j.listener:j),B=S._events),te=B[b]),te===void 0)te=B[b]=j,++S._eventsCount;else if(typeof te=="function"?te=B[b]=N?[j,te]:[te,j]:N?te.unshift(j):te.push(j),T=g(S),T>0&&te.length>T&&!te.warned){te.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=S,H.type=b,H.count=te.length,M(H)}return S}h.prototype.addListener=function(b,j){return C(this,b,j,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(b,j){return C(this,b,j,!0)};function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R(S,b,j){var N={fired:!1,wrapFn:void 0,target:S,type:b,listener:j},T=O.bind(N);return T.listener=j,N.wrapFn=T,T}h.prototype.once=function(b,j){return p(j),this.on(b,R(this,b,j)),this},h.prototype.prependOnceListener=function(b,j){return p(j),this.prependListener(b,R(this,b,j)),this},h.prototype.removeListener=function(b,j){var N,T,B,te,H;if(p(j),T=this._events,T===void 0)return this;if(N=T[b],N===void 0)return this;if(N===j||N.listener===j)--this._eventsCount===0?this._events=Object.create(null):(delete T[b],T.removeListener&&this.emit("removeListener",b,N.listener||j));else if(typeof N!="function"){for(B=-1,te=N.length-1;te>=0;te--)if(N[te]===j||N[te].listener===j){H=N[te].listener,B=te;break}if(B<0)return this;B===0?N.shift():F(N,B),N.length===1&&(T[b]=N[0]),T.removeListener!==void 0&&this.emit("removeListener",b,H||j)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(b){var j,N,T;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[b]),this;if(arguments.length===0){var B=Object.keys(N),te;for(T=0;T<B.length;++T)te=B[T],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(j=N[b],typeof j=="function")this.removeListener(b,j);else if(j!==void 0)for(T=j.length-1;T>=0;T--)this.removeListener(b,j[T]);return this};function V(S,b,j){var N=S._events;if(N===void 0)return[];var T=N[b];return T===void 0?[]:typeof T=="function"?j?[T.listener||T]:[T]:j?U(T):I(T,T.length)}h.prototype.listeners=function(b){return V(this,b,!0)},h.prototype.rawListeners=function(b){return V(this,b,!1)},h.listenerCount=function(S,b){return typeof S.listenerCount=="function"?S.listenerCount(b):w.call(S,b)},h.prototype.listenerCount=w;function w(S){var b=this._events;if(b!==void 0){var j=b[S];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]};function I(S,b){for(var j=new Array(b),N=0;N<b;++N)j[N]=S[N];return j}function F(S,b){for(;b+1<S.length;b++)S[b]=S[b+1];S.pop()}function U(S){for(var b=new Array(S.length),j=0;j<b.length;++j)b[j]=S[j].listener||S[j];return b}function G(S,b){return new Promise(function(j,N){function T(te){S.removeListener(b,B),N(te)}function B(){typeof S.removeListener=="function"&&S.removeListener("error",T),j([].slice.call(arguments))}W(S,b,B,{once:!0}),b!=="error"&&x(S,T,{once:!0})})}function x(S,b,j){typeof S.on=="function"&&W(S,"error",b,j)}function W(S,b,j,N){if(typeof S.on=="function")N.once?S.once(b,j):S.on(b,j);else if(typeof S.addEventListener=="function")S.addEventListener(b,function T(B){N.once&&S.removeEventListener(b,T),j(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}},7363:q=>{"use strict";q.exports=React},1533:q=>{"use strict";q.exports=ReactDOM}},Pi={};function Ze(q){var v=Pi[q];if(v!==void 0)return v.exports;var k=Pi[q]={id:q,loaded:!1,exports:{}};return Xn[q].call(k.exports,k,k.exports,Ze),k.loaded=!0,k.exports}Ze.n=q=>{var v=q&&q.__esModule?()=>q.default:()=>q;return Ze.d(v,{a:v}),v},Ze.d=(q,v)=>{for(var k in v)Ze.o(v,k)&&!Ze.o(q,k)&&Object.defineProperty(q,k,{enumerable:!0,get:v[k]})},Ze.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(q){if(typeof window=="object")return window}}(),Ze.hmd=q=>(q=Object.create(q),q.children||(q.children=[]),Object.defineProperty(q,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+q.id)}}),q),Ze.o=(q,v)=>Object.prototype.hasOwnProperty.call(q,v),Ze(31),Ze(5119);var lo=Ze(9893)})();
